!function(e){function t(t){for(var r,o,c=t[0],u=t[1],s=t[2],l=0,d=[];l<c.length;l++)o=c[l],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&d.push(i[o][0]),i[o]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(f&&f(t);d.length;)d.shift()();return a.push.apply(a,s||[]),n()}function n(){for(var e,t=0;t<a.length;t++){for(var n=a[t],r=!0,o=1;o<n.length;o++){var u=n[o];0!==i[u]&&(r=!1)}r&&(a.splice(t--,1),e=c(c.s=n[0]))}return e}var r={},o={24:0},i={24:0},a=[];function c(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[];o[e]?t.push(o[e]):0!==o[e]&&{1:1,3:1,4:1,7:1,10:1,18:1,20:1,21:1,22:1}[e]&&t.push(o[e]=new Promise((function(t,n){for(var r="../css/"+e+".react.authv2.cij.css",i=c.p+r,a=document.getElementsByTagName("link"),u=0;u<a.length;u++){var s=(f=a[u]).getAttribute("data-href")||f.getAttribute("href");if("stylesheet"===f.rel&&(s===r||s===i))return t()}var l=document.getElementsByTagName("style");for(u=0;u<l.length;u++){var f;if((s=(f=l[u]).getAttribute("data-href"))===r||s===i)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var r=t&&t.target&&t.target.src||i,a=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");a.request=r,delete o[e],d.parentNode.removeChild(d),n(a)},d.href=i,document.getElementsByTagName("head")[0].appendChild(d)})).then((function(){o[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=r);var a,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=function(e){return c.p+"chunk-react.authv2-"+({0:"AuthWithLetterPage",1:"AvatarRequestPage",2:"BindConfirmPage",3:"BindHintPage",4:"BindPhonePage",5:"CaptchaPage",6:"Challenge",7:"ChangePassword",8:"EmailRequestPage",9:"MethodConfirmPage",10:"MethodPage",11:"NotifyPage",12:"PhoneRequestPage",13:"PreRegisterPage",14:"RegisterLiteEnterCode",15:"RegisterLiteEula",16:"RegisterLiteNameForm",17:"RegisterLitePasswordForm",18:"RestorePasswordFinish",19:"RestorePasswordStart",20:"SignUp",21:"SocialSuggest",22:"UserEntryFlow"}[e]||e)+".ru.js"}(e);var s=new Error;a=function(t){u.onerror=u.onload=null,clearTimeout(l);var n=i[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),o=t&&t.target&&t.target.src;s.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",s.name="ChunkLoadError",s.type=r,s.request=o,n[1](s)}i[e]=void 0}};var l=setTimeout((function(){a({type:"timeout",target:u})}),12e4);u.onerror=u.onload=a,document.head.appendChild(u)}return Promise.all(t)},c.m=e,c.c=r,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)c.d(n,r,function(t){return e[t]}.bind(null,r));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="https://yastatic.net/s3/passport-static/core/v0.2.169-11/js/",c.oe=function(e){throw console.error(e),e};var u=window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[],s=u.push.bind(u);u.push=t,u=u.slice();for(var l=0;l<u.length;l++)t(u[l]);var f=s;a.push([0,23,25]),n()}({"+KfeYK7Qp7OX8tUNmyvn":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("2zFAvgXZRXm915c1LW+m"),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("DoQaHn2w4kPN7lMBHsaC"),c=n("W3MgEIO55ELSFhldjoS/"),u=n("NH34m/YMyHs61nOqvuoz");function s(){return function(e,t){var n=t(),s=n.common,l=s.track_id,f=s.csrf,d=s.retpath,p=n.challenge,h=p.challengeType,b=p.fieldValue,m={track_id:l,csrf_token:f,challenge:h};"phone_confirmation"!==h&&(m.answer=b),b.trim()?(e(Object(i.bb)(!0)),r.a.request("auth/challenge/commit",m).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if("ok"===t.status){var n="/auth/finish/?track_id=".concat(l),r="phone"===h?u.z:u.p;return d&&(n+="&retpath=".concat(encodeURIComponent(d))),c.a.send([u.o,r]),void(window.location.href=n)}e(Object(o.f)({code:"internal",text:"Что-то пошло не так. Попробуйте обновить страницу"})),e(Object(i.bb)(!1))})).fail((function(t){var n=Array.isArray(t.error)&&t.error[0],r="phone"===h?u.A:u.q;e(Object(a.a)(n)),e(Object(i.bb)(!1)),c.a.send([u.o,"".concat(r," ").concat(n)])}))):e(Object(a.a)("missingvalue"))}}},"+tm/Li9KiyyPl//IbRmR":function(e,t,n){},"/qp7eX9r2wPXqWUMVlz8":function(e,t,n){"use strict";var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("WE2RsoBXx7uBcYbdhL/w");function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=h(e);if(t){var o=h(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return p(this,n)}}function p(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(a,e);var t,n,r,i=d(a);function a(){return s(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.code,n=e.deviceInfo,r=e.showDescription,i=e.staticPath,a=e.text,c=n||"";return t?o.a.createElement("div",null,r&&o.a.createElement("p",{className:"al-send-popup__code-descr"},"Убедитесь, что видите на экране устройства %device вот эти символы:".replace("%device",c)),o.a.createElement("ul",{className:"al-send-popup__code"},t.map((function(e,t){return o.a.createElement("li",{className:"popup__code-item",key:t},o.a.createElement("img",{className:"popup__code-item-img",src:"".concat(i,"/i/magic-letter/").concat(e,".png"),alt:"magic link code image"}))}))),o.a.createElement("div",{className:"al-send-popup__code-descr",dangerouslySetInnerHTML:{__html:a}})):null}}])&&l(t.prototype,n),r&&l(t,r),a}(r.Component);t.a=Object(c.c)((function(e){var t=e.mailAuth,n=e.settings;return{code:t.code,staticPath:n.staticPath}}))(b);b.propTypes={text:a.a.string.isRequired,staticPath:a.a.string.isRequired,code:a.a.array.isRequired,deviceInfo:a.a.string,showDescription:a.a.bool}},"/uMcgEOqgXqFGRYZsai/":function(e,t,n){},0:function(e,t,n){n("342f9O25eTgcfmLKw76j"),n("ON/xCtLUvJWzCJw+VoIZ"),n("AHfrFhIwy0yFIaw4CoTN"),n("lvNEtcXKNtPMORGAXHWn"),n("gxDD3qjQ7Z5zPwOpsk3D"),n("gJ/jqNZMoDETDl6pvpMs"),n("d4vuPTjQfVxkGc819oZc"),n("bmBSyilojQCTIcY1eJgR"),n("IAwLXDtumjRSSEMh9nhk"),n("AEW/E3eXGsGegllPjGeW"),n("TiZjvEyte201C74xDeQ2"),n("nKxhmH4udVi5Kon+Abzp"),n("YS3eqn/g5hKFiA2BR82v"),e.exports=n("44h7hCI1GVe1PKviiDF6")},"0VJ4vD9W0mPXlm3h1gEP":function(e,t,n){},"0WIjD9tHEMAnwBzihU4A":function(e,t,n){},"0oyOWcuJvUtljU+ijXVz":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("mNaMim9b+xb4df3rV6hq");function a(e){return function(t,n){var a=n(),c=a.settings.ua,u=a.common.csrf,s=c&&c.isTouch,l={_uid:e,csrf_token:u};t(Object(o.bb)(!0)),r.a.request("accounts/forget",l).done((function(){t(Object(i.a)()),s&&t(Object(o.W)(!1))})).fail((function(){t(Object(i.a)())})).always((function(){return t(Object(o.bb)(!1))}))}}},"0xnSXkruYfyBM/j8Ku9B":function(e,t,n){"use strict";var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("WE2RsoBXx7uBcYbdhL/w"),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("woy4sHNOI7s+OSvKAhVR"),s=n("ChNA47itMhrlI5HSOuk4"),l=n("hbhwtfwpwcJBep3jxV99"),f=n("DNml7VDdSAs10Z4giKjv"),d=n("Es9rmdkpPfO71ZhahEM7"),p=n("DykVKCzoc0ACbI/E+LI/"),h=n("Sv+DydT6rKBct5kRKGVV");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,i=v(a);function a(){var e;m(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return w(_(e=i.call.apply(i,[this].concat(n))),"_handlePhoneChange",(function(t){(0,e.props.updatePhoneNumber)(t)})),w(_(e),"_sendConfirmationCode",(function(t){var n=e.props.sendConfirmationCode;t.preventDefault(),n()})),w(_(e),"_sendConfirmationCodeForSecurePhone",(function(t){var n=e.props.sendConfirmationCode;t.preventDefault(),n(!0)})),w(_(e),"_clearSecurePhoneNumber",(function(t){var n=e.props.clearSecurePhoneNumber;t.preventDefault(),n()})),w(_(e),"_maybeRenderClearForm",(function(){var t=e.props,n=t.isCaptchaRequired,r=t.errors,i=t.phoneNumber;return t.securePhoneNumber?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,null,"Для продолжения необходимо подтвердить номер телефона"),o.a.createElement(u.a,{handlePhoneChange:e._handlePhoneChange,sentConfirmationCode:e._sendConfirmationCode,phoneNumber:i,isCaptchaRequired:n,clearPhoneForm:e._clearPhoneForm,action:"add",errors:r}))})),w(_(e),"_maybeRenderSecurePhoneConfirm",(function(){var t,n=e.props,r=n.securePhoneNumber,i=n.errors;return i.length>0&&(t=h.a[i[0]]?h.a[i[0]]:h.a.internal),r?o.a.createElement(o.a.Fragment,null,o.a.createElement(l.a,null,o.a.createElement("span",{dangerouslySetInnerHTML:{__html:"Для продолжения необходимо подтвердить ваш номер телефона %phone".replace("%phone","<b>".concat(r,"</b>"))}})),o.a.createElement(d.a,{dataT:"phone-confirm"},t&&o.a.createElement("div",{className:"passp-form-field__error",dangerouslySetInnerHTML:{__html:t}}),o.a.createElement("div",{"data-t":"phone_submit",className:"passp-button"},o.a.createElement(f.a,{type:"submit",text:"Подтвердить",view:"action",width:"max",size:"auth-l",onClick:e._sendConfirmationCodeForSecurePhone})),o.a.createElement("div",{"data-t":"phone_reset",className:"passp-button"},o.a.createElement(f.a,{type:"submit",text:"Использовать другой номер",view:"pseudo",width:"max",size:"auth-l",onClick:e._clearSecurePhoneNumber})))):null})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.trackId;return o.a.createElement(s.a,{cls:"phone-request",dataT:"phone-request"},o.a.createElement("input",{"data-t":"track_id",type:"hidden",value:e}),this._maybeRenderClearForm(),this._maybeRenderSecurePhoneConfirm())}}])&&y(t.prototype,n),r&&y(t,r),a}(o.a.PureComponent);S.propTypes={isCaptchaRequired:c.a.bool,phoneNumber:c.a.string,securePhoneNumber:c.a.string,trackId:c.a.string.isRequired,errors:c.a.array,updatePhoneNumber:c.a.func.isRequired,sendConfirmationCode:c.a.func.isRequired,clearSecurePhoneNumber:c.a.func.isRequired};var j={updatePhoneNumber:p.u,sendConfirmationCode:p.n,clearSecurePhoneNumber:p.k};t.a=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.phoneConfirm,n=void 0===t?{}:t,r=e.common,o=void 0===r?{}:r,i=o.track_id;return Object.assign({},n,{trackId:i})}),j)(S)},"1/rhdewKX/no1FAYkAR/":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("gGLUm6icyW4lmihzoT4E");function o(){return function(e,t){var n=t(),o=n.common.preRegisterUrl;"preRegister"!==n.auth.mode&&e(Object(r.d)(o))}}},"1hgyDyPvGAR756qJDrVH":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("Cn0bb7dlXdz9iLHfBkZ3"),i=n("2zFAvgXZRXm915c1LW+m"),a=n("BiY5T7IoWQd4oP5CD4Ck"),c=n("DoQaHn2w4kPN7lMBHsaC");function u(){return function(e,t){var n=t().common,u=n.challengeUrl,s=n.track_id,l=n.csrf,f={track_id:s,csrf_token:l};o.a.request("auth/challenge/submit",f).done((function(t){e(Object(i.e)(t.challenge)),e(Object(r.d)("".concat(u).concat(s)))})).fail((function(t){var n=Array.isArray(t.error)&&t.error[0];e(Object(c.a)(n)),"challenge.limit_exceeded"===n&&e(Object(r.d)("".concat(u).concat(s)))})).always((function(){e(Object(a.bb)(!1))}))}}},"2RwP39fxF+52d7V4pFC1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("FUZ6AA4Oce8/2wMDn7Ki"),o=n("EnGa9mvY6eOwANLjrgCs");function i(e,t){return function(n){var i=window.Howl,a=e.voice&&e.voice.url;if(i&&a){var c=new i({src:e.voice.url,html5:!0,preload:!0,format:["mp3"]});c.on("load",(function(){n(Object(r.o)(e.key,null,c)),t&&n(Object(o.a)())})),c.on("loaderror",(function(){return n(Object(r.n)())})),c.on("end",(function(){return n(Object(r.j)(!1))}))}else n(Object(r.n)())}}},"2zFAvgXZRXm915c1LW+m":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"h",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"g",(function(){return l}));var r="SET_CHALLENGE_DATA",o="UPDATE_CHALLENGE_VALUE",i="SET_CHALLENGE_ERROR",a="UPDATE_CHALLENGE_TYPE";function c(e){return{type:r,data:e}}function u(e){return{type:o,value:e}}function s(e){return{type:i,error:e}}function l(e){return{type:a,newChallenge:e}}},"30SY6zyJjGxELFqjE9vf":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("ASEr53XqCuCT+n2xGemq");var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("O5/wDFcDcr7psfl422DM"),u=Object(c.a)("BackButton"),s=function(e){var t=e.onClick,n=e.place,r=e.mode,i=void 0===r?"back":r;return t?o.a.createElement("button",{type:"button",tabIndex:"-1",className:u("",{place:n,mode:i}),onClick:t}):null};s.propTypes={onClick:a.a.func,place:a.a.string,mode:a.a.oneOf(["back","close"])}},"3SewCLWW8iw8dE1QvVmN":function(e,t,n){},"3TeZqcX6a5l9BQy9URn1":function(e,t,n){},"3e/Srl1fAuUQPt0tkE5i":function(e,t,n){"use strict";n.d(t,"i",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"e",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return f})),n.d(t,"p",(function(){return d})),n.d(t,"o",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"n",(function(){return b})),n.d(t,"q",(function(){return m})),n.d(t,"m",(function(){return y})),n.d(t,"r",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"s",(function(){return O})),n.d(t,"j",(function(){return _}));var r="PUBLIC_UPDATE_AVATAR_UPLOAD_METHOD",o="PUBLIC_UPDATE_AVATAR_SET_TRACK",i="PUBLIC_UPDATE_AVATAR_ERROR",a="PUBLIC_AVATAR_SET_PROCESSING_STATUS",c="PUBLIC_AVATAR_UPDATE_URL",u="PUBLIC_AVATAR_RESET_URL",s="PUBLIC_AVATAR_UPDATE_IMAGE_OPTIONS",l="PUBLIC_AVATAR_SET_LOADING_STATUS",f="PUBLIC_AVATAR_CHANGE_UPDATE_STATUS";function d(e){return{type:"PUBLIC_UPDATE_DISPLAYNAME_UPDATE_LOADING_STATUS",isLoading:e}}function p(e){return{type:"PUBLIC_UPDATE_DISPLAYNAME_ERROR",error:e}}function h(e){return{type:i,error:e}}function b(e){return{type:a,isProcessing:e}}function m(e){return{type:l,isLoading:e}}function y(e){return{type:o,trackId:e}}function g(e){return{type:c,urlData:e}}function v(e){return{type:u,resetUrl:e}}function O(e){return{type:s,options:e}}function _(e){return{type:f,isUpdated:e}}},"3edjVwh6RYKvTnOcIRp7":function(e,t,n){},"3jQNbST1kIlUrdI/RR8z":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("qyhOylcYgz7sofzu7jFu"),a=n("W3MgEIO55ELSFhldjoS/"),c=n("NH34m/YMyHs61nOqvuoz");function u(){return function(e,t){var n=t(),u=n.common,s=u.restorePasswordUrl,l=u.restorePasswordCaptchaUrl,f=u.addUserUrl,d=u.experiments.flags,p=n.restorePassword.errors,h=Boolean(p.code)?s:l;e(Object(o.xb)(f)),e(Object(i.w)(h)),e(Object(o.yb)("restore-password")),e(Object(r.d)(h)),a.a.send([c.Bb,"".concat(c.ec,", эксперимент: ").concat(d)])}}},"3oqfWFh/3VAjgqusG6t6":function(e,t,n){},"44h7hCI1GVe1PKviiDF6":function(e,t,n){"use strict";n.r(t);n("fiNMh9a7onCJ8JQLzlml"),n("G+nv+TLAXhe/Vr3UPZDW");var r,o,i=n("8SCZFIl/r0BKJR1Q9GmD"),a=n.n(i),c=n("WE2RsoBXx7uBcYbdhL/w"),u=n("z/BU1fFzjI04SzyUyEkC"),s="3070",l="3036",f="react.inited",d=function(e){"undefined"!=typeof Ya&&Ya.Rum&&"function"==typeof Ya.Rum.sendTimeMark&&Ya.Rum.sendTimeMark(e)},p=n("orGJv1osmJpP2TM33F0c"),h=n("Cn0bb7dlXdz9iLHfBkZ3"),b=n("n4qmQ1un7LO1pUfezZ0B"),m=n.n(b),y=n("W3MgEIO55ELSFhldjoS/"),g=n("7CdAhs8eUPk6XSbAucx2"),v=n.n(g),O={init:function(e){var t=e.getState();v.a.init(t.monitoring),this.initialized=!0},send:function(e){this.initialized&&v.a.send(e)}},_=n("dbQGcO8bADqwtDqc3mez"),E=n("BiY5T7IoWQd4oP5CD4Ck"),w=n("NH34m/YMyHs61nOqvuoz"),S=n("4CLY6EXHBdRASoqLgoNs"),j=n("buqWOCdf14bbF2aD2r0s"),C=n("icG+8Jgv+BJiTL/fPTrX"),R=n("xSpN8Kyw4VlgAPhFVdtL"),k={init:function(e){this.setStore(e)},start:function(e){this.restart(e)},restart:function(){var e=this,t=this.getStore().getState(),n=t.common,r=n.track_id,o=n.csrf;e.track_id=r,e.csrf_token=o,e.retpath=Object(C.f)(t),e.trackNotFoundErrorCount=0,e.stop(),e._interval=300,window.intervalTimeout=setTimeout((function(){e._interval=1e3}),6e4),window.redirectTimeout=setTimeout((function(){window.location.reload(!0)}),6e5),e._stopped=!1,e.restartPolling()},restartPolling:function(){var e=this;e._stopped||setTimeout((function(){e.poll()}),e._interval)},poll:function(){var e=this,t=this.getStore();$.ajax("/auth/letter/status/",{data:{track_id:e.track_id,csrf_token:e.csrf_token,retpath:e.retpath},dataType:"json",type:"POST"}).done((function(n){if(n.state&&"auth_challenge"===n.state)return e.stop(),void(window.location.href="/auth/challenges/?track_id=".concat(n.track_id));if("ok"===n.status&&n.magic_link_confirmed){e.stop(),y.a.send([w.Fc]);var r="/auth/finish/?track_id=".concat(n.track_id);return(n.retpath||e.retpath)&&(r+="&retpath=".concat(encodeURIComponent(n.retpath||e.retpath))),void(window.location.href=r)}if(n.errors){var o=(t.getState().auth.processedAccount||{}).primaryAliasType,i=Object(R.b)(o)===R.a.LITE,a="magic_link.invalidated"===n.errors[0]&&!i?"messenger_link.invalidated":n.errors[0],c=["track.not_found","track_id.empty"].includes(a);if(t.dispatch(Object(E.Y)(!1)),c||(e.stop(),t.dispatch(Object(E.mb)(a))),"captcha.required"===a)return t.dispatch(Object(E.vb)("")),t.dispatch(Object(E.U)(!0)),t.dispatch(Object(E.kb)(!0)),void t.dispatch(Object(S.a)());if("magic_link.invalidated"===a||"messenger_link.invalidated"===a){var u=t.getState(),s=u.mailAuth.isUpdatedAuthLetterStatus,l=u.auth.processedAccount;if(1===l.allowed_auth_methods.length)return void t.dispatch(Object(j.a)());if(!s){var f=Object.assign({},l);f.allowed_auth_methods=f.allowed_auth_methods.filter((function(e){return"magic_link"!==e})),t.dispatch(Object(E.Z)(f))}}if(c){if(e.trackNotFoundErrorCount>5)return e.stop(),void t.dispatch(Object(E.mb)("global"));e.trackNotFoundErrorCount++,e.restartPolling()}}e.restartPolling()}))},setStore:function(e){r=e},getStore:function(){return r},stopPoll:function(){this._stopped=!0},stop:function(){clearTimeout(window.intervalTimeout),clearTimeout(window.redirectTimeout),this.stopPoll()}},P=n("qyhOylcYgz7sofzu7jFu");function T(e){return{type:"UPDATE_PASSWORD_VALUE",value:e}}function A(){return function(e){e((function(e){e({type:"SWITCH_TO_MAGIC"})}))}}function N(e){var t=document.createElement("form"),n=document.createElement("input");t.method="GET",t.action="/redirect",n.value=e,n.name="url",t.appendChild(n),document.body.appendChild(t),t.submit(),t.parentNode.removeChild(t)}function L(){return function(e){e({type:"SHOW_ACCOUNTS"}),h.a.request("accounts").done((function(t){e(Object(P.z)(t.csrf)),e({type:"SHOW_ACCOUNTS_SUCCESS",accounts:t.accounts})})).fail((function(t){e({type:"SHOW_ACCOUNTS_FAIL",res:t})}))}}var M={init:function(e){var t=this,n=document.getElementsByClassName("passport-ScreenBox-Content")[0];o=e,window.addEventListener?(window.addEventListener("message",t.onSuccess),n.addEventListener("transitionend",t.onProcessAnimationEnd,!1)):(window.attachEvent("onmessage",t.onSuccess),window.attachEvent("transitionend",t.onProcessAnimationEnd)),window.location.origin||(window.location.origin="".concat(window.location.protocol,"//").concat(window.location.hostname)),window.response=function(e){t.onSuccess({origin:location.origin,data:{asyncAuth:e}})}},onProcessAnimationEnd:function(e){o.dispatch(function(e){return function(t){"transform"===e.propertyName&&t({type:"PROCESS_ANIMATION_END",event:e})}}(e))},onSuccess:function(e){var t,n,r,i,a,c,u,s,l;if(e.origin===location.origin&&e.data.asyncAuth){if(n=(t=m.a.util.getUrlParamsV2(e.data.asyncAuth)).errors,r=t.source?"Экран саджеста":"Экран пустого домика",i="yes"===t.magic?"otp":"password",n&&y.a.send([r,"Показ ошибки",n]),"ok"===t.status&&"check"===t.action)return void o.dispatch((l=!0,{type:"CHECK_IFRAME",isPassed:l}));"ok"!==t.status||t.action||(y.a.goal("".concat("one_domik","_auth_success")),y.a.send([r,"Успешный вход",{method:i}])),"ok"===t.status&&"logout"!==t.action?o.dispatch((function(e,t){var n=t(),r=n.common.retpath||n.common.profile_url;e({type:"REDIRECT_TO_RETPATH"}),N(r)})):"yes"===t.magic?("suggested"!==t.source&&o.dispatch(A()),"password.not_matched"===n&&(n="password.not_matched_2fa"),o.dispatch(function(e){return function(t){e&&["password.not_matched_2fa","password.empty"].indexOf(e)>-1&&t(T("")),t({type:"SHOW_MAGIC_ERROR",errors:e})}}(n))):"other"!==t.status||!t.url||["account.disabled","account.disabled_on_deletion"].indexOf(t.errors)>-1?(o.dispatch((a=t,function(e,t){var n=t().one_domik;a.errors&&["password.not_matched","password.empty","rfc_otp.invalid","code.invalid","code.empty"].indexOf(a.errors)>-1&&e(T("")),n.captchaRequired&&a.errors&&["captcha.invalid","captcha.required"].indexOf(a.errors)>-1&&e(Object(S.a)()),e({type:"PROCESS_EMB_ANSWER",data:a})})),"ok"===t.status&&o.dispatch(L())):"rfc_totp"===t.state?o.dispatch((function(e){e({type:"SWITCH_TO_RFC_TOTP"})})):"email_code"===t.state?o.dispatch((function(e,t){var n=t().common,r=n.track_id,o=n.csrf;e({type:"SWITCH_TO_EMAIL_CODE"});var i={track_id:r,csrf_token:o};h.a.request("auth/multi_step/submit_email_code",i).done((function(){return e({type:"SUBMIT_EMAIL_CODE_SUCCESS"})})).fail((function(t){return e({type:"SUBMIT_EMAIL_CODE_FAIL",errors:t.errors&&t.errors[0]||"internal"})}))})):(c=decodeURIComponent(t.url),u=document.createElement("form"),s=document.createElement("input"),u.method="GET",u.action="/redirect",s.value=c,s.name="url",u.appendChild(s),document.body.appendChild(u),u.submit(),u.parentNode.removeChild(u)),o.dispatch({type:"DOMIK_IS_LOADING",loading:!1})}}},x=n("O5/wDFcDcr7psfl422DM"),I={init:function(e){var t=e.getState().common.isYandex,n=Object(x.e)(),r=n.retpath,o=n.mode,i=n.force_auth,a=n.no_pulse,c=this;"1"!==a&&(t||r&&"1"!==i&&-1===["add-user","edit"].indexOf(o)&&(setTimeout((function(){c.POLLING_TIMEOUT=5e3,c.LEADER_TIMEOUT=15e3}),6e4),Object(x.m)("localStorage")&&(window.addEventListener("storage",this.onStorage.bind(this)),this.chooseWay(null))))},POLLING_TIMEOUT:1e3,LEADER_TIMEOUT:3e3,chooseWay:function(e){var t=localStorage.getItem("pid");return e===t?this.startAsALeader():this.startAsANormie(t)},startAsALeader:function(){var e=this,t=this.generateId(10);localStorage.setItem("pid",t),setTimeout((function(){return e.singleRequest(t)}),this.POLLING_TIMEOUT)},startAsANormie:function(e){var t=this;setTimeout((function(){return t.chooseWay(e)}),this.LEADER_TIMEOUT)},finish:function(){localStorage.removeItem("pid"),this.reload()},onStorage:function(e){"pid"===e.key&&null===e.newValue&&this.reload()},reload:function(){window.location.search+="&no_pulse=1"},singleRequest:function(e){var t=this;m.a.api.request("/auth/pulse",{}).done((function(n){"ok"===n.status?t.finish():t.chooseWay(e)})).fail((function(){t.chooseWay(e)}))},dec2hex:function(e){return"0".concat(e.toString(16)).substr(-2)},generateId:function(e){var t=new Uint8Array((e||40)/2);return(window.crypto||window.msCrypto).getRandomValues(t),[].slice.call(t).map(this.dec2hex).join("")}},D=n("gGLUm6icyW4lmihzoT4E"),q=n("dF74zivbHpQBxV7py66p"),U=function(e){var t=e.App,n=e.configureStore,r=e.metricsData,o=void 0===r?["показ страницы"]:r,i=e.withProvider,b=void 0===i||i,g=e.withMagic,v=void 0!==g&&g,E=e.withRouter,w=void 0!==E&&E,S=e.withCheckHuman,j=void 0!==S&&S,C=e.history,R=e.replaceHistory,P=e.broker,T=e.isOneDomik,A=void 0!==T&&T;d(s);var N=document.querySelector("#storeScript"),L=window.__REDUX_STORE__;R&&C.replace("".concat(R).concat(location.search).concat(location.hash));var x=b?n(L,C):L;R&&x.dispatch(Object(D.e)("".concat(R).concat(location.search).concat(location.hash)));var U=L.settings,B=void 0===U?{}:U,F=L.common,H=void 0===F?{}:F,W=B.language,z=H.track_id,V=H.dev,G=H.csrf;delete window.__REDUX_STORE__,N.parentNode.removeChild(N),b&&(h.a.init(x),m.a.init({trackId:z,csrf:G}),v&&(_.a.init(x),k.init(x)),y.a.init(x),O.init(x),P&&P.init(x),A&&(M.init(x),I.init(x))),j&&m.a.api.request("checkjsload",{track_id:z,language:W});var Y=b?a.a.createElement(c.a,{store:x},w?a.a.createElement(q.a,{history:C},a.a.createElement(t,null)):a.a.createElement(t,null)):a.a.createElement(t,x);Object(u.hydrate)(Y,document.getElementById("root")),d(f),d(l),"undefined"!=typeof Ya&&Ya.Rum&&"function"==typeof Ya.Rum.sendHeroElement&&Ya.Rum.sendHeroElement(),j&&!V&&p.a.init({trackId:z}),b&&(y.a.send(o),window.onload=function(){setTimeout((function(){O.send({event:"load"})}),0)})},B=n("YR4SqEXfdD7NE+trg0fI"),F=n.n(B),H=n("CCXVZ27A5l6hmPXwLTrH"),W=n("RtoYEtkbxQ+mibaABznE"),z=n("ZDmX7r9YifVbosUR2qgY"),V=n("xFFaI0x356mCCN9B5+Ia"),G=n("UMkmG0pdT45h5d0ekVwb"),Y=n.n(G),X=n("pljtMiJ6cPwIsouCAJRc"),Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case P.g:return Object.assign({},e,{actionForRepeat:{action:t.actionToCall,payload:t.payload}});case P.j:return Object.assign({},e,{edit:t.edit});case P.m:return Object.assign({},e,{showRegPopup:t.show});case P.a:var n=e.historyOnPassport;switch(t.historyEvent){case"POP":n-=1;break;case"PUSH":n+=1}return Object.assign({},e,{currentPage:t.currentPage,historyOnPassport:n});case P.f:return m.a.track_id=t.track_id,Object.assign({},e,{track_id:t.track_id});case P.p:return Object.assign({},e,{track_id:t.track_id});case P.o:return Object.assign({},e,{csrf:t.token});case P.h:return Object.assign({},e,{backPane:t.pane});case X.a:return Object.assign({},e,{track_id:t.track_id,magic_csrf_token:t.csrf_token});case P.i:return Object.assign({},e,{pane:t.pane});case P.n:return Object.assign({},e,{isBackPaneVisible:t.isBackPaneVisible});case P.b:return Object.assign({},e,{countries:t.countries});case P.c:return Object.assign({},e,{timezones:t.timezones});case P.k:return Object.assign({},e,t.payload);default:return e}},K=n("OWyp9q5IAHy11NTyZQSA"),J=n("3e/Srl1fAuUQPt0tkE5i"),Z=n("6QkgGlmAmJL/UXgTfwXy");function ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.z:return Object.assign({},e,{loginError:t.error});case E.A:return Object.assign({},e,{isAbleToRestore:t.isAbleToRestore});case E.C:return Object.assign({},e,{passwordError:t.error});case E.w:return Object.assign({},e,{captchaError:t.error});case E.B:return Object.assign({},e,{magicError:t.error});case E.d:return Object.assign({},e,{form:Object.assign({},e.form,{isCanRegister:t.isCanRegister,registrationLogin:t.registrationLogin||"",registrationType:t.registrationType||"",registrationPhoneNumber:t.registrationPhoneNumber||"",registrationCountry:t.registrationCountry||""})});case E.k:return Object.assign({},e,{method:"password",processedAccount:t.account});case E.Q:return Object.assign({},e,{form:Object.assign({},e.form,{login:t.value||"",loginError:!t.value&&e.form.login?null:e.form.loginError,isForceOTP:t.value===e.form.login&&e.form.isForceOTP})});case E.S:return Object.assign({},e,{form:Object.assign({},e.form,{password:t.value})});case E.P:return Object.assign({},e,{form:Object.assign({},e.form,{captcha_answer:t.value})});case E.e:return Object.assign({},e,{authorizedAccountsDefaultUid:t.uid});case E.q:return Object.assign({},e,{method:t.account.preferred_auth_method,processedAccount:t.account});case E.p:return Object.assign({},e,{inputLogins:Object.assign({},e.inputLogins,t.inputLogin)});case E.F:var n=t.accounts,r=n.authorizedAccounts,o=n.authorizedAccountsDefaultUid,i=n.unitedAccounts,a=n.suggestedAccounts;return Object.assign({},e,{authorizedAccounts:r,authorizedAccountsDefaultUid:o,unitedAccounts:i,suggestedAccounts:a});case E.E:return Object.assign({},e,{errors:{},loading:!1});case E.G:return Object.assign({},e,{mode:"addingAccount"});case E.H:return Object.assign({},e,{mode:"edit"});case E.M:return Object.assign({},e,{mode:"welcome"});case E.I:return Object.assign({},e,{isFromLoginSuggest:Boolean(t.isFromLoginSuggest)});case E.J:return Object.assign({},e,{mode:"restoreLogin"});case E.K:return Object.assign({},e,{mode:"restoreLoginProcess"});case E.L:return Object.assign({},e,{mode:"restoreLoginResult"});case E.r:return Object.assign({},e,{mode:t.mode});case E.f:return Object.assign({},e,{isCaptchaRequired:t.isCaptchaRequired});case E.n:return Object.assign({},e,{form:Object.assign({},e.form,{isForceOTP:t.isForceOTP})});case E.m:return Object.assign({},e,{loading:t.loading});case J.c:return Object.assign({},e,{loading:t.isLoading});case E.R:return Object.assign({},e,{magicCSRF:t.csrf,magicTrack:t.track});case K.m:return Object.assign({},e,{mode:"registerLite"});case Z.a:return Object.assign({},e,{authBySMS:t.payload});default:return e}}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.c:return Object.assign({},e,{isAuthMailSent:!0,code:t.code});case E.b:return Object.assign({},e,{isAuthConfirmed:!0,retpath:t.retpath});case E.a:return Object.assign({},e,{isAuthCancelled:t.status});case E.O:return Object.assign({},e,{isAuthMailConfirmationVisible:t.isVisible});case E.u:return Object.assign({},e,{mailAuthError:t.error});case E.Q:return Object.assign({},e,{isAuthMailSent:!1,isAuthConfirmed:!1,isAuthCancelled:!1,isAuthMailConfirmationVisible:!1,mailAuthError:"",isUpdatedAuthLetterStatus:!1});case E.v:return Object.assign({},e,{isUpdatedAuthLetterStatus:t.isUpdated});case E.s:return Object.assign({},e,{isEnabled:!1});case E.t:return Object.assign({},e,{isEnabled:!0});default:return e}}var ne=n("exOCWzlfu86/I8jXI0mZ");function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne.a:return Object.assign({},e,{isSent:!0,code:t.code});case ne.b:return Object.assign({},e,{error:t.error});case E.a:return Object.assign({},e,{isCancelled:t.status});case E.u:return Object.assign({},e,{error:t.error});default:return e}}var oe=n("qNly8dhllnc8zlQVzo3x"),ie={phone:"",firstName:"",lastName:"",confirmationCode:"",isPhoneCheckSent:!1,callingNumberTemplate:"+7 901 XXX-ХХ-ХХ",accounts:[],errors:{},confirmMethod:"by_sms",isCallExp:!1,isFlashCallExp:!1,isValidPhone:!1,isPhoneOverheated:!1};function ae(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.J:var n="by_sms";return e.isCallExp&&(n="by_call"),e.isFlashCallExp&&(n="by_flash_call"),Object.assign({},ie,{confirmMethod:n,isCallExp:e.isCallExp,isFlashCallExp:e.isFlashCallExp});case oe.e:return Object.assign({},e,{phone:t.phone,isValidPhone:!1,isPhoneOverheated:!1});case oe.f:return Object.assign({},e,{isPhoneOverheated:t.isPhoneOverheated});case oe.c:return Object.assign({},e,{firstName:t.firstName});case oe.d:return Object.assign({},e,{lastName:t.lastName});case oe.b:return Object.assign({},e,{confirmationCode:t.confirmationCode});case oe.j:return Object.assign({},e,{accounts:t.accounts});case oe.l:return Object.assign({},e,{callingNumberTemplate:t.callingNumberStr});case oe.a:return Object.assign({},e,{isPhoneCheckSent:t.isPhoneCheckSent});case oe.k:return Object.assign({},e,{confirmMethod:t.confirmMethod});case oe.i:return Object.assign({},e,{errors:t.errors});case oe.h:return Object.assign({},e,{errors:{}});case oe.g:return Object.assign({},e,{isValidPhone:t.isValidPhone});default:return e}}var ce=n("9s/32m/Ov0dlcLEPGLU+"),ue=n("QgjbgVDbzfInN/CjWaXi"),se={trackId:null,isCaptchaRepeatRequired:!1,methods:[],selectedMethod:"",logins:[],errors:{},urls:{}};function le(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.a:return Object.assign({},e,{trackId:t.payload.trackId,logins:t.payload.logins,urls:t.payload.urls});case ce.b:return Object.assign({},e,{methods:t.methods});case ce.g:return Object.assign({},e,{selectedMethod:t.method,methodInfo:t.methodInfo});case ce.e:return Object.assign({},e,{errors:t.error});case ce.f:var n=Object.assign({},e.processState,t.processState);return Object.assign({},e,{processState:n});case ce.d:return Object.assign({},e,{isCaptchaRepeatRequired:t.isRequired});case ce.c:return Object.assign({},e,{isPhoneValidForCall:t.isValidForCall,number:t.number});case P.l:return Object.assign({},e,{questionsList:t.questions});case ce.h:return Object.assign({},e,{bindHint:Object.assign({},e.bindHint||{},t.payload)});case ue.a:return Object.assign({},e,{trackId:null});default:return e}}var fe={track_id:"",login:"",firstname:"",lastname:"",password:"",confirmationCode:"",errors:{},passwordWarning:"",passwordErrorDescription:"",isLoginRequired:!1,isPasswordValid:!1};function de(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case K.l:return Object.assign({},fe,{track_id:t.track_id});case K.b:return Object.assign({},e,{firstname:t.firstname});case K.c:return Object.assign({},e,{lastname:t.lastname});case K.a:return Object.assign({},e,{confirmationCode:t.confirmationCode});case K.e:return Object.assign({},e,{password:t.password});case K.f:return Object.assign({},e,{passwordConfirm:t.passwordConfirm});case K.d:return Object.assign({},e,{login:t.login});case K.j:return Object.assign({},e,{errors:t.errors});case K.g:return Object.assign({},e,{isLoginRequired:!0});case K.i:return Object.assign({},e,{passwordWarning:t.warning});case K.h:return Object.assign({},e,{passwordErrorDescription:t.text});case K.k:return Object.assign({},e,{isPasswordValid:t.isValid});default:return e}}function pe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.h:return Object.assign({},e,{isShowMobileMenu:t.visible,mobileMenuType:t.visible?e.mobileMenuType:null});case E.g:return Object.assign({},e,{mobileMenuType:t.mobileMenuType});case E.D:return Object.assign({},e,{processedAccountUid:t.processedAccountUid});default:return e}}function he(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.j:return Object.assign({},e,{isShowPagePopup:t.visible,pagePopupType:t.visible?e.pagePopupType:null});case E.i:return Object.assign({},e,{pagePopupType:t.pagePopupType});case"@@router/LOCATION_CHANGE":return Object.assign({},e,{isShowPagePopup:!1,pagePopupType:null});default:return e}}var be=n("FUZ6AA4Oce8/2wMDn7Ki"),me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be.a:return Object.assign({},e,{playing:t.playing});case be.b:return Object.assign({},e,{type:"text"===e.type?"audio":"text"});case be.h:return Object.assign({},e,{loading:!0,loadingAudio:!0});case be.d:return Object.assign({},e,{loadingAudio:!0});case be.g:var n={loading:!1,key:t.key,imageUrl:t.imageUrl};return Object.assign({},e,n);case be.f:var r={loadingAudio:!1,key:t.key};return t.introSound&&(r.introSound=t.introSound),t.captchaSound?r.captchaSound=t.captchaSound:r.captchaSound=null,Object.assign({},e,r);case be.e:return Object.assign({},e,{loadingAudio:!1});case be.c:return Object.assign({},e,{loading:!1,loadingAudio:!1,playing:!1,type:"text",key:null,imageUrl:null,introSound:null,captchaSound:null,trackId:null});case be.i:return Object.assign({},e,{trackId:t.trackId});default:return e}},ye=n("NoFeXeyUaLnlF3HDY2SY");function ge(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ye.a:return Object.assign({},e,{captchaAnswer:t.captchaAnswer});case ye.b:return Object.assign({},e,{isCaptchaRequired:t.isCaptchaRequired});case ye.f:return Object.assign({},e,{phone:Object.assign(e.phone,{number:t.phoneNumber})});case ye.e:return Object.assign({},e,{email:t.email});case ye.c:return Object.assign({},e,{confirmationCode:t.confirmationCode});case ye.d:return Object.assign({},e,{isConfirmationCodeSent:t.isConfirmationCodeSent});case ye.h:return Object.assign({},e,{isConfirmationCodeSent:!0});case ye.i:var n=t.payload;return Object.assign({},e,{phone:Object.assign(e.phone,{number:n.number.original}),denyResendUntil:1e3*n.deny_resend_until,isConfirmationCodeSent:!0});case ye.g:return Object.assign({},e,{errors:[]});case ye.j:var r=t.errors,o=Boolean(r.join(",").match(/captcha\./));return Object.assign({},e,{errors:r,isCaptchaRequired:o});case E.o:var i=t.payload,a={};if(Object.assign(a,{status:"ok",isConfirmationCodeSent:!1,isCaptchaRequired:!1,confirmationCode:"",errors:[],denyResendUntil:null}),i&&i.state){var c=i.phone,u=i.email,s=i.social,l=i.track_id;Object.assign(a,{state:i.state,action:i.action,track_id:l}),"email"===i.state?a[i.state]=u||"":a[i.state]=c||s||{},"phone"===i.state&&(a.phone.id=String(a.phone.id||""),a.phone.number=String(a.phone.number||""))}return Object.assign({},a);default:return e}}var ve={track_id:null,default_300:"",avatarSize_300:"",avatarPrev:"",isProcessing:!1,isLoading:!1,fileType:"jpeg",compression:.6,isCropNotSupported:!1,error:"",isOptionalStep:!0,isUpdated:!1};function Oe(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case J.i:return Object.assign({},e,{uploadMethod:t.method});case J.h:return Object.assign({},e,{track_id:t.trackId});case J.g:return Object.assign({},e,{error:t.error});case J.d:return Object.assign({},e,{isProcessing:t.isProcessing});case J.c:return Object.assign({},e,{isLoading:t.isLoading});case J.f:return Object.assign({},e,{avatarSize_300:t.urlData.url||e.avatarSize_300,avatarPrev:t.urlData.prevUrl||e.default_300});case J.b:return Object.assign({},e,{avatarSize_300:t.resetUrl});case J.e:return Object.assign({},e,{fileType:t.options.type,compression:t.options.compression});case J.a:return Object.assign({},e,{isUpdated:t.isUpdated});default:return e}}var _e=n("2zFAvgXZRXm915c1LW+m");function Ee(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};switch(t.type){case _e.a:return Object.assign({},e,t.data);case _e.d:return Object.assign({},e,{fieldValue:t.value});case _e.b:var n=t.error,r=n.text,o=n.code;return Object.assign({},e,{errorText:r,errorCode:o});case _e.c:return Object.assign({},e,{alternative:{challengeType:e.challengeType,hint:e.hint},challengeType:t.newChallenge.type,hint:t.newChallenge.hint});default:return e}}var we=n("DykVKCzoc0ACbI/E+LI/"),Se={phoneNumber:"",securePhoneNumber:"",errors:[],confirmationCode:"",isConfirmationCodeSent:!1,isCaptchaRequired:!1,phoneConfirmMethod:"by_sms",denyResendUntil:"",callingNumberTemplate:"",shouldCheckPhone:!1},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case we.d:case we.b:case we.g:case we.c:case we.e:return Object.assign({},e,o);case we.j:var i=o.phoneNumber;return Object.assign({},e,{phoneNumber:i});case we.i:var a=o.confirmationCode;return Object.assign({},e,{confirmationCode:a});case we.f:var c=o.errors;return Object.assign({},e,{errors:c});case we.h:return Object.assign({},e,{denyResendUntil:Number(new Date)+3e4});case we.a:return Object.assign({},e,{securePhoneNumber:""});default:return e}},Ce=n("JR0gMBnH1G7ZT7pBXXBz"),Re={mode:"",step:"",suggestToRestore:!1},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case Ce.a:var i=o.step;return Object.assign({},e,{step:i});case Ce.d:var a=o.suggestToRestore;return Object.assign({},e,{suggestToRestore:a});case Ce.c:var c=o.mode;return Object.assign({},e,{mode:c});case Ce.b:return Object.assign({},e,{step:"",suggestToRestore:!1});default:return e}},Pe=n("Yp2QB2jYYmLrYZQDlfoW");function Te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ae={firstname:"",lastname:"",login:"",email:"",password:"",password_confirm:"",hint_question_id:"",hint_question:"",hint_question_custom:"valid",hint_answer:"",captcha:"",phone:"",phoneCode:"",phoneCodeStatus:""};function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Le={name:"",firstname:"",lastname:"",surname:"",login:"",email:"",password:"",password_confirm:"",hint_question_id:"",hint_question:"",hint_question_custom:"",hint_answer:"",captcha:"",phone:"",phoneCode:"",publicId:""};function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var xe={active:"",hintActive:!1,firstname:{code:"",text:""},lastname:{code:"",text:""},login:{code:"",text:""},email:{code:"",text:""},password:{code:"",text:"",warning:!1},password_confirm:{code:"",text:""},hint_question_id:{code:"",text:""},hint_question:{code:"",text:""},hint_question_custom:{code:"",text:""},hint_answer:{code:"",text:""},captcha:{code:"",text:""},phone:{code:"",text:""},phoneCode:{code:"",text:""},phoneCodeStatus:""};var Ie={method:"phone",humanConfirmationDone:!1};var De=Object(z.c)({states:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe.B:return Object.assign({},e,Te({},t.data.field,t.data.status));case Pe.w:return Object.assign({},e,{hint_question:t.data.status,hint_question_id:t.data.status});case Pe.v:return Object.assign({},e,{hint_question_custom:t.data.status});case Pe.x:return Object.assign({},e,{phoneCode:t.status});case Pe.y:return Object.assign({},e,{phone:"",phoneCode:"",phoneCodeStatus:""});case Pe.r:return Object.assign({},e,t.fields);case Pe.d:return Ae;default:return e}},values:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe.D:return Object.assign({},e,Ne({},t.data.field,t.data.value));case Pe.z:return Object.assign({},e,{phone:"",phoneCode:""});case Pe.A:return Object.assign({},e,{hint_question_id:t.data.hint_question_id,hint_question:t.data.hint_question});case Pe.d:return Le;default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe.s:var n,r=Object.assign({},e,(Me(n={active:t.data.active?t.data.field:""},t.data.field,t.data.error),Me(n,"errorDescription",t.data.errorDescription||""),n));return t.data.warning&&(r.warning=t.data.warning),t.data.active||t.data.field===e.active||(r.active=e.active),r;case Pe.t:return Object.assign({},e,Me({active:e.active===t.field?"":e.active,errorDescription:""},t.field,{code:"",text:""}));case Pe.l:return Object.assign({},e,t.data);case Pe.u:return Object.assign({},e,{hintActive:t.status});case Pe.k:return Object.assign({},e,{active:t.field});case Pe.d:return xe;default:return e}},validation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ie,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe.C:return Object.assign({},e,{method:t.method});case Pe.g:return Object.assign({},e,{humanConfirmationDone:t.state});case"EMAIL_CONFIRMATION_DONE":return Object.assign({},e,{emailConfirmationDone:t.state});case Pe.E:return Object.assign({},e,{isValidPhoneForCall:t.isValid});case Pe.c:return Object.assign({},e,{phoneConfirmationType:t.phoneConfirmationType});case Pe.m:return Object.assign({},e,{magicConfirmationCode:t.code});case Pe.h:return Object.assign({},e,{callConfirmationTimer:t.timer});case Pe.b:return Object.assign({},e,{isCallConfirmationInProcess:t.process});case Pe.e:return Object.assign({},e,{isForceCheckedConfirmationCode:!0});case Pe.j:return Object.assign({},e,{confirmationCodeLength:t.codeLength});case Pe.d:return Ie;default:return e}},humanConfirmation:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Pe.f:return Object.assign({},e,{questionList:t.questions});case Pe.q:return Object.assign({},e,{isFetching:t.data.isFetching});default:return e}},confirmationRetryCountdown:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;return e},isEulaCheckedByDefault:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},isPhoneCanBePrefilled:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isPhoneCallConfirmationAvailable:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isForcePhoneCallConfirmation:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isDiscardCallConfirmation:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isMobileRecallBtnRemoved:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isMobileCallConfirmationOnly:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},isEulaShowedInPopup:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e},canSwitchConfirmationMethod:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e},activeField:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return t.type===Pe.a?t.field:e},captchaRequired:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return t.type===Pe.i?t.isRequired:e},formErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e},captchaErrors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e},type:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e},prefix:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e},isPasswordVisible:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type===Pe.p?!e:e},passwordWeight:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.type===Pe.n){var n=t.payload,r=void 0===n?{}:n,o=r.passwordWeight;return o}return e},suggestedPassword:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t.type===Pe.o){var n=t.payload,r=void 0===n?{}:n,o=r.suggestedPassword;return o}return e}});function qe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ue={},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case ue.c:var i=o.type,a=o.id;return Object.assign({},e,qe({},"".concat(i,"TrackId"),a));case ue.a:var c=o.type;return Object.assign({},e,qe({},"".concat(c,"TrackId"),void 0));default:return e}},Fe=n("s7ETookYgfkMG6aMgioe"),He={status:"ok",code:"",text:"",descriptionText:""};function We(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.h:return Object.assign({},e,{status:t.data.status,code:t.data.code,text:t.data.text,descriptionText:t.data.descriptionText});default:return e}}var ze={loginsList:[],isFetching:!1,isValidating:!1};function Ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ze,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Fe.b:return Object.assign({},e,{loginsList:t.data.logins,isFetching:t.data.isFetching||!1});case Fe.g:return Object.assign({},e,{isValidating:t.isValidating});case Fe.a:return Object.assign({},e,{loginsList:[]});default:return e}}var Ge=n("ZhSnxcFTtIAlY+v3R+s6"),Ye={step:"",processedUid:"",processError:{status:"ok",code:"",text:"",descriptionText:""},isCaptchaRequired:!1},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ye,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case Ge.b:var i=o.step;return Object.assign({},e,{step:i});case Ge.e:var a=o.processError;return Object.assign({},e,{processError:a});case Ge.f:var c=o.processedUid;return Object.assign({},e,{processedUid:c});case Ge.d:return Ye;case Ge.c:return Object.assign({},e,{processError:Ye.processError});case Ge.a:var u=o.isCaptchaRequired;return Object.assign({},e,{isCaptchaRequired:u});default:return e}},Qe=n("mnQejR5GxZY5Mi6PE0Mk"),Ke={accounts:[]},Je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,r=t.payload,o=void 0===r?{}:r;switch(n){case Qe.a:var i=o.accounts;return Object.assign({},e,{accounts:i});default:return e}},Ze=n("WlPi4ffSX0L5iiVPiVYK");function $e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ze.a:return Object.assign({},e,t.payload);case Ze.e:return Object.assign({},e,{step:t.payload});case Ze.b:return Object.assign({},e,{status:t.payload});case Ze.d:return Object.assign({},e,{question:t.payload});case Ze.f:return Object.assign({},e,{isPhoneNumberUpdated:t.payload});case Ze.c:return Object.assign({},e,{isPhoneOperationConflict:t.payload});default:return e}}var et=n("pxNQ4avko4wnceO2xkt9"),tt={registerLiteState:{},registerSocialState:{},isChangeFIO:!1},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case et.d:case et.a:return Object.assign({},e,r);case et.e:return Object.assign({},e,{registerLiteState:r});case et.f:return Object.assign({},e,{registerSocialState:r});case et.c:return Object.assign({},e,{isChangeFIO:!0});case et.b:return tt;default:return e}},rt={uid:"",visible:!1,anchor:void 0,type:"logout"},ot=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:rt,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case E.D:return Object.assign({},e,{uid:t.processedAccountUid});case E.N:return Object.assign({},e,{visible:r});case E.x:return Object.assign({},e,{anchor:r});case E.y:return Object.assign({},e,{type:r});case E.l:return Object.assign({},e,{uid:"",visible:!1});default:return e}};function it(e){return(it="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e},ct=function(e,t){var n=("object"===("undefined"==typeof window?"undefined":it(window))&&window.__REDUX_DEVTOOLS_EXTENSION__,function(e){return e});return Object(z.e)(function(e){return Object(z.c)({router:Object(q.b)(e),common:Q,captcha:me,additionalDataRequest:ge,avatar:Oe,mailAuth:te,messengerAuth:re,auth:ee,mobileMenu:pe,restoreLogin:ae,restorePassword:le,changePassword:$e,challenge:Ee,registerLite:de,pagePopup:he,metrics:at,monitoring:at,social:at,customs:at,settings:at,phoneConfirm:je,signup:ke,form:De,tracks:Be,registrationErrors:We,logins:Ve,experimentsList:at,userEntryFlow:Xe,accountsSuggest:Je,socialSuggest:nt,contextMenu:ot})}(t),e,Object(z.d)(Object(z.a)(Y.a,Object(V.a)(t)),n))},ut=n("2XiBpSUPIXqJnJWBL+lj"),st=n.n(ut),lt=n("7EJmH/ENw73EH68lZJfu"),ft=n("MJovFwNIrFAmLe5Xoo3c"),dt=n.n(ft),pt=n("B/+x7wOHvlrE/6Q4CYQo");function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ot(e);if(t){var o=Ot(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ot(e){return(Ot=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _t=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(i,e);var t,n,r,o=gt(i);function i(){return bt(this,i),o.apply(this,arguments)}return t=i,r=[{key:"mapStateToProps",value:function(e){return{loading:e.auth.loading,isShowMobileMenu:e.mobileMenu.isShowMobileMenu}}}],(n=[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.isShowMobileMenu;return a.a.createElement("div",{className:dt()("passp-page-overlay",{"passp-page-overlay_showed":t||n,"passp-page-overlay_mobile-menu":n,v5:!0})},t&&a.a.createElement(pt.a,{className:"passp-page-overlay__loader",progress:!0,size:"l"}))}}])&&mt(t.prototype,n),r&&mt(t,r),i}(i.Component);_t.defaultProps={loading:!1,isShowMobileMenu:!1},_t.propTypes={loading:st.a.bool.isRequired,isShowMobileMenu:st.a.bool.isRequired};var Et=Object(c.c)(_t.mapStateToProps)(_t),wt=n("WwZV+0g8pRxIfTSFjg9I"),St=n("FO5VaR1qDYhXlc1jCgw9"),jt=n("LzmKygd9FPlNlMcSJp0Y"),Ct=n("z/Ug44arcHnnmInRoI/0");function Rt(e){return(Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function kt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pt(e,t){return(Pt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Lt(e);if(t){var o=Lt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return At(this,n)}}function At(e,t){return!t||"object"!==Rt(t)&&"function"!=typeof t?Nt(e):t}function Nt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Lt(e){return(Lt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Mt=Object(jt.cn)("PreviousStepButton"),xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pt(e,t)}(i,e);var t,n,r,o=Tt(i);function i(e){var t,n,r,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e),n=Nt(t),a=function(){var e=t.props,n=e.process,r=e.step;return Object(wt.g)(n,r)},(r="isUserEntryFlowProcessSecondaryStep")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,t.handleBack=t.handleBack.bind(Nt(t)),t}return t=i,(n=[{key:"handleBack",value:function(e){e.preventDefault();var t=this.props,n=t.link,r=t.backPane,o=t.historyPush,i=t.mode,a=t.onBack,c=t.type,u=t.onClick;if("closer"!==c||"function"!=typeof u){if(this.isUserEntryFlowProcessSecondaryStep()&&"function"==typeof a)a();else if(r)o(r,{isPreviousStep:!0});else if(n){var s={addingAccount:w.rc,edit:w.Ac,welcome:w.uc};y.a.send([s[i],w.n]),window.location=n}}else u()}},{key:"render",value:function(){var e=this.props,t=e.backPane,n=e.link,r=e.isBackPaneVisible,o=e.isWebView,i=e.type;return e.isAM||o&&!t&&"closer"!==i?null:(t||n||this.isUserEntryFlowProcessSecondaryStep()||"closer"===i)&&(r||"closer"===i)?a.a.createElement("a",{"data-t":"closer"===i?"closer":"backpane",href:t||n||"#",onClick:this.handleBack,className:Mt({type:i})},a.a.createElement("span",{"data-pane":t,"data-link":n})):null}}])&&kt(t.prototype,n),r&&kt(t,r),i}(i.Component);xt.propTypes={backPane:st.a.string,link:st.a.string,mode:st.a.string,step:st.a.string,historyPush:st.a.func.isRequired,onBack:st.a.func,isBackPaneVisible:st.a.bool,isWebView:st.a.bool,isAM:st.a.bool,process:st.a.oneOf([Ct.g,Ct.c,Ct.b,Ct.e]),type:st.a.oneOf(["closer"]),onClick:st.a.func};var It={onBack:St.b,historyPush:D.d},Dt=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,n=void 0===t?{}:t,r=e.common,o=r.pane,i=r.backPane,a=r.retpath,c=r.backpath,u=r.noreturn,s=r.isBackPaneVisible,l=r.isWebView,f=r.isAM,d=e.auth.mode,p=e.userEntryFlow,h=void 0===p?{}:p,b=h.step,m=(n.location||{}).pathname,y=Object(wt.c)(e);return{backPane:o===i||m===i?null:i,link:!u&&(c||a),isBackPaneVisible:void 0===s||s,isWebView:l,isAM:f,process:y,mode:d,step:b}}),It)(xt),qt=n("Klei4Eri2QeyVHHta7RA"),Ut=n("XSW/Ws0GfcHP1epopRkN"),Bt=n("DNml7VDdSAs10Z4giKjv");function Ft(e){return(Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wt(e,t){return(Wt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yt(e);if(t){var o=Yt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vt(this,n)}}function Vt(e,t){return!t||"object"!==Ft(t)&&"function"!=typeof t?Gt(e):t}function Gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yt(e){return(Yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wt(e,t)}(i,e);var t,n,r,o=zt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).logoutProcessedAccount=t.logoutProcessedAccount.bind(Gt(t)),t.logoutAndForgetProcessedAccount=t.logoutAndForgetProcessedAccount.bind(Gt(t)),t}return t=i,r=[{key:"mapStateToProps",value:function(e){return{processedAccountUid:e.mobileMenu.processedAccountUid}}},{key:"mapDispatchToProps",value:function(e){var t={logoutAccount:qt.a,logoutAndForget:Ut.a};return Object.assign({},Object(z.b)(t,e),{dispatch:e})}}],(n=[{key:"logoutProcessedAccount",value:function(e){var t=this.props,n=t.processedAccountUid,r=t.logoutAccount;e.preventDefault(),r(n),y.a.send([w.Ac,w.N])}},{key:"logoutAndForgetProcessedAccount",value:function(e){var t=this.props,n=t.processedAccountUid,r=t.logoutAndForget;e.preventDefault(),r(n),y.a.send([w.Ac,w.M])}},{key:"render",value:function(){return a.a.createElement("div",{className:"passp-logout-mobile-menu"},a.a.createElement("div",{className:"passp-logout-mobile-menu__logout-button passp-mobile-menu__button"},a.a.createElement(Bt.a,{view:"auth-mobile-menu",type:"button",onClick:this.logoutProcessedAccount},a.a.createElement("span",{className:"passp-mobile-menu__button-text"},a.a.createElement("span",{className:"passp-mobile-menu__button-icon"}),"Выйти из аккаунта"))),a.a.createElement("div",{className:"passp-logout-mobile-menu__forget-button passp-mobile-menu__button"},a.a.createElement(Bt.a,{view:"auth-mobile-menu",type:"button",onClick:this.logoutAndForgetProcessedAccount},a.a.createElement("span",{className:"passp-mobile-menu__button-text"},a.a.createElement("span",{className:"passp-mobile-menu__button-icon"}),"Выйти и удалить из списка"))))}}])&&Ht(t.prototype,n),r&&Ht(t,r),i}(i.Component);Xt.propTypes={processedAccountUid:st.a.string,logoutAccount:st.a.func.isRequired,logoutAndForget:st.a.func.isRequired};var Qt=Object(c.c)(Xt.mapStateToProps,Xt.mapDispatchToProps)(Xt),Kt=n("0oyOWcuJvUtljU+ijXVz");function Jt(e){return(Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $t(e,t){return($t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function en(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rn(e);if(t){var o=rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return tn(this,n)}}function tn(e,t){return!t||"object"!==Jt(t)&&"function"!=typeof t?nn(e):t}function nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rn(e){return(rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var on=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$t(e,t)}(i,e);var t,n,r,o=en(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).forgetProcessedAccount=t.forgetProcessedAccount.bind(nn(t)),t}return t=i,r=[{key:"mapStateToProps",value:function(e){return{processedAccountUid:e.mobileMenu.processedAccountUid}}},{key:"mapDispatchToProps",value:function(e){var t={forgetAccount:Kt.a};return Object.assign({},Object(z.b)(t,e),{dispatch:e})}}],(n=[{key:"forgetProcessedAccount",value:function(e){e.preventDefault();var t=this.props,n=t.processedAccountUid;(0,t.forgetAccount)(n),y.a.send([w.Ac,w.M])}},{key:"render",value:function(){return a.a.createElement("div",{className:"passp-forget-mobile-menu passp-forget-mobile-menu__forget-button"},a.a.createElement("div",{className:"passp-mobile-menu__button"},a.a.createElement(Bt.a,{view:"auth-mobile-menu",type:"button",onClick:this.forgetProcessedAccount},a.a.createElement("span",{className:"passp-mobile-menu__button-text"},a.a.createElement("span",{className:"passp-mobile-menu__button-icon"}),"Удалить из списка"))))}}])&&Zt(t.prototype,n),r&&Zt(t,r),i}(i.Component);function an(e){return(an="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t){return(un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function sn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=dn(e);if(t){var o=dn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ln(this,n)}}function ln(e,t){return!t||"object"!==an(t)&&"function"!=typeof t?fn(e):t}function fn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dn(e){return(dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}on.propTypes={processedAccountUid:st.a.string,forgetAccount:st.a.func.isRequired};var pn={logout:Qt,forget:Object(c.c)(on.mapStateToProps,on.mapDispatchToProps)(on)},hn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(i,e);var t,n,r,o=sn(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).addOuthsideClickHandler=t.addOuthsideClickHandler.bind(fn(t)),t.removeOutsideClickHandler=t.removeOutsideClickHandler.bind(fn(t)),t.onOutsideClick=t.onOutsideClick.bind(fn(t)),t.onMenuClick=t.onMenuClick.bind(fn(t)),t}return t=i,r=[{key:"mapStateToProps",value:function(e){var t=e.mobileMenu;return{isShowMobileMenu:t.isShowMobileMenu,mobileMenuType:t.mobileMenuType}}},{key:"mapDispatchToProps",value:function(e){var t={changeMobileMenuVisibility:E.W};return Object.assign({},Object(z.b)(t,e),{dispatch:e})}}],(n=[{key:"componentDidUpdate",value:function(e){var t=this.props.isShowMobileMenu;e.isShowMobileMenu!==t&&(!e.isShowMobileMenu&&t?this.addOuthsideClickHandler():this.removeOutsideClickHandler())}},{key:"addOuthsideClickHandler",value:function(){var e=this;setTimeout((function(){window.addEventListener?window.addEventListener("click",e.onOutsideClick):window.attachEvent("onclick",e.onOutsideClick)}),300)}},{key:"removeOutsideClickHandler",value:function(){window.removeEventListener?window.removeEventListener("click",this.onOutsideClick):window.detachEvent("onclick",this.onOutsideClick)}},{key:"onOutsideClick",value:function(){var e=this.props,t=e.isShowMobileMenu,n=e.changeMobileMenuVisibility;t&&n(!1)}},{key:"onMenuClick",value:function(e){e.stopPropagation()}},{key:"render",value:function(){var e=this.props.mobileMenuType,t=pn[e];return a.a.createElement("div",{className:"passp-mobile-menu",onClick:this.onMenuClick},t&&a.a.createElement(t,null))}}])&&cn(t.prototype,n),r&&cn(t,r),i}(i.Component);hn.propTypes={isShowMobileMenu:st.a.bool.isRequired,mobileMenuType:st.a.string,changeMobileMenuVisibility:st.a.func.isRequired};Object(c.c)(hn.mapStateToProps,hn.mapDispatchToProps)(hn),n("30SY6zyJjGxELFqjE9vf"),n("AxrONuME76zy6gAKdepX");function bn(){return(bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var mn=Object(jt.cn)("Logo"),yn=function(e){var t=e.lang,n=e.tld,r=e.isWhite,o=e.isStatic,i=e.size,c=void 0===i?"m":i,u=e.className,s=!t||["ru","uk"].includes(t),l=o?"span":"a",f={};return o||(f.href="//yandex.".concat(n),f.tabIndex="-1"),a.a.createElement(l,bn({},f,{className:"".concat(mn({ru:s,en:!s,size:c,isWhite:r})," ").concat(u||"")}))};yn.propTypes={className:st.a.string,lang:st.a.string,size:st.a.oneOf(["s","m","l"]),tld:st.a.string,isWhite:st.a.bool,isStatic:st.a.bool};var gn=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.isStatic,r=e.settings,o=void 0===r?{}:r,i=e.common,a=void 0===i?{}:i,c=o.tld,u=a.isWebView,s=a.isAM;return{isStatic:n||u||s,lang:Object(C.d)(e),tld:c}}))(yn),vn=n("/qp7eX9r2wPXqWUMVlz8"),On=n("NYgweBU7we5NQJrgDZbv");function _n(e){return(_n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function En(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function wn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sn(e,t){return(Sn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function jn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Rn(e);if(t){var o=Rn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Cn(this,n)}}function Cn(e,t){return!t||"object"!==_n(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var kn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sn(e,t)}(i,e);var t,n,r,o=jn(i);function i(){return En(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"componentDidMount",value:function(){k.start()}},{key:"componentWillUnmount",value:function(){k.stop()}},{key:"render",value:function(){return a.a.createElement("div",null)}}])&&wn(t.prototype,n),r&&wn(t,r),i}(i.Component),Pn=function(e){e.cls;var t=e.children,n=e.dataT;return a.a.createElement("div",{"data-t":n?"page:popup:".concat(n):"page:popup",className:""},t)};Pn.propTypes={cls:st.a.string,dataT:st.a.string,children:st.a.node.isRequired};var Tn=Pn,An=n("ysMlxi1yQ/4ftbKMQCqh"),Nn=n("eidTN+99QhledymTSSqQ");function Ln(e){return(Ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Mn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function xn(e,t){return(xn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function In(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Un(e);if(t){var o=Un(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Dn(this,n)}}function Dn(e,t){return!t||"object"!==Ln(t)&&"function"!=typeof t?qn(e):t}function qn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Un(e){return(Un=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Bn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&xn(e,t)}(i,e);var t,n,r,o=In(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleCloseClick=t.handleCloseClick.bind(qn(t)),t}return t=i,r=[{key:"mapStateToProps",value:function(e){var t=e.auth.processedAccount||{},n=t.email,r=void 0===n?"":n,o=t.allowed_auth_methods,i=void 0===o?[]:o;return{email:r,isMagicLinkOnly:1===i.length&&"magic_link"===i[0]||i.includes("sms_code")&&i.includes("magic_link")&&2===i.length&&!Object(C.j)(e,"sms-auth-on")}}}],(n=[{key:"handleCloseClick",value:function(){var e=this.props,t=e.dispatch;(0,e.closePopup)(),t(Object(On.a)())}},{key:"render",value:function(){var e=this.props,t=e.email,n=e.isMagicLinkOnly,r="Письмо отправлено\nна <strong>%s</strong>".replace("%s",t);return a.a.createElement(Tn,{dataT:"auth-letter"},a.a.createElement(An.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:r}})),a.a.createElement(vn.a,{text:"Когда вы нажмёте на кнопку в письме, увидите на экране три символа<br/>\nУбедитесь, что там те же символы, что здесь"}),!n&&a.a.createElement(Nn.a,{pseudo:!0,onClick:this.handleCloseClick},"Другой способ входа"),a.a.createElement(kn,null))}}])&&Mn(t.prototype,n),r&&Mn(t,r),i}(i.PureComponent),Fn=Object(c.c)(Bn.mapStateToProps)(Bn);Bn.propTypes={email:st.a.string.isRequired,isMagicLinkOnly:st.a.bool.isRequired,closePopup:st.a.func.isRequired,dispatch:st.a.func.isRequired};var Hn=n("AFgMZ7oQJHD2/+zDS46y"),Wn=n("6OWwt9yvRw7ShcN4G3nV"),zn=n("WiYX8/zkxBCHx90Q2RVM");var Vn=n("yi2HOavEOLsMrMN95lAZ"),Gn={changeNativeInputValue:Vn.a,updateConfirmationCode:we.t,sendConfirmationCode:we.n,submitConfirmationCode:we.s,setErrors:we.o},Yn=n("Sv+DydT6rKBct5kRKGVV"),Xn=n("hbhwtfwpwcJBep3jxV99"),Qn=n("Es9rmdkpPfO71ZhahEM7");function Kn(e){return(Kn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Zn(e,t){return(Zn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function $n(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=nr(e);if(t){var o=nr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return er(this,n)}}function er(e,t){return!t||"object"!==Kn(t)&&"function"!=typeof t?tr(e):t}function tr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function nr(e){return(nr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function rr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var or=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Zn(e,t)}(i,e);var t,n,r,o=$n(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),rr(tr(t=o.call(this,e)),"_handleConfirmationCodeChange",(function(e){(0,t.props.updateConfirmationCode)(e)})),rr(tr(t),"_approvePhone",(function(e){var n=t.props.submitConfirmationCode;e.preventDefault(),n()})),rr(tr(t),"_sendConfirmationCode",(function(e){var n=t.props.sendConfirmationCode;e.preventDefault(),n()})),rr(tr(t),"_sendConfirmationCodeForSecurePhone",(function(e){var n=t.props.sendConfirmationCode;e.preventDefault(),n(!0)})),rr(tr(t),"_startTimer",(function(){t.timerInterval=setInterval((function(){var e=Number(new Date);t.setState({currentTimestamp:e}),e>=Number(t.props.denyResendUntil)&&t._stopTimer()}),1e3)})),rr(tr(t),"_stopTimer",(function(){t.timerInterval&&(clearInterval(t.timerInterval),t.timerInterval=null)})),rr(tr(t),"_getSendAgainButtonText",(function(e){var n=t.props.denyResendUntil,r=t.state.currentTimestamp;return e?a.a.createElement("span",null,"Отправить ещё код","  ",a.a.createElement(zn.a,{startTime:r,endTime:Number(n)})):"Отправить ещё код"})),rr(tr(t),"_getPopupTitle",(function(){var e=t.props,n=e.phoneNumber,r=e.securePhoneNumber,o=r?r.replace(/ /gi,"&nbsp;"):n.replace(/ /gi,"&nbsp;");return"Введите код из СМС, отправленный на номер %phone".replace("%phone","<b>".concat(o,"</b>"))})),t.timerInterval=null,t.state={currentTimestamp:Number(new Date)},t}return t=i,(n=[{key:"componentDidMount",value:function(){this._stopTimer(),this._startTimer()}},{key:"componentWillUpdate",value:function(e){this.props.denyResendUntil!==e.denyResendUntil&&(this.setState({currentTimestamp:Number(new Date)}),this._startTimer())}},{key:"componentWillUnmount",value:function(){this._handleConfirmationCodeChange(""),this.props.changeNativeInputValue("confirmation_code",""),this.props.setErrors([]),this._stopTimer()}},{key:"render",value:function(){var e=this.props,t=e.confirmationCode,n=e.isCaptchaRequired,r=e.denyResendUntil,o=e.errors,i=e.securePhoneNumber,c=this.state.currentTimestamp+1e3<Number(r),u=null;o.length&&(u=Yn.a[o[0]]?Yn.a[o[0]]:Yn.a.internal);var s=this._getSendAgainButtonText(c);return a.a.createElement(Tn,{cls:"phone-confirmation",dataT:"phone-confirmation"},a.a.createElement(Xn.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:this._getPopupTitle()}})),a.a.createElement(Qn.a,{cls:"phone-confirmation",dataT:"phone-confirmation"},a.a.createElement(Hn.b,{size:"l",label:"Код из смс",value:t,name:"confirmation_code",type:"text",error:u,onChange:this._handleConfirmationCodeChange,view:"floating-label"}),n&&a.a.createElement(Wn.a,null),a.a.createElement("div",{"data-t":"phone_enter_confirmation_code_submit",className:"passp-button"},a.a.createElement(Bt.a,{type:"submit",text:"Подтвердить",view:"action",size:"auth-l",width:"max",onClick:this._approvePhone})),a.a.createElement("div",{"data-t":"phone_send_again",className:"passp-button"},a.a.createElement(Bt.a,{type:"button",text:s,view:"pseudo",size:"auth-l",width:"max",disabled:c,onClick:i?this._sendConfirmationCodeForSecurePhone:this._sendConfirmationCode}))))}}])&&Jn(t.prototype,n),r&&Jn(t,r),i}(a.a.PureComponent);or.propTypes={confirmationCode:st.a.string,phoneNumber:st.a.string,securePhoneNumber:st.a.string,isCaptchaRequired:st.a.bool,denyResendUntil:st.a.number,errors:st.a.array,changeNativeInputValue:st.a.func.isRequired,updateConfirmationCode:st.a.func.isRequired,sendConfirmationCode:st.a.func.isRequired,submitConfirmationCode:st.a.func.isRequired,setErrors:st.a.func.isRequired};var ir=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.phoneConfirm;return t}),Gn)(or),ar=n("iNRce/Fj4hsy7dcqXXz2"),cr=n.n(ar);var ur=n("mdXLC9fJiJb4bctGYyqB"),sr=n("iYno3SKv/BW0tduPFmp1");var lr=n("gW+kGIULm/gsAM1O/w51"),fr=n("KqgSckgMJM5UoE4swPks"),dr=n("AeLhLclXWlGhw6c78Mpd");function pr(e){return function(t,n){if(!e||!e.trim())return t(Object(ye.q)(["key.empty"])),void t(Object(E.bb)(!1));var r=n(),o=r.additionalDataRequest.track_id,i=r.auth,a=i.processedAccount,c=i.defaultAccount,u=r.common.csrf,s=a||c,l={key:e,csrf_token:u,track_id:o,uid:s?s.uid:""};t(Object(ye.n)()),h.a.request("email/confirm/by_code_v2",l).done((function(){t(Object(ur.a)("submit_email_confirmation_code","Показ привязки емейла","Успешная привязка")),t(Object(fr.a)("no"))})).fail((function(e){for(var n=e.errors.length,r=0;r<n;r++){var o=e.errors[r];if("password.required"===o)return void t(Object(dr.a)());if("email.already_confirmed"===o)return void t(Object(lr.a)())}t(Object(ye.q)(e.errors)),t(Object(E.bb)(!1))}))}}var hr=n("YGKqAHV1POlG7uih+owy");function br(e){return(br="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function mr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yr(e,t){return(yr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_r(e);if(t){var o=_r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vr(this,n)}}function vr(e,t){return!t||"object"!==br(t)&&"function"!=typeof t?Or(e):t}function Or(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _r(e){return(_r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Er=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yr(e,t)}(i,e);var t,n,r,o=gr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleConfirmationCodeChange=t.handleConfirmationCodeChange.bind(Or(t)),t.approveEmail=t.approveEmail.bind(Or(t)),t.sentConfirmationCode=t.sentConfirmationCode.bind(Or(t)),t.goBack=t.goBack.bind(Or(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){(0,this.props.sendAdditionalDataRequestMetrics)("show_email",null,"Показ")}},{key:"componentWillUnmount",value:function(){this.props.clearErrors(),this.handleConfirmationCodeChange(""),this.props.changeNativeInputValue("confirmation_code","")}},{key:"handleConfirmationCodeChange",value:function(e){(0,this.props.changeConfirmationCode)(e)}},{key:"approveEmail",value:function(e){e.preventDefault();var t=this.props;(0,t.sendApiRequest)(pr,t.confirmationCode)}},{key:"sentConfirmationCode",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,r=t.email;n(hr.a,r)}},{key:"goBack",value:function(){var e=this.props,t=e.sendApiRequest;(0,e.sendAdditionalDataRequestMetrics)("skip_email",null,"Отложить"),t(fr.a)}},{key:"render",value:function(){var e=this.props,t=e.confirmationCode,n=e.isCaptchaRequired,r=e.errors,o=e.email,i=null;return r.length&&(i=Yn.a[r[0]]?Yn.a[r[0]]:Yn.a.internal),a.a.createElement(Tn,{cls:"email-confirmation",dataT:"email-confirmation"},a.a.createElement(Xn.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:"Код подтверждения отправлен на почту %1, введите его в поле ниже:".replace("%1","<b>".concat(cr()(o),"</b>"))}})),a.a.createElement(Qn.a,{cls:"email-confirmation",dataT:"email-confirmation"},a.a.createElement(Hn.b,{size:"l",label:"Код из письма",value:t,name:"confirmation_code",type:"text",error:i,onChange:this.handleConfirmationCodeChange,view:"floating-label"}),n&&a.a.createElement(Wn.a,null),a.a.createElement("div",{"data-t":"email_enter_confirmation_code_submit",className:"passp-button"},a.a.createElement(Bt.a,{type:"submit",text:"Подтвердить",view:"action",size:"auth-l",width:"max",onClick:this.approveEmail})),a.a.createElement("div",{"data-t":"email_send_again",className:"passp-button"},a.a.createElement(Bt.a,{type:"button",text:"Отправить ещё код",view:"pseudo",size:"auth-l",width:"max",onClick:this.sentConfirmationCode})),a.a.createElement("div",{"data-t":"email_enter_confirmation_code_skip",className:"passp-button"},a.a.createElement(Bt.a,{type:"button",text:"Подтвердить позже",view:"pseudo",size:"auth-l",width:"max",onClick:this.goBack}))))}}])&&mr(t.prototype,n),r&&mr(t,r),i}(i.Component);Er.propTypes={confirmationCode:st.a.string,email:st.a.string,isCaptchaRequired:st.a.bool,errors:st.a.array,sendAdditionalDataRequestMetrics:st.a.func.isRequired,changeConfirmationCode:st.a.func.isRequired,changeNativeInputValue:st.a.func.isRequired,sendApiRequest:st.a.func.isRequired,clearErrors:st.a.func.isRequired};var wr=Object(c.c)((function(e){var t=e.additionalDataRequest;return{email:t.email,confirmationCode:t.confirmationCode,isConfirmationCodeSent:t.isConfirmationCodeSent,isCaptchaRequired:t.isCaptchaRequired,action:t.action,denyResendUntil:t.denyResendUntil,errors:t.errors}}),(function(e){var t={sendAdditionalDataRequestMetrics:ur.a,changeConfirmationCode:ye.k,sendApiRequest:sr.a,clearErrors:ye.n,changeNativeInputValue:Vn.a};return Object.assign({},Object(z.b)(t,e),{dispatch:e})}))(Er);function Sr(){return function(e,t){var n=t(),r=n.common.restoreLoginResultUrl;"restoreLoginResult"!==n.auth.mode&&(e(Object(E.Fb)()),e(Object(D.d)(r)))}}function jr(e){var t={};if(!Array.isArray(e))return t;var n=e.find((function(e){return"captcha.not_matched"===e})),r=e.find((function(e){return"phone_number.invalid"===e||"number.invalid"===e})),o=e.find((function(e){return"phone.empty"===e||"phone_number.empty"===e})),i=e.find((function(e){return"captcha.empty"===e})),a=e.find((function(e){return"phone_secure.not_found"===e})),c=e.find((function(e){return"sms_limit.exceeded"===e})),u=e.find((function(e){return"calls_limit.exceeded"===e})),s=e.find((function(e){return"rate.limit_exceeded"===e}));return e.find((function(e){return"internal"===e}))&&(t.phone="internal"),n&&(t.captcha="notMatched"),r&&(t.phone="invalid"),o&&(t.phone="empty"),i&&(t.captcha="empty"),a&&(t.phone="notFound",t.code="notFound"),c&&(t.phone="smsLimitExceeded",t.code="smsLimitExceeded"),u&&(t.phone="callsLimitExceeded",t.code="callsLimitExceeded"),s&&(t.phone="rateLimitExceeded"),t}var Cr={check:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(n,r){var o=r(),i=o.restoreLogin,a=i.phone,c=i.confirmMethod,u=i.isValidPhone,s=i.isPhoneOverheated,l=i.errors,f=l.code,d=l.phone,p={phone_number:a,track_id:o.common.track_id,display_language:o.settings.lang,confirm_method:c},b="by_sms"===c;if(b||!("callsLimitExceeded"===f||"callsLimitExceeded"===d)&&!s||(n(Object(oe.t)("by_sms")),p.confirm_method="by_sms",b=!0),n(Object(oe.q)()),n(Object(E.bb)(!0)),!b&&!u)return n(e.validate(t)),void n(Object(E.bb)(!1));h.a.request("auth/restore_login/check_phone",p).done((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};n(Object(oe.m)(!0)),n(Object(E.X)("restoreLoginEnterConfirmationCode")),n(Object(E.Y)(!0)),y.a.send([w.sb,w.nb]),e.calling_number_template&&n(Object(oe.u)(e.calling_number_template)),Rr(r(),t)})).fail((function(e){var o=e.errors||[];if(o.includes("user.not_verified"))return n(Object(E.X)("restoreLoginEnterCaptcha")),n(Object(E.Y)(!0)),void n(Object(E.U)(!0));o.includes("phone_secure.not_found")&&(n(Object(E.Y)(!1)),n(Object(E.X)("")),n(Object(oe.s)([])),n(Sr())),o.includes("calls_limit.exceeded")&&n(Object(oe.o)(!0)),n(Object(oe.r)(jr(o)));var i=o.some((function(e){return"captcha.not_matched"===e||"captcha.empty"===e}));y.a.send(i?[w.sb,w.jb]:[w.sb,w.mb,o[0]]),Rr(r(),t,o)})).always((function(){return n(Object(E.bb)(!1))}))}},validate:function(e){var t=this;return function(n,r){var o=r(),i=o.restoreLogin.phone,a=o.common,c={phone_number:i,validate_for_call:!0,check_speech:!0,track_id:a.track_id,csrf_token:a.csrf},u=function(){n(Object(oe.t)("by_sms")),n(Object(oe.p)(!1))};h.a.request("auth/validate_phone",c).done((function(e){Boolean(e.valid_for_call)&&"ok"===e.status?n(Object(oe.p)(!0)):u()})).fail(u).always((function(){return n(t.check(e))}))}}};function Rr(e,t,n){var r=e.restoreLogin,o=r.isCallExp,i=r.isFlashCallExp,a=r.confirmMethod,c=[w.sb],u="by_sms"===a;if(o?c.push(w.gb):i?c.push(w.hb):c.push(w.ib),Array.isArray(n)&&n.length)c.push(u?w.qb:w.ob),c.push(n.join(","));else{var s=t?w.xb:w.vb,l=t?w.Ab:w.yb;c.push(u?l:s)}y.a.send(c)}function kr(e){return(kr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Tr(e,t){return(Tr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ar(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Mr(e);if(t){var o=Mr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Nr(this,n)}}function Nr(e,t){return!t||"object"!==kr(t)&&"function"!=typeof t?Lr(e):t}function Lr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mr(e){return(Mr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var xr={internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",phone:{undefined:"Пожалуйста, заполните поле",empty:"Пожалуйста, заполните поле",invalid:"Недопустимый формат номера",callsLimitExceeded:"Превышен лимит звонков, попробуйте позже",smsLimitExceeded:"Превышен лимит отправляемых сообщений, попробуйте позже",rateLimitExceeded:"Превышено количество попыток подтверждения телефона. Попробуйте еще раз позже"}},Ir=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Tr(e,t)}(i,e);var t,n,r,o=Ar(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).submitForm=t.submitForm.bind(Lr(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){y.a.send([w.sb,w.tb])}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.checkPhone()}},{key:"render",value:function(){var e=this.props.phoneError,t=e&&(xr.phone[e]||xr.internal)||"";return a.a.createElement(Tn,{cls:"restore-login-enter-captcha",dataT:"enter-captcha"},a.a.createElement(Xn.a,null,"Введите символы"),a.a.createElement(Qn.a,{onSubmit:this.submitForm,cls:"enter-captcha",dataT:"enter-captcha"},a.a.createElement(Wn.a,{isShowCaptcha:!0,forcedError:t}),a.a.createElement("div",{"data-t":"submit-captcha-btn",className:"passp-button"},a.a.createElement(Bt.a,{text:"Далее",type:"submit",view:"action",size:"auth-l",width:"max"}))))}}])&&Pr(t.prototype,n),r&&Pr(t,r),i}(i.Component);Ir.propTypes={checkPhone:st.a.func.isRequired,phoneError:st.a.string.isRequired};var Dr=Object(c.c)((function(e){return{phoneError:e.restoreLogin.errors.phone||""}}),(function(e){return{checkPhone:function(){return e(Object(sr.a)(Cr.check))}}}))(Ir);function qr(e){return(qr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ur(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Br(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fr(e,t){return(Fr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Hr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zr(e);if(t){var o=zr(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Wr(this,n)}}function Wr(e,t){return!t||"object"!==qr(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function zr(e){return(zr=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Vr=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Fr(e,t)}(i,e);var t,n,r,o=Hr(i);function i(){return Ur(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.text,n=e.staticPath,r=e.code,o=r?t:"Внутренняя ошибка: обновите страницу и попробуйте еще раз";return a.a.createElement("div",null,r&&a.a.createElement("ul",{className:"al-send-popup__code"},r.map((function(e,t){return a.a.createElement("li",{className:"popup__code-item",key:t},a.a.createElement("img",{className:"popup__code-item-img",src:"".concat(n,"/i/magic-letter/").concat(e,".png"),alt:"magic link code image"}))}))),a.a.createElement("div",{className:"al-send-popup__code-descr",dangerouslySetInnerHTML:{__html:o}}))}}])&&Br(t.prototype,n),r&&Br(t,r),i}(i.Component),Gr=Object(c.c)((function(e){var t=e.messengerAuth,n=e.settings;return{code:t.code,staticPath:n.staticPath}}))(Vr);function Yr(e){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qr(e,t){return(Qr=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Kr(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=$r(e);if(t){var o=$r(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Jr(this,n)}}function Jr(e,t){return!t||"object"!==Yr(t)&&"function"!=typeof t?Zr(e):t}function Zr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $r(e){return($r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Vr.propTypes={text:st.a.string.isRequired,staticPath:st.a.string.isRequired,code:st.a.array.isRequired};var eo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Qr(e,t)}(i,e);var t,n,r,o=Kr(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleCloseClick=t.handleCloseClick.bind(Zr(t)),t}return t=i,(n=[{key:"handleCloseClick",value:function(){var e=this.props,t=e.dispatch;(0,e.closePopup)(),t(Object(On.a)())}},{key:"render",value:function(){return a.a.createElement(Tn,{cls:"al-send-popup",dataT:"messenger-auth"},a.a.createElement(Xn.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:"Откройте сообщение от Яндекс.Паспорта в %icon <b>Чатах</b> и сравните символы:".replace("%icon",'<span class="auth-messenger-icon"></span>')}})),a.a.createElement(Gr,{text:"Если символы на экране и в сообщении совпадают, подтвердите вход."}),a.a.createElement("span",{role:"button",className:"al-send-popup__close-link link_theme_normal",onClick:this.handleCloseClick},"Войти с помощью пароля"),a.a.createElement(kn,null))}}])&&Xr(t.prototype,n),r&&Xr(t,r),i}(i.Component),to=Object(c.c)((function(e){return{messengerAuth:e.messengerAuth}}))(eo);eo.propTypes={dispatch:st.a.func.isRequired,closePopup:st.a.func.isRequired};var no=n("xk86jm087z7uHPch9i2c");function ro(e){return(ro="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oo(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function io(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ao(e,t){return(ao=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function co(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=so(e);if(t){var o=so(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return uo(this,n)}}function uo(e,t){return!t||"object"!==ro(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function so(e){return(so=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var lo=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ao(e,t)}(i,e);var t,n,r,o=co(i);function i(){return oo(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.sendRequestToMessenger,n=e.closePopup;return a.a.createElement(Tn,{cls:"al-send-popup",dataT:"messenger-auth-info"},a.a.createElement(Xn.a,{cls:"auth-messenger_popup-title"},"У вас не установлено приложение или вы не вошли в аккаунт"),a.a.createElement("h4",{className:"auth-messenger_title"},a.a.createElement("div",{className:"passp-magic-promo-title__image"}),a.a.createElement("span",null,"Как войти с помощью приложения Яндекс")),a.a.createElement("ol",{className:"auth-messenger-how-to_list"},a.a.createElement("li",null,"Установите приложение Яндекс на ваше устройство",a.a.createElement("div",{className:"auth-messenger_app-btns"},a.a.createElement("a",{className:"passp-install-yandex-app-link",target:"_blank",href:"https://redirect.appmetrica.yandex.com/serve/458404701881276453?c=passport_bage",title:"Google Play",rel:"noopener noreferrer"},a.a.createElement("div",{className:"passp-gplay-icon"})),a.a.createElement("a",{className:"passp-install-yandex-app-link",target:"_blank",href:"https://redirect.appmetrica.yandex.com/serve/386347106450828605?c=passport_bage",title:"App Store",rel:"noopener noreferrer"},a.a.createElement("div",{className:"passp-appstore-icon"})))),a.a.createElement("li",null,"Откройте приложение и войдите в ваш аккаунт"),a.a.createElement("li",null,"Теперь вы можете подтверждать вход в аккаунт не вводя пароль")),a.a.createElement("div",{className:"auth-messenger_links"},a.a.createElement(Nn.a,{className:"popup-action",pseudo:!0,onClick:t},"Попробовать еще раз"),a.a.createElement(Nn.a,{className:"popup-action",pseudo:!0,onClick:n},"Войти с помощью пароля")))}}])&&io(t.prototype,n),r&&io(t,r),i}(i.Component),fo=Object(c.c)((function(e){return{messengerAuth:e.messengerAuth}}),(function(e){var t={sendRequestToMessenger:no.a,invalidateAuthFromLetter:On.a};return Object(z.b)(t,e)}))(lo);lo.propTypes={messengerAuth:st.a.obj,sendRequestToMessenger:st.a.func.isRequired,invalidateAuthFromLetter:st.a.func.isRequired,closePopup:st.a.func.isRequired};var po=n("nPO+y6YDb3bA1kgNAiHj"),ho=n("+KfeYK7Qp7OX8tUNmyvn"),bo=n("DoQaHn2w4kPN7lMBHsaC");var mo=n("mpwtxDFM8rSrgjcCjkSH"),yo=n("OX/wkVklJcgTEff1wL6D");function go(e){return(go="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function vo(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Oo(e,t){return(Oo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _o(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=So(e);if(t){var o=So(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Eo(this,n)}}function Eo(e,t){return!t||"object"!==go(t)&&"function"!=typeof t?wo(e):t}function wo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function So(e){return(So=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function jo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Co=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Oo(e,t)}(c,e);var t,n,r,o=_o(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),jo(wo(t=o.call(this,e)),"ref",a.a.createRef()),jo(wo(t),"focus",(function(){t.ref.current&&t.ref.current.focus&&t.ref.current.focus()})),jo(wo(t),"updateFieldValue",(function(e){t.props.dispatch(Object(_e.h)(e))})),jo(wo(t),"sendSms",(function(){var e=t.props.dispatch;e(Object(_e.e)({isConfirmWithCall:!1})),e(Object(E.Y)(!1)),e(Object(yo.a)()),t.updateRepeatBtnAction()})),jo(wo(t),"callAgain",(function(){(0,t.props.dispatch)(Object(mo.a)()),t.updateRepeatBtnAction()})),jo(wo(t),"submitForm",(function(e){e.preventDefault(),t.props.dispatch((function(e,t){var n=t(),r=n.challenge.fieldValue,o=n.common,i={code:r,track_id:o.track_id,csrf_token:o.csrf};e(Object(E.bb)(!0)),e(Object(_e.f)({code:"",text:""})),h.a.request("phone-confirm-code",i).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"ok"===t.status?(e(Object(ho.a)()),y.a.send([w.o,w.y])):(e(Object(bo.a)("internal")),e(Object(E.bb)(!1)))})).fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Array.isArray(t.errors)&&t.errors[0];"confirmations_limit.exceeded"!==n?(e(Object(bo.a)(n)),e(Object(E.bb)(!1)),y.a.send([w.o,"".concat(w.t," ").concat(n)])):e(Object(bo.a)("challenge.confirmations_limit.exceeded"))}))}))})),jo(wo(t),"updateRepeatBtnAction",(function(){t.setState((function(e){return{isRepeatActionBtnDisabled:!e.isRepeatActionBtnDisabled}}))})),jo(wo(t),"getSendAgainButtonText",(function(){var e=t.props,n=e.btnText,r=e.smsBtnText,o=e.isConfirmWithCall;return a.a.createElement(i.Fragment,null,o?n:r,t.state.isRepeatActionBtnDisabled&&a.a.createElement(po.a,{onTimerEnd:t.updateRepeatBtnAction}))})),t.state={isRepeatActionBtnDisabled:!0},t}return t=c,(n=[{key:"componentDidMount",value:function(){setTimeout(this.focus,300),y.a.send([w.o,w.u])}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(_e.e)({errorText:"",errorCode:"",fieldValue:""}))}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.errorText,r=e.value,o=e.maxFieldLength,i=e.isConfirmWithCall,c=this.getSendAgainButtonText();return a.a.createElement(Tn,{cls:"restore-login-enter-confirmation-code",dataT:"challenges-call"},a.a.createElement(Xn.a,null,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:t}})),a.a.createElement(Qn.a,{onSubmit:this.submitForm,cls:"enter-confirmation-code",dataT:"challenges-call"},a.a.createElement(Hn.b,{size:"l",ref:this.ref,label:"",value:r,name:"code",type:"tel",error:n,options:{maxLength:o},onChange:this.updateFieldValue,view:"floating-label"}),a.a.createElement("div",{"data-t":"submit-phone-code-btn",className:"passp-button"},a.a.createElement(Bt.a,{text:"Далее",type:"submit",view:"action",size:"auth-l",width:"max"})),a.a.createElement("div",{"data-t":"send-code-again-btn",className:"passp-button passp-send-again-btn challenge-submit"},a.a.createElement(Bt.a,{text:c,type:"button",view:"pseudo",size:"auth-l",width:"max",disabled:this.state.isRepeatActionBtnDisabled,onClick:i?this.callAgain:this.sendSms}))))}}])&&vo(t.prototype,n),r&&vo(t,r),c}(i.Component),Ro=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.challenge,n=t.errorText,r=t.fieldValue,o=t.callFrom,i=t.smsTo,a=t.isConfirmWithCall,c=a?"Сейчас вам поступит звонок с номера %s. Введите последние четыре цифры номера".replace("%s",o):"Введите код из СМС, отправленный на номер %1".replace("%1",'<span class="passp-phone-template">'.concat(i,"</span>")),u=a?"Перезвонить еще раз":" Отправить код еще раз",s=a?"Подтвердить по СМС":"Отправить ещё код",l=a?4:6;return{isConfirmWithCall:a,errorText:n,title:c,btnText:u,smsBtnText:s,value:r,maxFieldLength:l}}))(Co);function ko(e){return function(t,n){if(!e||!e.trim())return t(Object(ye.q)(["code.empty"])),void t(Object(E.bb)(!1));var r=n(),o=r.additionalDataRequest.track_id,i=r.common.csrf,a={code:e,track_id:o,csrf_token:i};t(Object(ye.n)()),h.a.request("phone/confirm_and_bind_secure/commit_v2",a).done((function(){t(Object(ur.a)("submit_phone_confirmation_code","Показ привязки телефона","Успешная привязка")),t(Object(fr.a)("no"))})).fail((function(e){for(var n=e.errors.length,r=0;r<n;r++){var o=e.errors[r];if("password.required"===o)return void t(Object(dr.a)());if("phone_secure.bound_and_confirmed"===o)return void t(Object(lr.a)())}t(Object(ye.q)(e.errors)),t(Object(E.bb)(!1))}))}}Co.propTypes={isConfirmWithCall:st.a.bool,errorText:st.a.string,title:st.a.string,btnText:st.a.string,smsBtnText:st.a.string,value:st.a.string,maxFieldLength:st.a.number,dispatch:st.a.func.isRequired};var Po=n("aS2ZYnAbJ8g/EILNnmO/");function To(e){return(To="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ao(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function No(e,t){return(No=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Lo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Io(e);if(t){var o=Io(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Mo(this,n)}}function Mo(e,t){return!t||"object"!==To(t)&&"function"!=typeof t?xo(e):t}function xo(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Io(e){return(Io=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Do=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&No(e,t)}(i,e);var t,n,r,o=Lo(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleConfirmationCodeChange=t.handleConfirmationCodeChange.bind(xo(t)),t.approvePhone=t.approvePhone.bind(xo(t)),t.sendConfirmationCode=t.sendConfirmationCode.bind(xo(t)),t.goBack=t.goBack.bind(xo(t)),t.startTimer=t.startTimer.bind(xo(t)),t.stopTimer=t.stopTimer.bind(xo(t)),t.timerInterval=null,t.state={currentTimestamp:Number(new Date)},t}return t=i,(n=[{key:"componentDidMount",value:function(){this.stopTimer(),this.startTimer()}},{key:"componentWillUpdate",value:function(e){this.props.denyResendUntil!==e.denyResendUntil&&(this.setState({currentTimestamp:Number(new Date)}),this.startTimer())}},{key:"componentWillUnmount",value:function(){this.handleConfirmationCodeChange(""),this.props.changeNativeInputValue("confirmation_code",""),this.props.clearErrors(),this.stopTimer()}},{key:"handleConfirmationCodeChange",value:function(e){(0,this.props.changeConfirmationCode)(e)}},{key:"approvePhone",value:function(e){e.preventDefault();var t=this.props;(0,t.sendApiRequest)(ko,t.confirmationCode)}},{key:"sendConfirmationCode",value:function(e){e.preventDefault();var t=this.props,n=t.sendApiRequest,r=t.phoneNumber;n(Po.a,r)}},{key:"goBack",value:function(){var e=this.props,t=e.sendApiRequest;(0,e.sendAdditionalDataRequestMetrics)("skip_phone",null,"Отложить"),t(fr.a)}},{key:"startTimer",value:function(){var e=this;this.timerInterval=setInterval((function(){var t=Number(new Date);e.setState({currentTimestamp:t}),t>=Number(e.props.denyResendUntil)&&e.stopTimer()}),1e3)}},{key:"stopTimer",value:function(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null)}},{key:"getSendAgainButtonText",value:function(e){var t=this.props.denyResendUntil,n=this.state.currentTimestamp;return e?a.a.createElement("span",null,"Отправить ещё код","  ",a.a.createElement(zn.a,{startTime:n,endTime:Number(t)})):"Отправить ещё код"}},{key:"render",value:function(){var e=this.props,t=e.confirmationCode,n=e.isCaptchaRequired,r=e.denyResendUntil,o=e.popupTitle,i=e.errors,c=this.state.currentTimestamp+1e3<Number(r),u=null;i.length&&(u=Yn.a[i[0]]?Yn.a[i[0]]:Yn.a.internal);var s=this.getSendAgainButtonText(c);return a.a.createElement(Tn,{cls:"phone-confirmation",dataT:"additional-data-request-phone-confirmation"},a.a.createElement(Xn.a,null,a.a.createElement("span",{dangerouslySetInnerHTML:{__html:o}})),a.a.createElement(Qn.a,{cls:"phone-confirmation",dataT:"additional-data-request-phone-confirmation"},a.a.createElement(Hn.b,{size:"l",label:"Код из смс",value:t,name:"confirmation_code",type:"text",error:u,onChange:this.handleConfirmationCodeChange,view:"floating-label"}),n&&a.a.createElement(Wn.a,null),a.a.createElement("div",{"data-t":"phone_enter_confirmation_code_submit",className:"passp-button"},a.a.createElement(Bt.a,{type:"submit",text:"Подтвердить",view:"action",size:"auth-l",width:"max",onClick:this.approvePhone})),a.a.createElement("div",{"data-t":"phone_send_again",className:"passp-button"},a.a.createElement(Bt.a,{type:"button",text:s,view:"pseudo",size:"auth-l",width:"max",disabled:c,onClick:this.sendConfirmationCode})),a.a.createElement("div",{"data-t":"phone_enter_confirmation_code_skip",className:"passp-button"},a.a.createElement(Bt.a,{type:"button",text:"Подтвердить позже",view:"pseudo",size:"auth-l",width:"max",onClick:this.goBack}))))}}])&&Ao(t.prototype,n),r&&Ao(t,r),i}(i.Component);Do.propTypes={confirmationCode:st.a.string,phoneNumber:st.a.string,popupTitle:st.a.string,isCaptchaRequired:st.a.bool,denyResendUntil:st.a.number,errors:st.a.array,changeConfirmationCode:st.a.func.isRequired,sendAdditionalDataRequestMetrics:st.a.func.isRequired,sendApiRequest:st.a.func.isRequired,changeNativeInputValue:st.a.func.isRequired,clearErrors:st.a.func.isRequired};var qo=Object(c.c)((function(e){var t=e.additionalDataRequest,n=t.phone,r=t.confirmationCode,o=t.isConfirmationCodeSent,i=t.isCaptchaRequired,a=t.action,c=t.denyResendUntil,u=t.errors,s=n.number.replace(/ /gi,"&nbsp;");return{confirmationCode:r,isConfirmationCodeSent:o,isCaptchaRequired:i,action:a,denyResendUntil:c,errors:u,popupTitle:"Код подтверждения отправлен на номер %1, введите его в поле ниже:".replace("%1","<b>".concat(s,"</b>")),phoneNumber:n.number,phoneId:n.id}}),(function(e){var t={changeConfirmationCode:ye.k,sendAdditionalDataRequestMetrics:ur.a,sendApiRequest:sr.a,clearErrors:ye.n,changeNativeInputValue:Vn.a};return Object.assign({},Object(z.b)(t,e),{dispatch:e})}))(Do),Uo=n("FLZM5ol4wiAgBtKWcFyx"),Bo=n.n(Uo);function Fo(e){return(Fo="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ho(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Wo(e,t){return(Wo=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function zo(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Yo(e);if(t){var o=Yo(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Vo(this,n)}}function Vo(e,t){return!t||"object"!==Fo(t)&&"function"!=typeof t?Go(e):t}function Go(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yo(e){return(Yo=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Xo=/^.$/,Qo={internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",undefined:"Пожалуйста, заполните поле",empty:"Пожалуйста, заполните поле",notMatched:"Неправильный код подтверждения",callsLimitExceeded:"Превышен лимит звонков, попробуйте позже",smsLimitExceeded:"Превышен лимит отправляемых сообщений, попробуйте позже",rateLimitExceeded:"Превышен лимит проверки кода подтверждения. Отмените операцию или запросите код повторно"},Ko=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Wo(e,t)}(i,e);var t,n,r,o=zo(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).handleChange=t.handleChange.bind(Go(t)),t.getValue=t.getValue.bind(Go(t)),t.getInputByNum=t.getInputByNum.bind(Go(t)),t.handleKeyDown=t.handleKeyDown.bind(Go(t)),t.getInputs=t.getInputs.bind(Go(t)),t.state={isAutomaticallySend:!0,confirmationCodeInputs:t.getInputs()},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this.getInputByNum(1);e&&setTimeout((function(){return e.focus()}),100)}},{key:"componentDidUpdate",value:function(e){e.confirmationCodeLength!==this.props.confirmationCodeLength&&this.setState({confirmationCodeInputs:this.getInputs()})}},{key:"getInputs",value:function(){return Bo()(1,this.props.confirmationCodeLength+1)}},{key:"getInputByNum",value:function(e){return document.getElementById("".concat("confirmation_code_input_").concat(e))}},{key:"handleKeyDown",value:function(e,t){var n=this.getInputByNum(t);if(!n)return!0;if(8!==e.keyCode)return e.target.value&&Xo.test(e.key)&&(n.value=""),!0;if(e.preventDefault(),!e.target.value.slice(-1)){if(1!==t){var r=this.getInputByNum(t-1);r&&r.focus()}return!0}return n.value="",!0}},{key:"getValue",value:function(){var e=this;return this.state.confirmationCodeInputs.map((function(t){var n=e.getInputByNum(t);return n?(n.value||"").trim():""})).join("")}},{key:"handleChange",value:function(e,t){e.preventDefault();var n=this.getInputByNum(t);if(n){var r=this.props,o=r.confirmationCodeLength,i=r.changeCode,a=r.sendCode;if((n.value||"").trim().length>1&&(n.value=e.target.value.slice(-1)),t<o){var c=this.getInputByNum(t+1);c&&c.focus()}var u=this.getValue();i(u),u.length===o&&this.state.isAutomaticallySend&&(this.setState({isAutomaticallySend:!1}),a())}}},{key:"render",value:function(){var e=this,t=this.props,n=t.confirmMethod,r=t.codeError,o=r&&(Qo[r]||Qo.internal)||"";return a.a.createElement("div",{className:"passp-confirmation-code-field"},a.a.createElement("div",{className:"passp-confirmation-code-inputs"},this.state.confirmationCodeInputs.map((function(t){return a.a.createElement("input",{onKeyDown:function(n){return e.handleKeyDown(n,t)},onChange:function(n){return e.handleChange(n,t)},key:"".concat(n).concat(t),type:"text",id:"".concat("confirmation_code_input_").concat(t),autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"})}))),o&&a.a.createElement("div",{className:"passp-form-field__error",dangerouslySetInnerHTML:{__html:o}}))}}])&&Ho(t.prototype,n),r&&Ho(t,r),i}(i.Component);Ko.propTypes={sendCode:st.a.func.isRequired,changeCode:st.a.func.isRequired,codeError:st.a.string,confirmationCodeLength:st.a.number.isRequired,confirmMethod:st.a.string.isRequired};var Jo=Ko;function Zo(){return function(e,t){var n=t(),r={track_id:n.common.track_id,code:n.restoreLogin.confirmationCode};e(Object(oe.q)()),h.a.request("auth/restore_login/confirm_phone",r).done((function(){e(Object(E.Y)(!1)),e(Object(E.X)("")),e((function(e,t){var n=t(),r=n.common.restoreLoginProcessUrl;"restoreLoginProcess"!==n.auth.mode&&(e(Object(E.Eb)()),e(Object(D.d)(r)))})),y.a.send([w.sb,w.lb]),$o(t())})).fail((function(n){var r=n.errors||[];r.includes("calls_limit.exceeded")&&e(Object(oe.o)(!0)),e(Object(oe.r)(function(e){var t={};if(!Array.isArray(e))return t;var n=e.find((function(e){return"code.empty"===e})),r=e.find((function(e){return"code.invalid"===e})),o=e.find((function(e){return"phone_secure.not_found"===e})),i=e.find((function(e){return"rate.limit_exceeded"===e||"confirmations_limit.exceeded"===e})),a=e.find((function(e){return"calls_limit.exceeded"===e}));return e.find((function(e){return"internal"===e}))&&(t.code="internal"),n&&(t.code="empty"),r&&(t.code="notMatched"),i&&(t.code="rateLimitExceeded"),o&&(t.phone="notFound"),a&&(t.phone="callsLimitExceeded",t.code="callsLimitExceeded"),t}(r))),y.a.send([w.sb,w.kb]),$o(t(),r)}))}}function $o(e,t){var n=e.restoreLogin,r=n.isCallExp,o=n.isFlashCallExp,i=n.confirmMethod,a=[w.sb],c="by_sms"===i;r?a.push(w.gb):o?a.push(w.hb):a.push(w.ib),Array.isArray(t)&&t.length?(a.push(c?w.rb:w.pb),a.push(t.join(","))):a.push(c?w.zb:w.wb),y.a.send(a)}function ei(e){return(ei="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ti(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ni(e,t){return(ni=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ri(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ai(e);if(t){var o=ai(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oi(this,n)}}function oi(e,t){return!t||"object"!==ei(t)&&"function"!=typeof t?ii(e):t}function ii(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ai(e){return(ai=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ci=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ni(e,t)}(i,e);var t,n,r,o=ri(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).getSendAgainButtonText=t.getSendAgainButtonText.bind(ii(t)),t.submitForm=t.submitForm.bind(ii(t)),t.enableConfirmationCodeResend=t.enableConfirmationCodeResend.bind(ii(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){y.a.send([w.sb,w.ub]),this.props.changeCode("")}},{key:"componentDidUpdate",value:function(e){e.codeError,this.props.codeError}},{key:"enableConfirmationCodeResend",value:function(){this.props.changeCheckPhoneStatus(!1)}},{key:"getSendAgainButtonText",value:function(){var e=this.props,t=e.isPhoneCheckSent,n=e.sendAgainBtnText;return a.a.createElement("span",null,n,t&&a.a.createElement(po.a,{onTimerEnd:this.enableConfirmationCodeResend}))}},{key:"submitForm",value:function(e){e.preventDefault(),this.props.confirmPhone()}},{key:"render",value:function(){var e=this.props,t=e.confirmPhone,n=e.checkPhone,r=e.changeCode,o=e.codeError,i=e.title,c=e.isPhoneCheckSent,u=e.canSwitchConfirmMethod,s=e.confirmationCodeLength,l=e.switchConfirmationMethod,f=e.isCallConfirmationDisabled,d=e.confirmMethod,p=this.getSendAgainButtonText();return a.a.createElement(Tn,{cls:"restore-login-enter-confirmation-code",dataT:"enter-confirmation-code"},a.a.createElement(Xn.a,null,a.a.createElement("div",{dangerouslySetInnerHTML:{__html:i}})),a.a.createElement(Qn.a,{onSubmit:this.submitForm,cls:"enter-confirmation-code",dataT:"enter-confirmation-code"},a.a.createElement(Jo,{confirmationCodeLength:s,confirmMethod:d,changeCode:r,sendCode:t,codeError:o}),a.a.createElement("div",{"data-t":"submit-phone-code-btn",className:"passp-button"},a.a.createElement(Bt.a,{type:"submit",text:"Далее",view:"action",size:"auth-l",width:"max"})),a.a.createElement("div",{"data-t":"send-code-again-btn",className:"passp-button passp-send-again-btn"},a.a.createElement(Bt.a,{text:p,type:"button",view:"pseudo",disabled:c||f,onClick:n,size:"auth-l",width:"max"})),u&&a.a.createElement("div",{"data-t":"switch-confirmation-method-btn",className:"passp-button"},a.a.createElement(Bt.a,{text:"Подтвердить по СМС",type:"button",view:"pseudo",disabled:c,onClick:l,size:"auth-l",width:"max"}))))}}])&&ti(t.prototype,n),r&&ti(t,r),i}(i.Component);ci.propTypes={confirmPhone:st.a.func.isRequired,changeCheckPhoneStatus:st.a.func.isRequired,checkPhone:st.a.func.isRequired,changeCode:st.a.func.isRequired,switchConfirmationMethod:st.a.func.isRequired,isPhoneCheckSent:st.a.bool.isRequired,canSwitchConfirmMethod:st.a.bool.isRequired,codeError:st.a.string.isRequired,isCallConfirmationDisabled:st.a.bool.isRequired,title:st.a.string.isRequired,sendAgainBtnText:st.a.string.isRequired,confirmMethod:st.a.string.isRequired,confirmationCodeLength:st.a.number.isRequired};var ui=Object(c.c)((function(e){var t=e.restoreLogin,n=t.phone,r=t.isPhoneCheckSent,o=t.isPhoneOverheated,i=t.callingNumberTemplate,a=t.errors,c=a.code,u=a.phone,s=t.confirmMethod,l=(n||"").trim().replace(/ /gi,"&nbsp;"),f="Введите код из СМС, отправленный на номер %1".replace("%1",l),d=6,p="Отправить ещё код",h=!1,b="callsLimitExceeded"===c||"callsLimitExceeded"===u;return"by_sms"!==s&&(p="Перезвонить ещё раз",h=!0),"by_call"===s&&(f="Сейчас мы вам позвоним. Пожалуйста, введите ниже код, который мы назовём."),"by_flash_call"===s&&(f="Сейчас вам поступит звонок с номера %s. Введите последние четыре цифры номера".replace("%s","<span class='passp-phone-template'>".concat(i,"</span>")),d=4),{codeError:c||"",confirmMethod:s,isCallConfirmationDisabled:(o||b)&&h,title:f,isPhoneCheckSent:r,confirmationCodeLength:d,sendAgainBtnText:p,canSwitchConfirmMethod:h}}),(function(e){return{confirmPhone:function(){return e(Zo())},checkPhone:function(){return e(Cr.check(!0))},changeCheckPhoneStatus:function(t){return e(Object(oe.m)(t))},changeCode:function(t){return e(Object(oe.n)(t))},switchConfirmationMethod:function(){e(Object(oe.t)("by_sms")),e(Cr.check())}}}))(ci),si=(n("PTCjo6J79rSoGrbNe64k"),n("E9IGm0Yn7bS+QmLsuwLk"));function li(e){return(li="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fi(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function di(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pi(e,t){return(pi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function hi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=mi(e);if(t){var o=mi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return bi(this,n)}}function bi(e,t){return!t||"object"!==li(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function mi(e){return(mi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var yi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pi(e,t)}(i,e);var t,n,r,o=hi(i);function i(){return fi(this,i),o.apply(this,arguments)}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.commitAuthBySMS,n=e.submitAuthBySMS;return a.a.createElement(Tn,{cls:"AuthConfirmationBySMSPopup",dataT:"auth-confirmation-by-sms-popup"},a.a.createElement(Qn.a,{withoutOffset:!0,cls:"AuthConfirmationBySMSForm",dataT:"auth-confirmation-by-sms-popup"},a.a.createElement(si.a,{onConfirm:t,onRetry:n,place:"auth"})))}}])&&di(t.prototype,n),r&&di(t,r),i}(a.a.PureComponent);yi.propTypes={commitAuthBySMS:st.a.func.isRequired,submitAuthBySMS:st.a.func.isRequired};var gi={submitAuthBySMS:Z.d,commitAuthBySMS:Z.b},vi=Object(c.c)(null,gi)(yi);n("86UARWAr2fpsKbyzDs42");function Oi(e){return(Oi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ei(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function wi(e,t){return(wi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Si(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ri(e);if(t){var o=Ri(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ji(this,n)}}function ji(e,t){return!t||"object"!==Oi(t)&&"function"!=typeof t?Ci(e):t}function Ci(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ri(e){return(Ri=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ki(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Pi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wi(e,t)}(i,e);var t,n,r,o=Si(i);function i(){var e;_i(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ki(Ci(e=o.call.apply(o,[this].concat(n))),"onConfirm",(function(){(0,e.props.commitNeoPhonishAuth)()})),ki(Ci(e),"onRetry",(function(){var t=e.props;(0,t.retryToRequestPhoneConfirmationCode)(t.trackId)})),e}return t=i,(n=[{key:"componentDidMount",value:function(){y.a.send("Показ экрана подтверждения телефона с помощью СМС для неофониша")}},{key:"render",value:function(){return a.a.createElement(Tn,{cls:"NeoPhonishAuthConfirmationBySMSPopup",dataT:"neophonish-auth-confirmation-by-sms"},a.a.createElement(Qn.a,{withoutOffset:!0,cls:"NeoPhonishAuthConfirmationBySMSPopup",dataT:"neophonish-auth-confirmation-by-sms"},a.a.createElement(si.a,{onConfirm:this.onConfirm,onRetry:this.onRetry,place:"auth"})))}}])&&Ei(t.prototype,n),r&&Ei(t,r),i}(a.a.PureComponent);Pi.propTypes={retryToRequestPhoneConfirmationCode:st.a.func.isRequired,commitNeoPhonishAuth:st.a.func.isRequired,trackId:st.a.string.isRequired};var Ti=n("bgXyrsqSC6Iqs5Ce6LQm"),Ai={retryToRequestPhoneConfirmationCode:we.m,commitNeoPhonishAuth:Ti.a},Ni=Object(c.c)((function(e){return{trackId:Object(C.h)(e,ue.b.AUTH)}}),Ai)(Pi),Li=(n("aBOA/NaJiKvwJlS5xFGk"),Object(jt.cn)("Header")),Mi=function(e){var t=e.serviceLogo;return t?a.a.createElement("span",{className:Li("service"),style:{backgroundImage:"url(".concat(t,")")}}):null};Mi.propTypes={serviceLogo:st.a.string.isRequired,fullLogo:st.a.bool};var xi=function(e){var t=e.serviceLogo,n=e.isAvailable,r=e.isServiceLogoAvailable;return n?a.a.createElement("div",{className:Li("")},a.a.createElement("div",{className:Li("logo")},r?a.a.createElement(Mi,{serviceLogo:t}):a.a.createElement(gn,null))):null};xi.propTypes={serviceLogo:st.a.string,isAvailable:st.a.bool,isServiceLogoAvailable:st.a.bool};var Ii=["/auth","/auth/add","/auth/list","/auth/welcome"],Di=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.customs,n=void 0===t?{}:t,r=e.auth,o=void 0===r?{}:r,i=e.router,a=void 0===i?{}:i,c=a.location,u=void 0===c?{}:c,s=n.serviceLogo,l=o.mode,f=u.pathname;return{serviceLogo:s,isAvailable:"magic"!==l,isServiceLogoAvailable:Boolean(s)&&Ii.includes(f)}}))(xi);function qi(e){return(qi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ui(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Bi(e,t){return(Bi=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fi(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=zi(e);if(t){var o=zi(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Hi(this,n)}}function Hi(e,t){return!t||"object"!==qi(t)&&"function"!=typeof t?Wi(e):t}function Wi(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zi(e){return(zi=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Vi(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gi=Object(jt.cn)("PagePopup"),Yi={authLetter:Fn,additionalDataRequestPhoneConfirmation:qo,phoneConfirmation:ir,authConfirmationBySMS:vi,emailConfirmation:wr,restoreLoginEnterCaptcha:Dr,restoreLoginEnterConfirmationCode:ui,authMessenger:to,authMessengerInfo:fo,challengeCall:Ro,neoPhonishAuthConfirmationBySMS:Ni},Xi=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Bi(e,t)}(i,e);var t,n,r,o=Fi(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),Vi(Wi(t=o.call(this,e)),"closePopup",(function(){(0,t.props.changePagePopupVisibility)(!1)})),Vi(Wi(t),"renderV5Popup",(function(){var e=t.props.pagePopupType,n=!["authLetter","authMessenger"].includes(e),r=Yi[e];return a.a.createElement("div",{className:Gi()},n&&a.a.createElement(Dt,{type:"closer",onClick:t.closePopup}),a.a.createElement(Di,null),r&&a.a.createElement(r,{closePopup:t.closePopup}))})),t.isRuLogo=!e.language||["ru","uk"].includes(e.language),t.logoName="ys-".concat(t.isRuLogo?"ru":"en","-").concat(t.isRuLogo?"98":"102","x42"),t}return t=i,(n=[{key:"render",value:function(){return this.renderV5Popup()}}])&&Ui(t.prototype,n),r&&Ui(t,r),i}(i.Component);Xi.propTypes={pagePopupType:st.a.string,changePagePopupVisibility:st.a.func.isRequired,tld:st.a.string.isRequired,language:st.a.string.isRequired};var Qi={changePagePopupVisibility:E.Y},Ki=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.pagePopup,n=t.isShowPagePopup,r=t.pagePopupType,o=e.settings.tld;return{isShowPagePopup:n,pagePopupType:r,tld:o,language:Object(C.d)(e)}}),Qi)(Xi);function Ji(e){return(Ji="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zi(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $i(e,t){return($i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ea(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=na(e);if(t){var o=na(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ta(this,n)}}function ta(e,t){return!t||"object"!==Ji(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function na(e){return(na=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ra=["/auth","/auth/add","/auth/list","/auth/preregister"],oa=/^\/auth\/(preregister)(\/)?/,ia=/^\/auth\/register\/lite/,aa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&$i(e,t)}(i,e);var t,n,r,o=ea(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).isRuLogo=!e.lang||-1!==["ru","uk"].indexOf(e.lang),t.logoName="ys-".concat(t.isRuLogo?"ru":"en","-").concat(t.isRuLogo?"98":"102","x42"),t}return t=i,(n=[{key:"render",value:function(){var e=this.props,t=e.location,n=e.registrationUrl,r=e.yandexSupportUrl,o=e.origin,i=e.goToRegistration,c=e.retpathUrl,u=e.switchToLoginPage,s=e.switchToListPage,l=e.editUrl,f=e.addUserUrl,d=e.minimal,p=e.isRestoreLoginMode,h=e.isQRPromo1Enabled,b=e.registrationLinkText,m=e.mode,y=e.isRegisterModeWithFirstStep,g=e.skipHeaderLink,v=ia.test(t.pathname);return a.a.createElement("div",{className:"passp-auth-header"},!g&&a.a.createElement(ca,{location:t,mode:m||"edit",switchToListPage:s,switchToLoginPage:u,editUrl:l,addUserUrl:f,registrationUrl:n,yandexSupportUrl:r,origin:o,registrationLinkText:b,isRestoreLoginMode:p,goToRegistration:i,retpathUrl:c,minimal:d,isRegisterModeWithFirstStep:y}),!v&&a.a.createElement(gn,{className:dt()("passp-logo",{"passp-logo_ru":this.isRuLogo,"passp-logo_qr-promo":"magic"===m&&h}),size:"l"}))}}])&&Zi(t.prototype,n),r&&Zi(t,r),i}(i.Component);function ca(e){var t=e.location,n=e.mode,r=e.origin,o=e.yandexSupportUrl,c=e.switchToListPage,u=e.switchToLoginPage,s=e.editUrl,l=e.addUserUrl,f=e.registrationUrl,d=e.registrationLinkText,p=e.isRestoreLoginMode,h=e.goToRegistration,b=e.minimal,m=e.isRegisterModeWithFirstStep,y=ra.indexOf(t.pathname)>-1,g=!oa.test(t.pathname)&&y,v="china"===r,O=!y&&"registerLite"!==n&&"restore-password"!==n;return p?a.a.createElement(Nn.a,{className:"passp-auth-header-link passp-auth-header-link_visible",onClick:u,href:l},"Я вспомнил логин"):m?a.a.createElement(Nn.a,{className:"passp-auth-header-link passp-auth-header-link_visible",onClick:c,href:s},"Уже есть аккаунт"):v?a.a.createElement(i.Fragment,null,a.a.createElement(Nn.a,{className:dt()("passp-auth-header-link",{"passp-auth-header-link_visible_china":g}),href:o,target:"_blank"},"Сообщить о проблеме"),a.a.createElement(Nn.a,{className:dt()("passp-auth-header-link",{"passp-auth-header-link_visible":O}),onClick:c,href:s},"Другой аккаунт")):a.a.createElement(i.Fragment,null,!b&&a.a.createElement(Nn.a,{className:dt()("passp-auth-header-link",{"passp-auth-header-link_visible":g}),onClick:h,href:f},d),a.a.createElement(Nn.a,{className:dt()("passp-auth-header-link",{"passp-auth-header-link_visible":O}),onClick:c,href:s},"Другой аккаунт"))}function ua(e){return(ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function la(e,t){return(la=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ha(e);if(t){var o=ha(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return da(this,n)}}function da(e,t){return!t||"object"!==ua(t)&&"function"!=typeof t?pa(e):t}function pa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ha(e){return(ha=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}aa.propTypes={location:st.a.object,registrationUrl:st.a.string,goToRegistration:st.a.func.isRequired,switchToLoginPage:st.a.func.isRequired,switchToListPage:st.a.func.isRequired,editUrl:st.a.string,addUserUrl:st.a.string,origin:st.a.string,yandexSupportUrl:st.a.string,lang:st.a.string,minimal:st.a.object,isRestoreLoginMode:st.a.bool,isQRPromo1Enabled:st.a.bool,registrationLinkText:st.a.string,mode:st.a.string,retpathUrl:st.a.string,isRegisterModeWithFirstStep:st.a.bool,skipHeaderLink:st.a.bool},ca.propTypes={location:st.a.object,mode:st.a.string,switchToListPage:st.a.func.isRequired,switchToLoginPage:st.a.func.isRequired,editUrl:st.a.string,addUserUrl:st.a.string,registrationUrl:st.a.string,yandexSupportUrl:st.a.string,registrationLinkText:st.a.string,isRestoreLoginMode:st.a.bool,goToRegistration:st.a.func.isRequired,minimal:st.a.bool,isRegisterModeWithFirstStep:st.a.bool,origin:st.a.string};var ba=Object(jt.cn)("AuthFooter"),ma=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&la(e,t)}(i,e);var t,n,r,o=fa(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).toggleLangswitcherPopup=t.toggleLangswitcherPopup.bind(pa(t)),t.onOutsideClick=t.onOutsideClick.bind(pa(t)),t.state={langPopupOpen:!1},t}return t=i,r=[{key:"handleEnterKey",value:function(e){13===e.keyCode&&e.target.click()}}],(n=[{key:"componentDidMount",value:function(){window.addEventListener?window.addEventListener("click",this.onOutsideClick):window.attachEvent("onclick",this.onOutsideClick)}},{key:"componentWillUnmount",value:function(){window.removeEventListener?window.removeEventListener("click",this.onOutsideClick):window.detachEvent("onclick",this.onOutsideClick)}},{key:"toggleLangswitcherPopup",value:function(e){e.stopPropagation(),this.setState((function(e){return{langPopupOpen:!e.langPopupOpen}}))}},{key:"onOutsideClick",value:function(){this.setState({langPopupOpen:!1})}},{key:"render",value:function(){var e=this.props,t=e.tld,n=e.lang,r=e.options,o=e.currentYear,c=e.helpLink,u=e.hasSwitcher,s=e.isWebView,l=e.isMobile,f=this.state.langPopupOpen;return a.a.createElement("footer",{className:ba({v5:!0})},a.a.createElement("div",{className:ba("wrapper")},!s&&!l&&a.a.createElement("div",{className:ba("incognitoLink")},a.a.createElement("span",{className:ba("item")},["ru","com","com.tr","ua","by","kz","uz"].includes(t)&&a.a.createElement(Nn.a,{onClick:function(){y.a.send(["Нажатие на ссылку инкогнито в футере"])},target:"_blank",href:"https://yandex.".concat(t,"/support/common/browsers-settings/incognito.html")},"Используйте режим инкогнито на чужом компьютере")||"Используйте режим инкогнито на чужом компьютере")),a.a.createElement("div",{className:ba("mainBlock",{single:s||l})},u&&a.a.createElement("span",{onKeyUp:i.handleEnterKey,className:ba("item"),"aria-expanded":f},a.a.createElement(Nn.a,{onClick:this.toggleLangswitcherPopup,pseudo:!0,className:ba("itemCap")},n),a.a.createElement("span",{className:ba("langList",{opened:f,closed:!f})},a.a.createElement("ul",null,r.map((function(e,t){return a.a.createElement("li",{className:ba("langListItem"),key:t},a.a.createElement(Nn.a,{href:e.url},e.text))}))))),!s&&a.a.createElement("span",{className:ba("item")},a.a.createElement(Nn.a,{href:c,target:"_blank"},"Помощь")),a.a.createElement("span",{className:ba("item")},a.a.createElement("span",{className:ba("copyright")},"© ".concat("ru"===t?"2001-":"").concat(o,", ")),s?"Яндекс":a.a.createElement(Nn.a,{href:"//yandex.".concat(t)},"Яндекс")))))}}])&&sa(t.prototype,n),r&&sa(t,r),i}(i.Component);ma.propTypes={tld:st.a.string.isRequired,lang:st.a.string.isRequired,options:st.a.array.isRequired,helpLink:st.a.string.isRequired,currentYear:st.a.number.isRequired,hasSwitcher:st.a.bool.isRequired,isWebView:st.a.bool,isMobile:st.a.bool};var ya=Object(c.c)((function(e){var t,n=e.settings,r=n.tld,o=n.env,i=n.help,a=n.lang,c=n.language,u=n.langlist,s=e.common.isWebView,l=(new Date).getFullYear(),f=r;["az","com.am","com.ge","kg","md","tj","tm","uz"].indexOf(f)>-1?f="ru":["co.il","fr","lv","lt","ee","fi","pl","eu"].indexOf(f)>-1&&(f="com"),t=u&&"intranet"!==o.name?u.filter((function(e){return e.id!==a&&e.id!==c})).map((function(e){return{text:e.name,url:e.link}})):[];var d=((i||{}).passport||"#").replace("%tld%",f),p="intranet"===o.name,h="com"!==r&&!p&&t.length>0;return{tld:r,lang:a||c,options:t,helpLink:d,currentYear:l,hasSwitcher:h,isWebView:s,isMobile:Object(C.l)(e)}}))(ma);var ga=n("1/rhdewKX/no1FAYkAR/"),va=n("cVaAHdyqK6SlfOPrCbC+");n("gd6eFyiLAn5TfTBgsZ6r");var Oa=function(e){var t=e.bgNumber;return t&&a.a.createElement("div",{className:"passp-bg passp-bg_".concat(t," ").concat("passp-bg-v5")})};Oa.propTypes={bgNumber:st.a.string};var _a=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.common,n=void 0===t?{}:t,r=n.bgNumber;return{bgNumber:r}}))(Oa);function Ea(e){return(Ea="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Sa(e,t){return(Sa=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ja(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ka(e);if(t){var o=ka(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ca(this,n)}}function Ca(e,t){return!t||"object"!==Ea(t)&&"function"!=typeof t?Ra(e):t}function Ra(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ka(e){return(ka=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Pa=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Sa(e,t)}(i,e);var t,n,r,o=ja(i);function i(e){var t,n,r,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=o.call(this,e),n=Ra(t),c=function(){var e=t.props,n=e.location,r=e.registrationUrl,o=e.editUrl,i=e.retpathUrl,c=e.addUserUrl,u=e.yandexSupportUrl,s=e.origin,l=e.lang,f=e.minimal,d=e.isRestoreLoginMode,p=e.isQRPromo1Enabled,h=e.registrationLinkText,b=e.mode,m=e.isRegisterModeWithFirstStep,y=e.skipHeaderLink;return a.a.createElement(aa,{retpathUrl:i,goToRegistration:t.goToRegistration,switchToLoginPage:t.switchToLoginPage,switchToListPage:t.switchToListPage,location:n,registrationUrl:r,yandexSupportUrl:u,origin:s,editUrl:o,addUserUrl:c,lang:l,minimal:f,isRestoreLoginMode:d,isQRPromo1Enabled:p,registrationLinkText:h,mode:b,isRegisterModeWithFirstStep:m,skipHeaderLink:y})},(r="renderHeader")in n?Object.defineProperty(n,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[r]=c,t.goToRegistration=t.goToRegistration.bind(Ra(t)),t.sendAnotherAccountMetrics=t.sendAnotherAccountMetrics.bind(Ra(t)),t.switchToListPage=t.switchToListPage.bind(Ra(t)),t.switchToLoginPage=t.switchToLoginPage.bind(Ra(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){W.a.maybeEmitEventWithDataFromStorage()}},{key:"goToRegistration",value:function(e){var t=this.props,n=t.mode,r=t.isPreRegisterExp,o=t.isPreRegisterWithSocialExp,i=t.dispatch,a=t.isRegisterWithSuggestToRestoreByPhoneInDaHouse,c=t.isNeoPhonishRegisterExp,u={addingAccount:w.rc,edit:w.Ac,welcome:w.uc};if(y.a.send([u[n],w.I]),a||c)return e.preventDefault(),i(Object(va.a)());(r||o)&&(e.preventDefault(),i(Object(ga.a)()))}},{key:"sendAnotherAccountMetrics",value:function(){var e=this.props.mode,t={addingAccount:w.rc,edit:w.Ac,welcome:w.uc};y.a.send([t[e],w.D])}},{key:"switchToListPage",value:function(e){e.preventDefault();var t=this.props,n=t.accounts,r=void 0===n?{}:n,o=t.isShowPagePopup,i=t.dispatch;this.sendAnotherAccountMetrics(),o&&i(Object(E.Y)(!1)),Object.keys(r).length>1?i((function(e,t){var n=t().common.editUrl;e(Object(D.d)(n)),e(Object(E.xb)(null)),e(Object(E.Cb)())})):(i(Object(E.Lb)("")),i(Object(Vn.a)("login","")),i(Object(j.a)()))}},{key:"switchToLoginPage",value:function(e){e.preventDefault();var t=this.props.dispatch;t(Object(E.Lb)("")),t(Object(E.Y)(!1)),t(Object(E.X)("")),t(Object(Vn.a)("login","")),t(Object(j.a)())}},{key:"render",value:function(){var e=this.props,t=e.location,n=e.minimal,r=e.isTouch,o=e.isMobile,i=e.isTablet,c=e.isShowMobileMenu,u=e.isShowPagePopup,s=e.isQRPromo1Enabled,l=e.isQRPromoPart2Enabled,f=e.isAM,d=i||!o,p=t&&"/auth/challenge"===t.pathname;return a.a.createElement("div",{className:"passp-flex-wrapper"},a.a.createElement("div",{className:dt()("passp-page",{"passp-page_minimal":n,"passp-show-mobile-menu":r&&c})},d&&a.a.createElement(_a,null),a.a.createElement("div",{className:"passp-flex-wrapper"},a.a.createElement("div",{className:dt()("passp-content")},s&&a.a.createElement("div",{id:"qr-promo-tooltip",className:"qr-promo__tooltip qr-promo__tooltip-1"},"Входите с помощью приложения Яндекс"),!r&&l&&a.a.createElement("div",{id:"qr-promo-tooltip-large",className:"qr-promo__tooltip qr-promo__tooltip-part2"},a.a.createElement("div",{className:"qr-promo__tooltip-wrapper"},a.a.createElement("h6",{className:"qr-promo__tooltip-title"},"Входите быстрее через приложение Яндекс"),a.a.createElement("div",{className:"qr-promo__tooltip-part2-content"},a.a.createElement("div",{className:"qr-promo__tooltip-part2-animation"}),a.a.createElement("a",{href:"https://yandex.ru/promo/searchapp/login/qr",target:"_blank",className:"qr-promo__tooltip-part2-link",rel:"noopener noreferrer"},"Узнать больше")))),a.a.createElement("div",{className:dt()("passp-auth",{"passp-auth-box":!0})},a.a.createElement(Et,null),u&&a.a.createElement(Ki,null),!u&&a.a.createElement(a.a.Fragment,null,!p&&a.a.createElement(Dt,null),!1,a.a.createElement("div",{className:dt()("passp-auth-content",{"passp-auth-content-box":!0})},a.a.createElement(Di,null),this.props.children),!1),a.a.createElement("iframe",{className:"passp-iframe",name:"iframe",src:"about:blank"})))),!f&&a.a.createElement(ya,null)))}}])&&wa(t.prototype,n),r&&wa(t,r),i}(i.Component);Pa.propTypes={location:st.a.object.isRequired,accounts:st.a.object,registrationUrl:st.a.string,yandexSupportUrl:st.a.string,editUrl:st.a.string,addUserUrl:st.a.string,lang:st.a.string,origin:st.a.string,mode:st.a.string,registrationLinkText:st.a.string.isRequired,isShowMobileMenu:st.a.bool,isShowPagePopup:st.a.bool,isRestoreLoginMode:st.a.bool.isRequired,isQRPromo1Enabled:st.a.bool,isQRPromoPart2Enabled:st.a.bool,isPreRegisterExp:st.a.bool,isPreRegisterWithSocialExp:st.a.bool,isTouch:st.a.bool,isMobile:st.a.bool,isTablet:st.a.bool,minimal:st.a.bool,dispatch:st.a.func.isRequired,children:st.a.node.isRequired,retpathUrl:st.a.string.isRequired,isRegisterWithSuggestToRestoreByPhoneInDaHouse:st.a.bool,isNeoPhonishRegisterExp:st.a.bool,isRegisterModeWithFirstStep:st.a.bool,skipHeaderLink:st.a.bool,isAM:st.a.bool};var Ta=Object(c.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.auth,n=t.unitedAccounts,r=t.mode,o=t.isQRPromo1Enabled,i=t.isQRPromoPart2Enabled,a=t.isPreRegisterExp,c=t.isPreRegisterWithSocialExp,u=t.isDefaultTextsExp,s=t.isRegisterWithSuggestToRestoreByPhoneInDaHouse,l=e.mobileMenu.isShowMobileMenu,f=e.pagePopup.isShowPagePopup,d=e.common,p=d.registration_url,h=d.editUrl,b=d.addUserUrl,m=d.retpath,y=d.origin,g=d.yandex_support_url,v=d.profile_url,O=d.pane,_=d.isWebView,E=d.isAM,w=e.settings,S=w.lang,j=w.ua,R=j.isTouch,k=j.isMobile,P=j.isTablet,T=e.customs.minimal,A=e.userEntryFlow,N=void 0===A?{}:A,L=e.router,M=void 0===L?{}:L,x=M.location,I=void 0===x?{}:x,D=Object(wt.c)(e),q=Object(wt.d)(D),U=N.step,B=void 0===U?"":U,F=m||v,H=D===Ct.g&&q[0]!==B&&!!B,W=[Ct.b,Ct.c].includes(D),z=W&&(q[0]===B||!B),V="addAvatar"===r,G=I&&"/auth/challenge"===I.pathname,Y=V||G||W&&!z||"/register/link"===O||"/auth/link"===O||D===Ct.e,X="Зарегистрироваться";return(a||c)&&(X="Зарегистрироваться"),u&&(X="Завести почту на Яндексе"),{isTouch:R,isMobile:k,isTablet:P,accounts:n,registrationUrl:p,editUrl:h,addUserUrl:b,lang:S,minimal:T,isShowMobileMenu:l,isShowPagePopup:f,isRestoreLoginMode:H,isQRPromo1Enabled:o,isQRPromoPart2Enabled:i,isPreRegisterExp:a,isPreRegisterWithSocialExp:c,mode:r,origin:y,yandexSupportUrl:g,registrationLinkText:X,retpathUrl:F,pane:O,isRegisterWithSuggestToRestoreByPhoneInDaHouse:s,isWebView:_,isRegisterModeWithFirstStep:z,isRegisterMode:W,isNeoPhonishRegisterExp:Object(C.m)(e),skipHeaderLink:Y,isAM:E}}))(Pa),Aa=n("4tukrXXzQxXcS3FWThbe");function Na(e){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function La(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ma(e,t){return(Ma=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xa(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Da(e);if(t){var o=Da(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ia(this,n)}}function Ia(e,t){return!t||"object"!==Na(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Da(e){return(Da=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var qa={enter:300,exit:300},Ua=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ma(e,t)}(i,e);var t,n,r,o=xa(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={transitionClassName:"",historyKeys:[]},t}return t=i,(n=[{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.location,o=n.isLoading,i=e.location,a=e.history,c=e.isLoading,u=this.state,s=u.transitionClassName,l=u.historyKeys,f="/auth"===r.pathname?"/auth/add":r.pathname,d="/auth"===i.pathname?"/auth/add":i.pathname,p=r.search,h=i.search;return s!==t.transitionClassName||l.length!==t.historyKeys.length||o!==c||(f!==d||p!==h)&&"replace"!==a.action.toLowerCase()}},{key:"componentDidUpdate",value:function(e){var t=e.location,n=this.state.historyKeys,r=this.props,o=r.location,i=r.history;if(t!==o&&t.pathname!==o.pathname)if(o.state&&o.state.isPreviousStep)this.setState((function(e){return{transitionClassName:"passp-route-back",historyKeys:e.historyKeys.concat([o.key])}}));else if("push"!==i.action.toLowerCase()){var a=n[n.length-1-1];o.key!==a?this.setState((function(e){return{transitionClassName:"passp-route-forward",historyKeys:e.historyKeys.concat([o.key])}})):this.setState((function(e){return{transitionClassName:"passp-route-back",historyKeys:e.historyKeys.slice(0,-1)}}))}else this.setState((function(e){return{transitionClassName:"passp-route-forward",historyKeys:e.historyKeys.concat([o.key])}}))}},{key:"render",value:function(){var e=this.props.location,t=this.state.transitionClassName;return a.a.createElement(Aa.TransitionGroup,{className:t},a.a.createElement(Aa.CSSTransition,{key:e.key,timeout:qa,classNames:"passp-route",appear:!0},this.props.children))}}])&&La(t.prototype,n),r&&La(t,r),i}(i.Component);Ua.propTypes={location:st.a.object,history:st.a.object,accounts:st.a.object,magicError:st.a.string,loginError:st.a.string,passwordError:st.a.string,captchaError:st.a.string,additionalDataErrors:st.a.array,isShowMobileMenu:st.a.bool,isLoading:st.a.bool,isCaptchaRequired:st.a.bool,isCanRegister:st.a.bool,children:st.a.node.isRequired};var Ba=Object(c.c)((function(e){var t=e.auth,n=t.unitedAccounts,r=t.form,o=void 0===r?{}:r,i=t.isCaptchaRequired,a=t.magicError,c=t.loginError,u=t.passwordError,s=t.loading,l=t.captchaError,f=e.mobileMenu.isShowMobileMenu,d=e.pagePopup.isShowPagePopup,p=e.additionalDataRequest.errors;return{isCanRegister:Boolean(o.isCanRegister),isLoading:s,accounts:n,isCaptchaRequired:i,magicError:a,loginError:c,passwordError:u,captchaError:l,isShowMobileMenu:f,isShowPagePopup:d,additionalDataErrors:p}}))(Ua),Fa=n("mNaMim9b+xb4df3rV6hq");function Ha(e){return(Ha="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wa(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function za(e,t){return(za=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Va(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qa(e);if(t){var o=Qa(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ga(this,n)}}function Ga(e,t){return!t||"object"!==Ha(t)&&"function"!=typeof t?Xa(e):t}function Xa(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qa(e){return(Qa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ka=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&za(e,t)}(i,e);var t,n,r,o=Va(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).addBrowserPageVisibilityStateHandler=t.addBrowserPageVisibilityStateHandler.bind(Xa(t)),t.handleBrowserPageVisibilityState=t.handleBrowserPageVisibilityState.bind(Xa(t)),t.removeBrowserPageVisibilityStateHandler=t.removeBrowserPageVisibilityStateHandler.bind(Xa(t)),t}return t=i,(n=[{key:"componentDidMount",value:function(){this.addBrowserPageVisibilityStateHandler()}},{key:"componentWillUnmount",value:function(){this.removeBrowserPageVisibilityStateHandler()}},{key:"addBrowserPageVisibilityStateHandler",value:function(){document.addEventListener?document.addEventListener("visibilitychange",this.handleBrowserPageVisibilityState,!1):document.attachEventListener("onvisibilitychange",this.handleBrowserPageVisibilityState,!1)}},{key:"removeBrowserPageVisibilityStateHandler",value:function(){document.removeEventListener?document.removeEventListener("visibilitychange",this.handleBrowserPageVisibilityState,!1):document.detachEvent("onvisibilitychange",this.handleBrowserPageVisibilityState,!1)}},{key:"handleBrowserPageVisibilityState",value:function(){var e=this.props.dispatch;"visible"===document.visibilityState&&e(Object(Fa.a)())}},{key:"render",value:function(){return a.a.createElement("div",{className:"passp-page-visibility"})}}])&&Wa(t.prototype,n),r&&Wa(t,r),i}(i.Component);Ka.propTypes={dispatch:st.a.func.isRequired};var Ja=Object(c.c)()(Ka),Za=n("WKSiwh2w4AbQ7M4ZZhXj");n("hBP4SLbz5uIbVFOLQdfM");function $a(){return($a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ec=function(e){var t=e.location,n=e.history,r=e.isAdditionalDataRequestEnabled,o=e.isQRPromo1Enabled,i={};r&&(i.isAdditionalDataRequestEnabled=!0),o&&(i.isQRPromoEnabled=!0);var c=Object(Za.a)(i);return a.a.createElement(Ta,{location:t},a.a.createElement(Ja,null),a.a.createElement(Ba,{location:t,history:n},a.a.createElement(lt.c,{location:t},c.map((function(e){return a.a.createElement(lt.a,$a({key:e.path},e))})))))};ec.propTypes={location:st.a.shape({key:st.a.string,pathname:st.a.string.isRequired}).isRequired,history:st.a.shape({action:st.a.string.isRequired}).isRequired,isAdditionalDataRequestEnabled:st.a.bool,isQRPromo1Enabled:st.a.bool};var tc=Object(lt.e)(Object(c.c)((function(e){var t=e.auth;return{isAdditionalDataRequestEnabled:t.isAdditionalDataRequestEnabled,isQRPromo1Enabled:t.isQRPromo1Enabled}}))(ec));Object(H.b)((function(){var e=window.__REDUX_STORE__,t=e.common,n=void 0===t?{}:t,r=e.social,o=void 0===r?{}:r,i=n.pane,a=F()();U({App:tc,configureStore:ct,withMagic:!0,withRouter:!0,history:a,replaceHistory:i,broker:o.brokerParams?W.a:void 0})}))},"4CLY6EXHBdRASoqLgoNs":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("znTbw0iOKLShrW2tHvtf"),o=n("Cn0bb7dlXdz9iLHfBkZ3"),i=n("2RwP39fxF+52d7V4pFC1"),a=n("IWyIY6v871rrx6jPCZuR"),c=n("FUZ6AA4Oce8/2wMDn7Ki");function u(){return function(e,t){"text"===t().captcha.type?e(Object(r.a)()):e((function(e,t){var n=t(),r=n.common,u=r.track_id,s=r.uid,l=n.settings.language,f=n.captcha.trackId||u;e(Object(a.a)()),e(Object(c.m)()),o.a.request("audiocaptcha",{track_id:f,uid:s,language:l},{abortPrevious:!0}).done((function(t){return e(Object(i.a)(t,!0))})).fail((function(t){return e(Object(c.n)(t))}))}))}}},"4PW1s/ilPJjlPErxhtwM":function(e,t,n){},"5F+6fz9+ivUTWfn90aaq":function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return c}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("s7ETookYgfkMG6aMgioe"),i=n("Yp2QB2jYYmLrYZQDlfoW"),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=t.form,c=void 0===a?{}:a,u=t.tracks,s=void 0===u?{}:u,l=t.logins,f=void 0===l?{}:l,d=f.loginsList,p=void 0===d?[]:d,h=c.values,b=void 0===h?{}:h,m=s.registerTrackId,y=p[0]===b.login,g={trackId:m,login:p.includes(b.login)?"":b.login||"",firstname:b.firstname||"",lastname:b.lastname||""};return new Promise((function(t){return r.a.getSuggestedLogins(g).then((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=r.logins,c=void 0===a?[]:a;e(Object(o.k)({logins:c})),n&&c.length&&(y||!b.login)&&e(Object(i.N)({field:"login",value:c[0]})),t()})).catch((function(){t([]),e(Object(o.k)({logins:[]}))}))}))},c=function(){return function(e,t){return a(e,t())}}},"5JYr1wX0R8/HykYVD6Pg":function(e,t,n){"use strict";t.a={"magic_link.expired":"Ссылка для входа устарела","magic_link.not_sent":"Ссылка для входа недействительна","magic_link.secret_not_matched":"Ссылка для входа недействительна","magic_link.invalidated":"Вы отменили вход с помощью письма","account.auth_passed":"По этой ссылке уже был совершен вход в аккаунт","action.not_required":"По этой ссылке уже был совершен вход в аккаунт","track.not_found":"Ссылка для входа устарела","rate.limit_exceeded":"Не удается отправить письмо, попробуйте другой способ входа в аккаунт","account.global_logout":"Ссылка для входа недействительна"}},"5MvMlyOk/xLDs7wy0Res":function(e,t,n){},"5seBo+FTOBaNgjjNmViR":function(e,t,n){},"6OWwt9yvRw7ShcN4G3nV":function(e,t,n){"use strict";var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("WE2RsoBXx7uBcYbdhL/w"),a=n("z/BU1fFzjI04SzyUyEkC"),c=n.n(a),u=n("2XiBpSUPIXqJnJWBL+lj"),s=n.n(u),l=n("BiY5T7IoWQd4oP5CD4Ck"),f=n("Sv+DydT6rKBct5kRKGVV");var d=n("AFgMZ7oQJHD2/+zDS46y"),p=n("z3qqbj39i+miilZ9Wcps");function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,i=y(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).onChangeCaptcha=t.onChangeCaptcha.bind(v(t)),t.focusOnCaptchaField=t.focusOnCaptchaField.bind(v(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.isCaptchaRequired&&this.focusOnCaptchaField()}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.isCaptchaRequired!==e.isCaptchaRequired&&e.isCaptchaRequired&&setTimeout((function(){t.focusOnCaptchaField()}),0)}},{key:"componentWillUnmount",value:function(){var e=this.props.dispatch;e(Object(l.U)(!1)),e(Object(l.Kb)(""))}},{key:"onChangeCaptcha",value:function(e){(0,this.props.dispatch)(Object(l.Kb)(e))}},{key:"focusOnCaptchaField",value:function(){if(!this.props.isNoTabletTouch){var e=c.a.findDOMNode(this.captchaField).querySelector("input");e.focus(),e.click()}}},{key:"render",value:function(){var e=this,t=this.props,n=t.isCaptchaRequired,r=t.isShowCaptcha,i=t.introSound,a=t.captchaSound,c=t.imageUrl,u=t.loading,s=t.loadingAudio,l=t.playing,f=t.type,h=t.captchaKey,b=t.captchaAnswer,m=t.lang,y=t.fieldError,g=t.dispatch,v=t.forcedError;return n||r?o.a.createElement("div",{className:"passp-captcha-field ".concat("v5")},o.a.createElement(p.a,{isMobile:!1,lang:m,introSound:i,captchaSound:a,imageUrl:c,loading:u,loadingAudio:s,playing:l,type:f,dispatch:g,visible:!0}),o.a.createElement("input",{type:"hidden",name:"captcha_key",value:h||""}),o.a.createElement(d.b,{size:"l",ref:function(t){e.captchaField=t},label:"Введите символы с картинки",value:b,name:"captcha_answer",type:"text",error:y||v,link:null,onChange:this.onChangeCaptcha,view:"floating-label"})):null}}])&&b(t.prototype,n),r&&b(t,r),a}(r.Component);_.defaultProps={captcha:{captchaKey:""},isShowCaptcha:!1},_.propTypes={isCaptchaRequired:s.a.bool.isRequired,isShowCaptcha:s.a.bool.isRequired,introSound:s.a.string,captchaSound:s.a.string,imageUrl:s.a.string,loading:s.a.bool,loadingAudio:s.a.bool,playing:s.a.bool,type:s.a.string,captchaKey:s.a.string,captchaAnswer:s.a.string.isRequired,lang:s.a.string.isRequired,fieldError:s.a.string,forcedError:s.a.string,dispatch:s.a.func.isRequired,isNoTabletTouch:s.a.bool};t.a=Object(i.c)((function(e){var t=e.settings,n=t.isNoTabletTouch,r=t.lang,o=e.auth,i=o.isCaptchaRequired,a=o.captchaError,c=o.form.captcha_answer,u=e.captcha,s=u.introSound,l=u.captchaSound,d=u.imageUrl,p=u.loading,h=u.loadingAudio,b=u.playing,m=u.type,y=u.key,g=null;return a&&(g=f.a[a]||f.a.global),{isNoTabletTouch:n,captchaAnswer:c,isCaptchaRequired:i,lang:r,fieldError:g,introSound:s,captchaSound:l,imageUrl:d,loading:p,loadingAudio:h,playing:b,type:m,captchaKey:y}}))(_)},"6QkgGlmAmJL/UXgTfwXy":function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return b}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("icG+8Jgv+BJiTL/fPTrX"),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("Yp2QB2jYYmLrYZQDlfoW"),c=n("1hgyDyPvGAR756qJDrVH"),u=n("NH34m/YMyHs61nOqvuoz"),s=n("DykVKCzoc0ACbI/E+LI/"),l=n("O5/wDFcDcr7psfl422DM"),f=n("W3MgEIO55ELSFhldjoS/"),d="SET_AUTH_BY_SMS_STATE",p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{phone:"",denyResendUntil:""};return{type:d,payload:e}},h=function(){return function(e,t){var n=t();e(Object(i.bb)(!0)),r.a.requestPhoneConfirmationCode({trackId:Object(o.h)(n,"common"),language:Object(o.d)(n),mode:"tracked"}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.denyResendUntil,r=t.phone;e(Object(s.r)(n)),e(Object(s.u)(r)),e(p({error:""})),e(Object(i.Y)(!0)),e(Object(i.X)("authConfirmationBySMS")),e(Object(i.bb)(!1))})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors,r=void 0===n?[]:n,o=r[0]||"global";e(p({error:o})),e(Object(i.bb)(!1))}))}},b=function(){return function(e,t){var n=t(),s=Object(o.c)(n).phoneCode,d=Object(o.h)(n,"common"),p=Object(o.f)(n);e(Object(i.bb)(!0));var h=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors,r=void 0===n?[]:n,o=r[0]||"global";e(Object(a.K)({field:"phoneCode",error:o?Object(l.d)("phoneCode",o):{}})),e(Object(i.bb)(!1))};r.a.checkPhoneConfirmationCode({trackId:d,mode:"tracked",code:s}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.status;if("ok"===n)return r.a.multiStepCommitSMSCode({trackId:d,retpath:p}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.status,r=t.redirectUrl,o=t.state,a=t.retpath;if("ok"===n)return"auth_challenge"===o?(e(Object(i.bb)(!1)),void e(Object(c.a)())):o&&r?window.location=r:(f.a.goal(u.Ec),f.a.send([u.Hc]),window.location=a||p);h(t)})).catch(h);h(t)})).catch(h)}}},"6mNiS2GfhvOQJZtb3i4E":function(e,t,n){},"7/9pYbQkeaSMYb1NzrDG":function(e,t,n){"use strict";function r(){return function(e,t){var n=t().captcha.captchaSound;n&&"function"==typeof n.play&&n.play()}}n.d(t,"a",(function(){return r}))},"7CdAhs8eUPk6XSbAucx2":function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n,r){"use strict";"object"===t(e)&&e.exports?e.exports=r():n.Monitoring=r()}(this,(function(){function e(){for(var e,n={},r=0;r<arguments.length;r++)if("object"===t(e=arguments[r])&&e)for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);return n}return{inited:!1,_data:null,init:function(t){"undefined"!=typeof window&&(this.inited=!0,this._data=e({app:"passport"},t))},send:function(t){if(this.inited){var n=[],r=e(this._data,t,"load"===t.event?this.preparePerformanceData():{}),o=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");for(var i in r)r.hasOwnProperty(i)&&n.push(encodeURIComponent(i)+"="+encodeURIComponent(r[i]));o.open("GET","/monitoring?"+n.join("&"),!0),o.withCredentials=!0,o.setRequestHeader("X-Requested-With","XMLHttpRequest"),o.send()}},preparePerformanceData:function(){var e,t;return"performance"in window&&"timing"in window.performance&&"navigation"in window.performance?(e=performance.timing,t=performance.navigation,{"tm.navigationStart":e.navigationStart,"tm.unloadEventStart":e.unloadEventStart,"tm.unloadEventEnd":e.unloadEventEnd,"tm.redirectStart":e.redirectStart,"tm.redirectEnd":e.redirectEnd,"tm.fetchStart":e.fetchStart,"tm.domainLookupStart":e.domainLookupStart,"tm.domainLookupEnd":e.domainLookupEnd,"tm.connectStart":e.connectStart,"tm.connectEnd":e.connectEnd,"tm.secureConnectionStart":e.secureConnectionStart,"tm.requestStart":e.requestStart,"tm.responseStart":e.responseStart,"tm.responseEnd":e.responseEnd,"tm.domLoading":e.domLoading,"tm.domInteractive":e.domInteractive,"tm.domContentLoadedEventStart":e.domContentLoadedEventStart,"tm.domContentLoadedEventEnd":e.domContentLoadedEventEnd,"tm.domComplete":e.domComplete,"tm.loadEventStart":e.loadEventStart,"tm.loadEventEnd":e.loadEventEnd,"nav.type":t.type,"nav.redirectCount":t.redirectCount}):{}}}}))}).call(this,n("x+/oeRxaacaY5YboflTE")(e))},"86UARWAr2fpsKbyzDs42":function(e,t,n){},"8Zjs+cCPrA64RAPuS6BW":function(e,t,n){},"9aIaKlzko1f/taFAZ3UN":function(e,t,n){},"9jOcvK6C0dcE7FghYCQx":function(e,t,n){},"9s/32m/Ov0dlcLEPGLU+":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"j",(function(){return d})),n.d(t,"p",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"o",(function(){return b})),n.d(t,"k",(function(){return m})),n.d(t,"n",(function(){return y})),n.d(t,"m",(function(){return g}));var r="RESTORE_PASSWORD_SET_INITIAL_DATA",o="RESTORE_PASSWORD_SET_METHODS",i="RESTORE_PASSWORD_UPDATE_SELECTED_METHOD",a="RESTORE_PASSWORD_UPDATE_ERROR",c="RESTORE_PASSWORD_UPDATE_PROCESS_STATE",u="RESTORE_PASSWORD_UPDATE_CAPTCHA_STATUS",s="RESTORE_PASSWORD_SET_PHONE_STATUS",l="RESTORE_UPDATE_HINT_DATA";function f(e){return{type:r,payload:e}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{type:o,methods:e}}function p(e){var t=e.method,n=void 0===t?"semiauto":t,r=e.methodInfo;return{type:i,method:n,methodInfo:void 0===r?{}:r}}function h(e){return{type:a,error:e}}function b(e){return{type:c,processState:e}}function m(e){return{type:u,isRequired:e}}function y(e){var t=e.number,n=e.isValidForCall;return{type:s,number:t,isValidForCall:n}}function g(e){return{type:l,payload:e}}},"AFgMZ7oQJHD2/+zDS46y":function(e,t,n){"use strict";n.d(t,"a",(function(){return fe})),n.d(t,"b",(function(){return pe}));var r=n("WE2RsoBXx7uBcYbdhL/w"),o=n("Yp2QB2jYYmLrYZQDlfoW"),i=(n("MFtP080j7m19qICJtoK2"),n("8SCZFIl/r0BKJR1Q9GmD")),a=n.n(i),c=n("2XiBpSUPIXqJnJWBL+lj"),u=n.n(c),s=n("KPxOwTsDQXV5/GX8af14"),l=n.n(s),f=n("LzmKygd9FPlNlMcSJp0Y"),d=(n("wpV4zJed90rooxXiPGQo"),n("MJovFwNIrFAmLe5Xoo3c")),p=n.n(d),h=n("JLFc6U7sd0PMI6Bh60mb"),b=n("eidTN+99QhledymTSSqQ");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=w(e);if(t){var o=w(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return _(this,n)}}function _(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?E(e):t}function E(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function w(e){return(w=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function S(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}(i,e);var t,n,r,o=O(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),S(E(t=o.call(this,e)),"ref",a.a.createRef()),S(E(t),"focus",(function(){t.ref.current&&t.ref.current.focus&&t.ref.current.focus()})),S(E(t),"handleKeyUp",(function(){var e=t.props.onFieldKeyUp;"function"==typeof e&&e()})),t.handleFocus=t.handleFocus.bind(E(t)),t.handleBlur=t.handleBlur.bind(E(t)),t.handleChange=t.handleChange.bind(E(t)),t.state={isFocused:!1},t.updateInterval=null,t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.fieldValue,r=t.fieldName,o=t.ua,i=document.getElementById("".concat(h.b).concat(r));i.value=n,o.isMobile&&(this.updateInterval=setInterval((function(){i.value!==e.props.fieldValue&&e.handleChange({target:{value:i.value}})}),100))}},{key:"componentWillUnmount",value:function(){this.props.ua.isMobile&&clearInterval(this.updateInterval)}},{key:"handleFocus",value:function(){"checkbox"!==this.props.fieldType&&this.setState({isFocused:!0})}},{key:"handleBlur",value:function(){var e=this.props,t=e.fieldType,n=e.onFieldBlur;"checkbox"!==t&&(this.setState({isFocused:!1}),"function"==typeof n&&n())}},{key:"handleChange",value:function(e){var t=this.props,n=t.onFieldChange,r=t.fieldValue;n("checkbox"===t.fieldType?!r:e.target.value),this.forceUpdate()}},{key:"render",value:function(){var e,t=this.props,n=t.fieldLabel,r=t.fieldValue,o=t.fieldClass,i=t.fieldName,c=t.fieldType,u=t.fieldError,s=t.fieldLink,l=t.fieldOptions,f=void 0===l?{}:l,d=t.isShowFieldLink,g=t.fieldPlaceholder,v=t.hideLabel,O=t.weight,_=t.hasTick,E=t.isValid,w=t.disabled,j=t.maxLength,C=this.state.isFocused,R="object"===y(u)&&null!==u?u.text:u,k="object"===y(u)&&null!==u?u.code:"",P=Boolean(R),T=Boolean(r),A={"data-t":"field:input-".concat(i)};return"checkbox"===c&&(A.checked=r),a.a.createElement("div",{"data-t":"field:".concat(i),"data-t-error":k?"field:error-".concat(i,":").concat(k):"",className:p()("passp-form-field ".concat(o||""),(e={"passp-form-field_focused":C},S(e,"passp-form-field_".concat(c),!0),S(e,"passp-form-field_".concat(O),Boolean(O)),S(e,"passp-form-field_filled",T),S(e,"passp-form-field_failed",P),S(e,"passp-form-field_valid",_&&E),e))},a.a.createElement("div",{className:"passp-form-field__input"},a.a.createElement("input",m({ref:this.ref,type:c,id:"".concat(h.b).concat(i),name:i},f,{value:r,onChange:this.handleChange,onFocus:this.handleFocus,onBlur:this.handleBlur,onKeyUp:this.handleKeyUp,placeholder:C?g:"",disabled:w,maxLength:j},A)),!v&&a.a.createElement("label",{className:"passp-form-field__label","data-t":"field:label-".concat(i),htmlFor:"".concat(h.b).concat(i)},["eula_accepted","eula_accepted_money"].includes(i)?a.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}}):n)),P&&a.a.createElement("div",{className:"passp-form-field__error","data-t":"field:error-".concat(i),"aria-live":"polite",dangerouslySetInnerHTML:{__html:R}}),d&&Boolean(s)&&a.a.createElement("div",{className:"passp-form-field__link","data-t":"field:link-".concat(i)},a.a.createElement(b.a,{href:s.url,onClick:s.onClick,pseudo:s.pseudo||!1},s.text)))}}])&&g(t.prototype,n),r&&g(t,r),i}(i.Component);j.defaultProps={fieldError:"",fieldLink:{},fieldOptions:{},isShowFieldLink:!1,fieldClass:""},j.propTypes={fieldLabel:u.a.string,fieldValue:u.a.oneOfType([u.a.string,u.a.bool]).isRequired,fieldName:u.a.string.isRequired,fieldType:u.a.string.isRequired,fieldError:u.a.oneOfType([u.a.string,u.a.shape({text:u.a.string,code:u.a.string})]),fieldLink:u.a.shape({url:u.a.string,text:u.a.string,onClick:u.a.func,pseudo:u.a.bool}),fieldOptions:u.a.object,onFieldChange:u.a.func,onFieldBlur:u.a.func,fieldClass:u.a.string,isShowFieldLink:u.a.bool,fieldPlaceholder:u.a.string,ua:u.a.shape({isMobile:u.a.bool}),hideLabel:u.a.bool,weight:u.a.string,hasTick:u.a.bool,isValid:u.a.bool,disabled:u.a.bool,maxLength:u.a.number,onFieldKeyUp:u.a.func};Object(r.c)((function(e){return{ua:e.settings&&e.settings.ua||{}}}),null,null,{forwardRef:!0})(j),n("e6fi0z4bwe1BU2sE+5ao");var C=n("0jVWG83ZTs4TpuBBoE+u"),R=n("0xh43U4MT9+CMXgFc6IH"),k=n("DhAqq/3q6hkP/Y2GscS4"),P=n("2+GHbnwWby7PhOTEwrly"),T=n("dMdjKk+AHg5JBkr9Fdf6"),A=n("ZJ+/eSKS/GxtmtACWRbc"),N=n("zMEM4/1y0hgMfyvmIzQI"),L=n("7BdVmYTqZa8WzDU+6pDD"),M=(n("Mjx4x0rqu8P8o6p16M6i"),n("rAXSF8TseRc3WPjPM+Ch")),x=Object(C.withBemMod)(Object(M.b)(),{view:"one-border"}),I=Object(C.withBemMod)(Object(M.b)(),{filled:!0}),D=(n("ByxVRLy/QIcPjT0OMyxw"),Object(C.withBemMod)(Object(M.b)(),{view:"floating-label"})),q=(n("po8E1JPSxw/He7wXbnmy"),Object(C.withBemMod)(Object(M.b)(),{size:"l"})),U=(n("YikTYrtc92biTR7Dkq5Q"),Object(C.withBemMod)(Object(M.b)(),{size:"xl"}));function B(){return(B=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var H=Object(C.compose)(R.a,x,D,I,k.a,P.a,q,U,T.a,A.a,N.a)(L.a),W=Object(f.cn)("Textinput"),z=function(e){var t=e.size,n=void 0===t?"m":t,r=e.view,o=void 0===r?"default":r,i=e.type,c=void 0===i?"text":i,u=e.name,s=e.dataT,l=e.state,f=e.hint,d=F(e,["size","view","type","name","dataT","state","hint"]);return a.a.createElement(a.a.Fragment,null,a.a.createElement(H,B({size:n,view:o,type:c,name:u,"data-t":"field:input-".concat(s||u),state:l},d)),f&&a.a.createElement("div",{className:W("Hint",{state:l}),dangerouslySetInnerHTML:{__html:f}}))};z.propTypes={name:u.a.string.isRequired,dataT:u.a.string,size:u.a.oneOf(["s","m","l","xl"]),type:u.a.oneOf(["text","password","tel"]),view:u.a.oneOf(["one-border","default","floating-label"]),state:u.a.oneOf(["error","success"]),hint:u.a.string};var V=n("O5/wDFcDcr7psfl422DM"),G=n("W3MgEIO55ELSFhldjoS/");function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Q(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function J(e,t){return(J=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=te(e);if(t){var o=te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?ee(e):t}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=Object(f.cn)("Field"),oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&J(e,t)}(i,e);var t,n,r,o=Z(i);function i(){var e;Q(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ne(ee(e=o.call.apply(o,[this].concat(n))),"state",{isFocused:!1}),ne(ee(e),"ref",a.a.createRef()),ne(ee(e),"focus",(function(){e.field.focus()})),ne(ee(e),"onKeyUp",(function(){var t=e.props.onKeyUp;"function"==typeof t&&t()})),ne(ee(e),"onChange",(function(t){var n=t.target,r=(void 0===n?{}:n).value,o=e.props,i=o.name,a=o.updateValues,c=o.onChange;o.isValueForced&&c||a({field:i,value:r}),c&&"function"==typeof c&&c(r)})),ne(ee(e),"onFieldChange",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=e.props,r=n.name,o=n.updateValues,i=n.onChange,a=n.isValueForced;a&&i||o({field:r,value:t}),i&&"function"==typeof i&&i(t)})),ne(ee(e),"_validate",(function(){var t=e.props,n=t.name,r=t.value,o=t.updateErrors,i=t.validate,a=t.setPasswordWeight,c=t.shouldValidate;if(!t.isErrorForced)return c?void i(n).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.code,i=e.status;"password"===n&&(r&&!t||["weak","tooshort"].includes(t)?a(t||"strong"):a("")),t&&G.a.send("Показ ошибки поля ".concat(n,": ").concat(t)),o({field:n,error:"error"===i&&t?Object(V.d)(n,t):{}})})):o({field:n,error:{}})})),ne(ee(e),"validate",l()(e._validate,100)),ne(ee(e),"onFocus",(function(){return e.setState({isFocused:!0})})),ne(ee(e),"onBlur",(function(){var t=e.props.onBlur;e.setState({isFocused:!1}),"function"==typeof t&&t()})),ne(ee(e),"maybeRenderLink",(function(){var t=e.props,n=t.name,r=t.link;return!(!t.isShowFieldLink||!r)&&a.a.createElement("div",{className:re("link"),"data-t":"field:link-".concat(n)},a.a.createElement(b.a,{href:r.url,onClick:r.onClick,pseudo:r.pseudo||!1,weight:"medium"},r.text))})),ne(ee(e),"maybeRenderLabel",(function(){var t=e.props,n=t.label,r=t.name;return n?a.a.createElement("div",{className:re("label-wrapper")},a.a.createElement("label",{className:re("label"),"data-t":"field:label-".concat(r),htmlFor:"".concat(h.b).concat(r)},n)):null})),e}return t=i,(n=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.value,r=t.isErrorForced;n===e.value||r||this.validate()}},{key:"render",value:function(){var e=this,t=this.props,n=t.size,r=t.name,o=(t.label,t.value),i=t.error,c=t.type,u=(t.hideLabel,t.passwordWeight,t.options),s=t.placeholder,l=(t.className,t.link,t.isShowFieldLink,t.hasTick,t.isValid),f=t.iconRight,d=t.view,p=t.disabled,b=t.maxLength,m=t.shrinkBottomMargin,y=t.validHint,g=this.state.isFocused,v="object"===X(i)&&null!==i?i.text:i,O="object"===X(i)&&null!==i?i.code:"",_={state:v?"error":l?"success":void 0,hint:v||(l&&y?y:"")};return a.a.createElement("div",{className:re({view:d,shrinkBottomMargin:m,isFocused:g,isFilled:Boolean(o)}),"data-t":"field:".concat(r),"data-t-error":O?"field:error-".concat(r,":").concat(O):void 0},this.maybeRenderLabel(),a.a.createElement(z,Y({controlRef:function(t){return e.field=t},onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,onKeyUp:this.onKeyUp,name:r,placeholder:"floating-label"===d?"":s,value:o,type:c,size:n,id:"".concat(h.b).concat(r),"data-t":"field:input-".concat(r),iconRight:f,view:d,disabled:p,maxLength:b},_,u)),this.maybeRenderLink())}}])&&K(t.prototype,n),r&&K(t,r),i}(a.a.PureComponent);ne(oe,"defaultProps",{type:"text"}),oe.propTypes={size:u.a.oneOf(["s","m","l"]),passwordWeight:u.a.string,type:u.a.string,name:u.a.string.isRequired,label:u.a.string,value:u.a.oneOfType([u.a.string,u.a.bool]),error:u.a.oneOfType([u.a.string,u.a.shape({text:u.a.string,code:u.a.string})]),updateValues:u.a.func.isRequired,updateErrors:u.a.func.isRequired,setPasswordWeight:u.a.func,onChange:u.a.func,onKeyUp:u.a.func,validate:u.a.func,hideLabel:u.a.bool,options:u.a.shape({autoCorrect:u.a.string,autoCapitalize:u.a.string,autoComplete:u.a.string}),placeholder:u.a.string,className:u.a.string,link:u.a.shape({url:u.a.string,text:u.a.string,onClick:u.a.func,pseudo:u.a.bool}),isShowFieldLink:u.a.bool,hasTick:u.a.bool,isValid:u.a.bool,validHint:u.a.string,shouldValidate:u.a.bool,isValueForced:u.a.bool,isErrorForced:u.a.bool,onBlur:u.a.func,iconRight:u.a.node,view:u.a.oneOf(["default","floating-label"]),disabled:u.a.bool,maxLength:u.a.number,shrinkBottomMargin:u.a.bool};var ie=n("Cn0bb7dlXdz9iLHfBkZ3"),ae=n("icG+8Jgv+BJiTL/fPTrX");function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),ce(this,"_ok",{status:"ok"}),ce(this,"_error",(function(e){return{status:"error",code:e}})),ce(this,"_warning",(function(e){return{status:"warning",code:e}})),ce(this,"_getDefaultRequestParams",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.common,n=void 0===t?{}:t,r=n.csrf,o=Object(ae.a)(e);return{csrf_token:r,track_id:o}})),ce(this,"_getError",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.validation_errors||e.errors,n=t&&t[0]||Array.isArray(e)&&{code:e[0]};return n?n.code||n:void 0})),ce(this,"_getWarning",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.validation_warnings,n=t&&t[0];return n?n.code||n:void 0})),ce(this,"_request",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;return ie.a.request(e,n).done((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t._getError(e),o=t._getWarning(e);return r(o?t._warning(o):n?t._error(n):t._ok)})).fail((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t._getError(e);return r(n?t._error(n):t._ok)}))})),ce(this,"login",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.form,r=void 0===n?{}:n,o=r.values,i=void 0===o?{}:o,a=i.login;return new Promise((function(n){if(a){var r=Object.assign({},t._getDefaultRequestParams(e),{login:a});return t._request("login",r,n)}return n(t._ok)}))})),ce(this,"password",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.form,r=void 0===n?{}:n,o=r.values,i=void 0===o?{}:o,a=i.phone,c=i.login,u=i.password;return new Promise((function(n){if(u){var r=Object.assign({},t._getDefaultRequestParams(e),{password:u,login:c,phone_number:a});return t._request("password",r,n)}return n(t._ok)}))})),ce(this,"password_confirm",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.form,r=void 0===n?{}:n,o=r.values,i=void 0===o?{}:o,a=i.password,c=i.password_confirm;return new Promise((function(e){return e(a&&c&&a!==c?t._error("notequal"):t._ok)}))})),ce(this,"firstname",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.form,r=void 0===n?{}:n,o=r.values,i=void 0===o?{}:o,a=i.firstname;return new Promise((function(n){if(a){var r=Object.assign({},t._getDefaultRequestParams(e),{firstname:a});return t._request("validate-firstname",r,n)}return n(t._ok)}))})),ce(this,"lastname",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.form,r=void 0===n?{}:n,o=r.values,i=void 0===o?{}:o,a=i.lastname;return new Promise((function(n){if(a){var r=Object.assign({},t._getDefaultRequestParams(e),{lastname:a});return t._request("validate-lastname",r,n)}return n(t._ok)}))}))},se={firstname:"Имя",lastname:"Фамилия",phone:"Номер мобильного телефона",phoneCode:"Введите код",login:"Придумайте логин",password:"Придумайте пароль",password_confirm:"Повторите пароль",eula_accepted:'Я принимаю условия <a href="https://yandex.ru/legal/rules/"  target="_blank">Пользовательского соглашения</a> и даю своё согласие Яндексу на обработку моей персональной информации на условиях, определенных <a href="https://yandex.ru/legal/confidential/" target="_blank">Политикой конфиденциальности</a>.'},le={default:"text",eula_accepted:"checkbox",phone:"tel"},fe={FIRSTNAME:"firstname",LASTNAME:"lastname",PHONE:"phone",PHONE_CODE:"phoneCode",LOGIN:"login",PASSWORD:"password",PASSWORD_CONFIRM:"password_confirm",EULA_ACCEPTED:"eula_accepted",EMAIL:"email",EMAIL_CODE:"email_code",CAPTCHA:"captcha"},de={updateValues:o.N,updateErrors:o.K,validate:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t,n){return ue[e]&&ue[e](n())||Promise.resolve()}},setPasswordWeight:o.H},pe=Object(r.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.value,r=t.name,o=t.label,i=t.type,a=t.error,c=e.form,u=void 0===c?{}:c,s=u.values,l=void 0===s?{}:s,f=u.errors,d=void 0===f?{}:f;return{isValueForced:t.hasOwnProperty("value"),isErrorForced:t.hasOwnProperty("error"),value:t.hasOwnProperty("value")?n||"":l[r]||"",error:t.hasOwnProperty("error")?a:d[r],label:o||se[r],type:i||le[r]}}),de,null,{forwardRef:!0})(oe)},"ASEr53XqCuCT+n2xGemq":function(e,t,n){},AeLhLclXWlGhw6c78Mpd:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("eFeAaZwgvdSTBhzajFL3");function o(){return function(e,t){var n=t(),o=n.auth,i=o.processedAccount,a=o.defaultAccount,c=n.common,u=c.authUrl,s=c.currentUrl,l=i||a,f=u.split("?")[0],d=[];l&&d.push("login=".concat(encodeURIComponent(l.login))),s&&d.push("retpath=".concat(encodeURIComponent(s))),0!==d.length&&(f+="?".concat(d.join("&"))),e(Object(r.a)(f))}}},AtCtAhdLQKnZ2tJebo8j:function(e,t,n){},AxrONuME76zy6gAKdepX:function(e,t,n){},"B/+x7wOHvlrE/6Q4CYQo":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("0jVWG83ZTs4TpuBBoE+u"),u=n("YCejUwxa3MhK+mwe/x9s"),s=n("R3V6C8ykzfWYCNB3743R"),l=n("qxD3hiHTYKX5qOAjdkBg"),f=n("ZRt18MzYaor2l08DL1Vu"),d=n("xyLzHwXZ4pEDRLMNrvyI"),p=n("krVI4Fl53xlVyH3ikHpH"),h=n("kTCVa0EsXc83NB++KFTL"),b=n("Ct9469NBv7imGVk8lVSw");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var g=Object(c.compose)(u.a,s.a,l.a,f.a,d.a,p.a,h.a)(b.a),v=function(e){var t=e.size,n=void 0===t?"m":t,r=e.dataT,i=y(e,["size","dataT"]);return o.a.createElement(g,m({view:"default",size:n,"data-t":r?"spin:".concat(r):"spin"},i))};v.propTypes={size:a.a.oneOf(["xxs","xs","s","m","l"]),position:a.a.oneOf(["center"]),dataT:a.a.string}},BgnV84hQ0UU2OmOakNZX:function(e,t,n){},BiY5T7IoWQd4oP5CD4Ck:function(e,t,n){"use strict";n.d(t,"Q",(function(){return r})),n.d(t,"S",(function(){return o})),n.d(t,"R",(function(){return i})),n.d(t,"k",(function(){return a})),n.d(t,"h",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"D",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"q",(function(){return p})),n.d(t,"p",(function(){return h})),n.d(t,"F",(function(){return b})),n.d(t,"E",(function(){return m})),n.d(t,"m",(function(){return y})),n.d(t,"H",(function(){return g})),n.d(t,"J",(function(){return v})),n.d(t,"K",(function(){return O})),n.d(t,"L",(function(){return _})),n.d(t,"G",(function(){return E})),n.d(t,"M",(function(){return w})),n.d(t,"I",(function(){return S})),n.d(t,"z",(function(){return j})),n.d(t,"A",(function(){return C})),n.d(t,"C",(function(){return R})),n.d(t,"w",(function(){return k})),n.d(t,"B",(function(){return P})),n.d(t,"d",(function(){return T})),n.d(t,"f",(function(){return A})),n.d(t,"P",(function(){return N})),n.d(t,"n",(function(){return L})),n.d(t,"r",(function(){return M})),n.d(t,"O",(function(){return x})),n.d(t,"c",(function(){return I})),n.d(t,"b",(function(){return D})),n.d(t,"a",(function(){return q})),n.d(t,"u",(function(){return U})),n.d(t,"v",(function(){return B})),n.d(t,"s",(function(){return F})),n.d(t,"t",(function(){return H})),n.d(t,"o",(function(){return W})),n.d(t,"N",(function(){return z})),n.d(t,"x",(function(){return V})),n.d(t,"y",(function(){return G})),n.d(t,"l",(function(){return Y})),n.d(t,"bb",(function(){return X})),n.d(t,"Lb",(function(){return Q})),n.d(t,"Z",(function(){return K})),n.d(t,"Nb",(function(){return J})),n.d(t,"Kb",(function(){return Z})),n.d(t,"Ob",(function(){return $})),n.d(t,"Mb",(function(){return ee})),n.d(t,"T",(function(){return te})),n.d(t,"xb",(function(){return ne})),n.d(t,"sb",(function(){return re})),n.d(t,"rb",(function(){return oe})),n.d(t,"vb",(function(){return ie})),n.d(t,"ob",(function(){return ae})),n.d(t,"tb",(function(){return ce})),n.d(t,"U",(function(){return ue})),n.d(t,"yb",(function(){return se})),n.d(t,"db",(function(){return le})),n.d(t,"W",(function(){return fe})),n.d(t,"V",(function(){return de})),n.d(t,"Y",(function(){return pe})),n.d(t,"X",(function(){return he})),n.d(t,"wb",(function(){return be})),n.d(t,"nb",(function(){return me})),n.d(t,"lb",(function(){return ye})),n.d(t,"kb",(function(){return ge})),n.d(t,"mb",(function(){return ve})),n.d(t,"Jb",(function(){return Oe})),n.d(t,"ub",(function(){return _e})),n.d(t,"cb",(function(){return Ee})),n.d(t,"gb",(function(){return we})),n.d(t,"fb",(function(){return Se})),n.d(t,"Ab",(function(){return je})),n.d(t,"zb",(function(){return Ce})),n.d(t,"Bb",(function(){return Re})),n.d(t,"Cb",(function(){return ke})),n.d(t,"Db",(function(){return Pe})),n.d(t,"Hb",(function(){return Te})),n.d(t,"Gb",(function(){return Ae})),n.d(t,"Eb",(function(){return Ne})),n.d(t,"Fb",(function(){return Le})),n.d(t,"jb",(function(){return Me})),n.d(t,"ib",(function(){return xe})),n.d(t,"eb",(function(){return Ie})),n.d(t,"hb",(function(){return De})),n.d(t,"Ib",(function(){return qe})),n.d(t,"pb",(function(){return Ue})),n.d(t,"qb",(function(){return Be})),n.d(t,"ab",(function(){return Fe}));var r="UPDATE_LOGIN_VALUE",o="UPDATE_PASSWORD_VALUE",i="UPDATE_MAGIC_TOKENS_SUCCESS",a="CHANGE_PROCESSED_ACCOUNT",c="CHANGE_MOBILE_MENU_VISIBILITY",u="CHANGE_MOBILE_MENU_TYPE",s="SET_PROCESSED_ACCOUNT_UID",l="CHANGE_PAGE_POPUP_VISIBILITY",f="CHANGE_PAGE_POPUP_TYPE",d="CHANGE_ACTIVE_ACCOUNT",p="LOGIN_SUGGESTED_ACCOUNT",h="INPUT_LOGIN_SUCCESS",b="SHOW_ACCOUNTS_SUCCESS",m="SHOW_ACCOUNTS_FAIL",y="DOMIK_IS_LOADING",g="SWITCH_TO_MODE_EDIT",v="SWITCH_TO_MODE_RESTORE_LOGIN",O="SWITCH_TO_MODE_RESTORE_LOGIN_PROCESS",_="SWITCH_TO_MODE_RESTORE_LOGIN_RESULT",E="SWITCH_TO_MODE_ADDING_ACCOUNT",w="SWITCH_TO_MODE_WELCOME",S="SWITCH_TO_MODE_MAGIC",j="SET_LOGIN_ERROR",C="SET_LOGIN_IS_ABLE_TO_RESTORE",R="SET_PASSWORD_ERROR",k="SET_CAPTCHA_ERROR",P="SET_MAGIC_ERROR",T="CAN_REGISTER",A="CHANGE_CAPTCHA_STATE",N="UPDATE_CAPTCHA_VALUE",L="FORCE_OTP_METHOD",M="SETUP_MODE",x="TOGGLE_MAIL_SENT_TOOLTIP",I="AUTH_MAIL_SENT",D="AUTH_MAIL_CONFIRMED",q="AUTH_MAIL_CANCELLED",U="SET_AUTH_MAIL_ERROR",B="SET_AUTH_MAIL_UPDATED",F="SET_AUTH_MAIL_DISABLED",H="SET_AUTH_MAIL_ENABLED",W="INIT_ADDITIONAL_DATA_REQUEST",z="[AUTH] TOGGLE_CONTEXT_MENU_VISIBILITY",V="[AUTH] SET_CONTEXT_MENU_ANCHOR",G="[AUTH] SET_CONTEXT_MENU_TYPE",Y="[AUTH] CLEAR_CONTEXT_MENU_STATE";function X(e){return{type:y,loading:e}}function Q(e){return{type:r,value:e}}function K(e){return{type:a,account:e}}function J(e){return{type:o,value:e}}function Z(e){return{type:N,value:e}}function $(e,t){return{type:"UPDATE_TOKENS_SUCCESS",track_id:e,csrf_token:t}}function ee(e,t){return{type:i,track:e,csrf:t}}function te(e){var t=e.isCanRegister,n=e.registrationLogin,r=e.registrationType,o=e.registrationPhoneNumber,i=e.registrationCountry;return{type:T,isCanRegister:t,registrationLogin:n,registrationType:r,registrationPhoneNumber:o,registrationCountry:i}}function ne(e){return{type:"SETUP_BACK_PANE",pane:e}}function re(e){return{type:j,error:e}}function oe(e){return{type:C,isAbleToRestore:e}}function ie(e){return{type:R,error:e}}function ae(e){return{type:k,error:e}}function ce(e){return{type:P,error:e}}function ue(e){return{type:A,isCaptchaRequired:e}}function se(e){return{type:M,mode:e}}function le(e){return{type:L,isForceOTP:e}}function fe(e){return{type:c,visible:e}}function de(e){return{type:u,mobileMenuType:e}}function pe(e){return{type:l,visible:e}}function he(e){return{type:f,pagePopupType:e}}function be(e){return{type:s,processedAccountUid:e}}function me(e){return{type:I,code:e}}function ye(e){return{type:D,retpath:e}}function ge(e){return{type:q,status:e}}function ve(e){return{type:U,error:e}}function Oe(e){return{type:B,isUpdated:e}}function _e(){return{type:F}}function Ee(){return{type:H}}function we(e){return{type:p,account:e}}function Se(e){return{type:h,inputLogin:e}}function je(e){return{type:b,accounts:e}}function Ce(e){return{type:m,errors:e}}function Re(){return{type:E}}function ke(){return{type:g}}function Pe(e){return{type:S,isFromLoginSuggest:e}}function Te(){return{type:w}}function Ae(){return{type:v}}function Ne(){return{type:O}}function Le(){return{type:_}}function Me(){return{type:"REDIRECT_TO_RETPATH"}}function xe(){return{type:"REDIRECT_TO_BACKPATH"}}function Ie(e){return{type:W,payload:e}}function De(e){var t=document.createElement("form"),n=document.createElement("input");t.method="GET",t.action="/redirect",n.value=e,n.name="url",t.appendChild(n),document.body.appendChild(t),t.submit(),t.parentNode.removeChild(t)}var qe=function(e){return{type:z,payload:e}},Ue=function(e){return{type:V,payload:e}},Be=function(e){return{type:G,payload:e}},Fe=function(){return{type:Y}}},"ByxVRLy/QIcPjT0OMyxw":function(e,t,n){},"C/qkeL8qIO8svJwk4jmB":function(e,t,n){},ChNA47itMhrlI5HSOuk4:function(e,t,n){"use strict";var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("MJovFwNIrFAmLe5Xoo3c"),u=n.n(c),s=function(e){var t=e.cls,n=e.children,r=e.dataT;return o.a.createElement("div",{"data-t":r?"page:".concat(r):"page",className:u()("passp-auth-screen passp-".concat(t,"-page"),{v5:!0})},n)};s.propTypes={cls:a.a.string,dataT:a.a.string,children:a.a.node.isRequired},t.a=s},Cn0bb7dlXdz9iLHfBkZ3:function(e,t,n){"use strict";var r=n("n4qmQ1un7LO1pUfezZ0B"),o=n.n(r);function i(e){return{type:"SHOW_REQUEST_PASSWORD",show:e}}function a(e){return{type:"SHOW_REQUEST_CAPTCHA",show:e}}var c,u=n("qyhOylcYgz7sofzu7jFu"),s=n("QgjbgVDbzfInN/CjWaXi"),l=n("icG+8Jgv+BJiTL/fPTrX"),f=n("O5/wDFcDcr7psfl422DM");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e){return function(e){if(Array.isArray(e))return h(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}t.a={init:function(e){c=e},request:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,s=new $.Deferred;return o.a.api.request(e,n,r).done((function(n){return"error"!==n.status?s.resolve(n):(Array.isArray(n.errors)&&(n.errors.find((function(e){return"password.required"===e}))&&c.dispatch(i(!0)),n.errors.find((function(e){return"captcha.required"===e}))&&"/profile/password/submit"!==e&&c.dispatch(a(!0)),n.errors.find((function(e){return"sessionid.invalid"===e}))&&c.dispatch(Object(u.r)()),n.errors.find((function(e){return"track.not_found"===e||"track_id.invalid"===e}))&&t.getTrackWithUid()),s.reject(n))})).fail((function(e){var t={status:"error",errors:[]};return 403===e.status?t.errors.push("csrf_token.invalid"):t.errors.push("internal"),c.dispatch(Object(u.q)(t)),s.reject(t)})),s.promise()},log:function(e,t){o.a.api.log(e,t)},getTrackWithUid:function(){var e=c.getState().common,t=e.csrf,n=e.actionForRepeat||{},r=n.action,o=n.payload;c.dispatch({type:u.d}),this.request("getTrackWithUid",{csrf_token:t}).done((function(e){c.dispatch({type:u.f,track_id:e.track_id}),r&&c.dispatch(r.apply(void 0,p(o)))})).fail((function(e){c.dispatch({type:u.e,res:e})}))},getTrack:function(e){var t=this,n=e.trackId,r=e.type;return new Promise((function(e){t.request("track",{type:r,track_id:n}).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id;c.dispatch(Object(s.e)({id:n,type:r})),e(t)})).fail(e)}))},setCsrfToken:function(e){o.a.api.setCsrfToken(e)},validatePhone:function(e){var t=this,n={track_id:e.trackId,phone_number:e.phone,validate_for_call:!0};return new Promise((function(e){t.request("validate-phone",n).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.valid_for_call,r=t.valid_for_flash_call;e({isPhoneValidForCall:n,isPhoneValidForFlashCall:r})})).fail(e)}))},requestPhoneConfirmationCode:function(e){var t=this,n={track_id:e.trackId,display_language:e.language,number:e.phone,confirm_method:e.phoneConfirmMethod,mode:e.mode};return new Promise((function(e,r){t.request("phone-confirm-code-submit",n).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.deny_resend_until,r=t.calling_number_template,o=t.number,i=void 0===o?{}:o,a=i.masked_international;e({denyResendUntil:n,callingNumberTemplate:r,phone:a})})).fail(r)}))},checkPhoneConfirmationStatus:function(e){var t=this,n=e.trackId,r=e.phoneConfirmMethod;return new Promise((function(e,o){["by_flash_call","by_call"].includes(r)&&function i(){return setTimeout((function(){t.request("confirm-phone-check-status",{track_id:n}).then().fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors,a=void 0===n?[]:n,c=a[0]||"call_confirm.failed",u=["call_confirm.not_ready"].includes(c),s=["call_confirm.in_progress","call_confirm.finished","call_confirm.started"].includes(c),l=["call_confirm.failed","call_confirm.user_unavailable"].includes(c);if(["by_flash_call","by_call"].includes(r)&&"track.invalid_state"!==c&&("by_flash_call"!==r||"call_confirm.user_hangup"!==c))return u?i():s?e():o(l?{code:"check_phone"}:{code:c})}))}),500)}()}))},checkPhoneConfirmationCode:function(e){var t=this,n=e.trackId,r=e.code,o=e.mode,i=e.password;return new Promise((function(e,a){t.request("phone-confirm-code",{track_id:n,code:r,password:i,mode:o}).done(e).fail(a)}))},findAccountsByNameAndPhone:function(e){var t=this,n=e.trackId,r=e.firstname,o=e.lastname,i=e.allowNeophonish;return new Promise((function(e,a){t.request("find-accounts-by-name-and-phone",{allow_neophonish:i,track_id:n,firstname:r,lastname:o}).done(e).fail(a)}))},getSuggestedLogins:function(e){var t=this,n={track_id:e.trackId,firstname:e.firstname,lastname:e.lastname,login:e.login,timeout:2e3};return new Promise((function(e,r){n.firstname.trim()&&n.lastname.trim()||e([]),t.request("suggestV2",n).done(e).fail(r)}))},registrationSubmit:function(){var e=this;return new Promise((function(t){e.request("registration-submit").done((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id;c.dispatch(Object(s.e)({id:n,type:s.b.REGISTER})),t(e)})).fail(t)}))},multiStepCommitSMSCode:function(e){var t=this,n=e.trackId,r=e.login,o=e.retpath;return new Promise((function(e,i){t.request("multi-step-commit-sms-code",{track_id:n,login:r,retpath:o}).done(e).fail(i)}))},checkJSLoad:function(e){var t=e.trackId,n=e.language;this.request("checkjsload",{track_id:t,language:n})},writeStatbox:function(e){var t=c.getState(),n=t.common,r=void 0===n?{}:n,i=r.experiments,a=void 0===i?{}:i,u=r.retpath,s=r.origin,p=r.from,h=a.flagsString,b=a.boxes,m=(void 0!==("undefined"==typeof window?"undefined":d(window))?location:{}).pathname,y=Object.assign({experiment_flags:h,experiment_boxes:b&&b.join(";"),is_mobile:"".concat(Object(l.l)(t)),pathname:m,url:m,retpath:u&&encodeURI(u),uid:Object(l.i)(t),process_uuid:Object(l.e)(t),origin:s&&encodeURIComponent(s),from:p&&encodeURIComponent(p),login:Object(f.f)("login")},e);o.a.api.log(y,{encrypt:!0})},getAccounts:function(e){var t=this,n=e.trackId;return new Promise((function(e,r){t.request("auth/accounts",{track_id:n}).done(e).fail(r)}))},askAdditionalData:function(e){var t=this,n=e.uid;return new Promise((function(e,r){t.request("auth/additional_data/ask_v2",{uid:n}).done(e).fail(r)}))},updateCsrfToken:function(){var e=this;return new Promise((function(t,n){e.request("update-csrf").done((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.updatedCSRF;r&&(e.setCsrfToken(r),c.dispatch(Object(u.z)(r))),t(n)})).fail(n)}))},userEntryFlowSubmit:function(){var e=this;return new Promise((function(t,n){e.request("user-entry-flow-submit").done((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.id;c.dispatch(Object(s.e)({id:n,type:s.b.REGISTER})),t(e)})).fail(n)}))},neoPhonishAuth:function(e){var t=this,n=e.trackId,r=e.firstname,o=e.lastname,i=e.uid,a=e.retpath;return new Promise((function(e){t.request("neo-phonish-auth",{track_id:n,firstname:r,lastname:o,uid:i,retpath:a}).done(e).fail(e)}))},getRegisterLiteState:function(e){var t=this,n=e.trackId,r=e.language;return c.dispatch(Object(s.e)({id:n,type:s.b.REGISTER})),new Promise((function(e,o){t.request("registration-lite-experiment.submit",{track_id:n,language:r}).done(e).fail(o)}))},registerLite:function(e){var t=this;return new Promise((function(n,r){t.request("registration-lite-experiment.commit",e).done(n).fail(r)}))},registerSocial:function(e){var t=this;return new Promise((function(n,r){t.request("registration-social",e).done(n).fail(r)}))},socialAuthCallback:function(){var e=this;return new Promise((function(t,n){e.request("callback-social").done(t).fail(n)}))}}},D6byb7CfX1AqZVeSOYPw:function(e,t,n){},DNml7VDdSAs10Z4giKjv:function(e,t,n){"use strict";n.d(t,"a",(function(){return U}));n("BgnV84hQ0UU2OmOakNZX");var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("0jVWG83ZTs4TpuBBoE+u"),u=n("QF4IEkp/EABzldNSd9DJ"),s=n("NVT7uoNSZLVfiQYs0dc9"),l=n("ju8TP0kjneHRXA4mM6rZ"),f=n("UpHCcmF0t5TR7WKVgbvz"),d=n("JJt1Opw+3ZFKt96oUKV9"),p=n("VHKtQ6jxUfcNeW3ZAZia"),h=n("fCzSOJfhwN1NxHCVzzcL"),b=n("EqKQx9TBIxTH+SpXD9vM"),m=n("0Ol+RSPEO+ZIxOCevcwt"),y=n("78LuxPYf5SJYTIJ4s58x"),g=n("y75Tlv8Tfvf2wBihbEt5"),v=(n("vWURAkDxYH9eGdmnSETA"),n("6B1wvcH0TUKR6dpIOTUb")),O=Object(c.withBemMod)(Object(v.b)(),{size:"auth-l"}),_=(n("vd8j9UGZ32E34QoMNzsB"),Object(c.withBemMod)(Object(v.b)(),{size:"auth-qr"})),E=(n("sY/Cfr3ce71PYtRNAg5S"),Object(c.withBemMod)(Object(v.b)(),{size:"family-l"})),w=Object(c.withBemMod)(Object(v.b)(),{size:"family-m"}),S=(n("+tm/Li9KiyyPl//IbRmR"),Object(c.withBemMod)(Object(v.b)(),{size:"signup-l"})),j=(n("nj4GZhfQujpt5gCjUlSR"),Object(c.withBemMod)(Object(v.b)(),{size:"subscription"})),C=(n("lfhCcm2WU1e68N8/ql4F"),Object(c.withBemMod)(Object(v.b)(),{view:"auth-mobile-menu"})),R=(n("3TeZqcX6a5l9BQy9URn1"),Object(c.withBemMod)(Object(v.b)(),{view:"auth-smart-tv"})),k=(n("Tn6Zhl6/XLc4oa3r3uvP"),Object(c.withBemMod)(Object(v.b)(),{view:"white"})),P=(n("ywTefedwdxFuvsyDYANl"),Object(c.withBemMod)(Object(v.b)(),{view:"plus"})),T=(n("Db6pOV/nxWRqA0W/o2/G"),Object(c.withBemMod)(Object(v.b)(),{view:"social-auth-gg"})),A=Object(c.withBemMod)(Object(v.b)(),{view:"social-auth-vk"}),N=Object(c.withBemMod)(Object(v.b)(),{view:"social-auth-fb"}),L=Object(c.withBemMod)(Object(v.b)(),{view:"social-auth-mr"}),M=Object(c.withBemMod)(Object(v.b)(),{view:"social-auth-tw"}),x=Object(c.withBemMod)(Object(v.b)(),{view:"social-auth-ok"});function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function D(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var q=Object(c.compose)(u.a,s.a,l.a,O,_,E,w,S,j,f.a,d.a,p.a,h.a,C,R,k,P,b.a,m.a,y.a,T,A,N,L,M,x)(g.a),U=function(e){var t=e.type,n=void 0===t?"button":t,r=e.view,i=void 0===r?"action":r,a=e.text,c=e.onClick,u=e.size,s=e.children,l=e.dataT,f=D(e,["type","view","text","onClick","size","children","dataT"]),d=u;return"auth-l"===u&&(d="l"),o.a.createElement(q,I({onClick:c,type:n,view:i,size:d,"data-t":l?"button:".concat(i,":").concat(l):"button:".concat(i)},f),s||a)};U.propTypes={view:a.a.oneOf(["default","pseudo","action","clear","white","auth-smart-tv","auth-mobile-menu","social-auth-gg","social-auth-vk","social-auth-fb","social-auth-mr","social-auth-tw","social-auth-ok"]),size:a.a.oneOf(["s","m","l","auth-l","auth-qr","family-m","family-l","signup-l","subscription"]),width:a.a.oneOf(["max","auto"]),type:a.a.string,text:a.a.string,url:a.a.string,id:a.a.string,target:a.a.string,onClick:a.a.func,disabled:a.a.bool,progress:a.a.bool,icon:a.a.object,children:a.a.node,dataT:a.a.string}},"Db6pOV/nxWRqA0W/o2/G":function(e,t,n){},DoQaHn2w4kPN7lMBHsaC:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("2zFAvgXZRXm915c1LW+m"),o={"phone.missingvalue":"Пожалуйста, укажите номер телефона","email.missingvalue":"Пожалуйста, укажите ваш email","email.challenge.not_passed":"Указан неправильный адрес ящика. Возможно, вы допустили опечатку.","phone.challenge.not_passed":"Указан неправильный номер телефона. Возможно, вы допустили опечатку.","challenge.not_passed":"Неправильный код, попробуйте ещё раз"},i=n("Sv+DydT6rKBct5kRKGVV");function a(e){return function(t,n){var o=n(),i=o.common,a=i.retpath,u=i.track_id,s=o.challenge.challengeType;"phone.confirmed"!==e?!function(e){return["track_id.empty","track_id.invalid","track.not_found","unknowntrack","track.invalid_state","action.impossible","challenge.not_enabled","account.not_found","account.disabled","account.disabled_on_deletion","account.global_logout","sessionid.overflow","account.global_logout"].includes(e)}(e)?"account.auth_passed"!==e?(s||"challenge.limit_exceeded"===e)&&t(Object(r.f)({code:e,text:c(e,s)})):window.location.href=a:window.location.href="/auth?track_id=".concat(u):location.href="/profile".concat(location.search)}}function c(e,t){var n=Object.assign({},o,i.a);return("phone_confirmation"===t?n[e]:n["".concat(t,".").concat(e)])||"Что-то пошло не так. Попробуйте обновить страницу"}},"DykVKCzoc0ACbI/E+LI/":function(e,t,n){"use strict";n.d(t,"j",(function(){return p})),n.d(t,"i",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"h",(function(){return m})),n.d(t,"a",(function(){return y})),n.d(t,"g",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return O})),n.d(t,"d",(function(){return _})),n.d(t,"b",(function(){return E})),n.d(t,"r",(function(){return w})),n.d(t,"p",(function(){return S})),n.d(t,"q",(function(){return j})),n.d(t,"o",(function(){return R})),n.d(t,"u",(function(){return k})),n.d(t,"t",(function(){return P})),n.d(t,"k",(function(){return T})),n.d(t,"n",(function(){return A})),n.d(t,"s",(function(){return N})),n.d(t,"l",(function(){return L})),n.d(t,"m",(function(){return M}));var r=n("BiY5T7IoWQd4oP5CD4Ck"),o=n("gW+kGIULm/gsAM1O/w51"),i=n("Yp2QB2jYYmLrYZQDlfoW"),a=n("icG+8Jgv+BJiTL/fPTrX"),c=n("JLFc6U7sd0PMI6Bh60mb"),u=n("O5/wDFcDcr7psfl422DM"),s=n("W3MgEIO55ELSFhldjoS/"),l=n("Cn0bb7dlXdz9iLHfBkZ3"),f={phoneConfirm:"success"},d={phoneConfirm:"error"},p="UPDATE_PHONE_CONFIRM_NUMBER",h="UPDATE_PHONE_CONFIRM_CODE",b="SET_PHONE_CONFIRM_ERRORS",m="SET_PHONE_CONFIRM_TIMER",y="CLEAR_SECURE_PHONE_NUMBER",g="SET_PHONE_CONFIRM_METHOD",v="SET_PHONE_CONFIRMATION_CALLING_NUMBER_TEMPLATE",O="SET_PHONE_CONFIRMATION_PHONE_CHECK_STATE",_="SET_SIGN_UP_PHONE_CONFIRMATION_DENY_RESEND_UNTIL",E="SET_PHONE_CODE_TIMER",w=function(e){return function(t){return t({type:_,payload:{denyResendUntil:e}})}},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"by_sms";return function(t){return t({type:g,payload:{phoneConfirmMethod:e}})}},j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:v,payload:{callingNumberTemplate:e}})}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t){return t({type:O,payload:{shouldCheckPhone:e}})}},R=function(e){return function(t){return t({type:b,payload:{errors:e}})}},k=function(e){return function(t){return t({type:p,payload:{phoneNumber:e}})}},P=function(e){return function(t){return t({type:h,payload:{confirmationCode:e}})}},T=function(){return function(e){return e({type:y})}},A=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var i=n(),a=i.phoneConfirm,c=void 0===a?{}:a,u=i.settings,s=void 0===u?{}:u,f=i.common,d=void 0===f?{}:f,p=c.phoneNumber,h=c.securePhoneNumber,b=e?h:p,y=d.track_id,g=d.csrf;if(b&&b.trim()){var v={number:b,track_id:y,csrf_token:g,display_language:s.lang};t(R([])),t(Object(r.bb)(!0)),l.a.request("phone/bind_simple_or_confirm_bound/submit",v).done((function(){t(Object(r.bb)(!1)),t(Object(r.Y)(!0)),t(Object(r.X)("phoneConfirmation")),t({type:m})})).fail((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.errors;n.includes("phone.confirmed")||n.includes("phone_secure.bound_and_confirmed")?t(Object(o.a)()):(t(R(n)),t(Object(r.bb)(!1)))}))}else t(R(["number.empty"]))}},N=function(){return function(e,t){var n=t(),i=n.phoneConfirm,a=void 0===i?{}:i,c=n.common,s=void 0===c?{}:c,p=a.confirmationCode,h=s.retpath,b=s.track_id,m=s.csrf;if(!p||!p.trim())return e(R(["code.empty"])),void e(Object(r.bb)(!1));var y={code:p,track_id:b,csrf_token:m};e(R([])),e(Object(r.bb)(!0)),l.a.request("phone/bind_simple_or_confirm_bound/commit",y).done((function(){Object(u.l)(f,h),e(Object(o.a)())})).fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors;n.includes("phone.confirmed")||n.includes("phone_secure.bound_and_confirmed")?e(Object(o.a)()):(Object(u.l)(d,h),e(R(n)),e(Object(r.bb)(!1)))}))}},L=function(e){var t=e.dispatch,n=e.getState,r=e.phoneValidateParams,o=void 0===r?{}:r,f=e.trackId,d=n(),p=Object(a.c)(d),h=Object(a.d)(d),b=p.phone,m=o.isPhoneValidForCall,y=o.isPhoneValidForFlashCall?"by_flash_call":m?"by_call":"by_sms",g=f||Object(a.h)(d,"register");return t(C(!1)),t(Object(i.K)({field:c.a.PHONE,error:{}})),t(Object(i.K)({field:c.a.PHONE_CODE,error:{}})),t(S(y)),new Promise((function(e,n){return l.a.requestPhoneConfirmationCode({trackId:g,language:h,phone:b,phoneConfirmMethod:y}).then((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=n.denyResendUntil,o=void 0===r?Object(u.g)(30):r,a=n.callingNumberTemplate;t(w(o)),t(j(a)),l.a.checkPhoneConfirmationStatus({trackId:g,phoneConfirmMethod:y}).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.code;if("check_phone"===n)return t(C(!0));t(Object(i.K)({field:c.a.PHONE_CODE,error:Object(u.d)(c.a.PHONE_CODE,n)})),s.a.send("Показ ошибки поля phoneCode: ".concat(n))})),e(n)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=e.errors&&e.errors[0];"captcha.not_checked"!==r&&(t(Object(i.K)({field:c.a.PHONE,error:Object(u.d)(c.a.PHONE,r)})),t(Object(i.K)({field:c.a.PHONE_CODE,error:Object(u.d)(c.a.PHONE,r)})),s.a.send("Показ ошибки поля phone: ".concat(r)),s.a.send("Показ ошибки поля phoneCode: ".concat(r))),n(e)}))}))},M=function(e){return function(t,n){L({dispatch:t,getState:n,trackId:e})}}},"E7tECPK7daWDXj1IZwt+":function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n("WE2RsoBXx7uBcYbdhL/w"),o=(n("ft3fjLIKIl8uFQIb91ep"),n("8SCZFIl/r0BKJR1Q9GmD")),i=n.n(o),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("LzmKygd9FPlNlMcSJp0Y"),s=n("AFgMZ7oQJHD2/+zDS46y"),l=n("JLFc6U7sd0PMI6Bh60mb");function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function p(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==f(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=Object(u.cn)("Password"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,o=y(a);function a(){var e;h(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(v(e=o.call.apply(o,[this].concat(n))),"ref",i.a.createRef()),_(v(e),"_toggleVisibility",(function(){(0,e.props.togglePasswordVisibilityState)()})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.ref.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.type,n=(e.hasToggler,e.view),r=p(e,["type","hasToggler","view"]),o="password"===t?"Показать текст пароля":"Скрыть текст пароля";return i.a.createElement("div",{className:E({icon:!0})},!1,i.a.createElement(s.b,d({size:"l",ref:this.ref,view:n,type:t,iconRight:i.a.createElement("button",{className:E("toggler",{visible:"text"===t,view:n,v5:!0}),tabIndex:"2",type:"button",title:o,"aria-label":o,onClick:this._toggleVisibility})},r)))}}])&&b(t.prototype,n),r&&b(t,r),a}(i.a.PureComponent);_(w,"defaultProps",{type:"password",name:l.a.PASSWORD,label:"Придумайте пароль",hasToggler:!0,options:{autoCorrect:"off",autoCapitalize:"off",autoComplete:"new-password"}}),w.propTypes={type:c.a.string,name:c.a.string,label:c.a.string,placeholder:c.a.string,passwordWeight:c.a.string,hideLabel:c.a.bool,shouldValidate:c.a.bool,togglePasswordVisibilityState:c.a.func.isRequired,options:c.a.shape({autoCorrect:c.a.string,autoCapitalize:c.a.string,autoComplete:c.a.string}),hasToggler:c.a.bool,view:c.a.string};var S={togglePasswordVisibilityState:n("Yp2QB2jYYmLrYZQDlfoW").J},j=Object(r.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.form,n=void 0===t?{}:t,r=n.isPasswordVisible,o=n.passwordWeight;return{type:r?"text":"password",passwordWeight:o}}),S)(w)},"E9IGm0Yn7bS+QmLsuwLk":function(e,t,n){"use strict";n.d(t,"a",(function(){return x}));var r=n("WE2RsoBXx7uBcYbdhL/w"),o=(n("leE1nfzCWVY6MpYXFZS+"),n("8SCZFIl/r0BKJR1Q9GmD")),i=n.n(o),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("DNml7VDdSAs10Z4giKjv"),s=n("ysMlxi1yQ/4ftbKMQCqh"),l=n("30SY6zyJjGxELFqjE9vf"),f=n("AFgMZ7oQJHD2/+zDS46y"),d=n("JLFc6U7sd0PMI6Bh60mb"),p=n("WiYX8/zkxBCHx90Q2RVM"),h=n("O5/wDFcDcr7psfl422DM"),b=n("Hotb6bLBAZw9GrEYBPZD"),m=n("W3MgEIO55ELSFhldjoS/");function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e){return function(e){if(Array.isArray(e))return v(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function O(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function E(e,t){return(E=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=C(e);if(t){var o=C(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return S(this,n)}}function S(e,t){return!t||"object"!==y(t)&&"function"!=typeof t?j(e):t}function j(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function C(e){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function R(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=Object(h.a)("PhoneConfirmationCode"),P=/[0-9]/,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&E(e,t)}(a,e);var t,n,r,o=w(a);function a(){var e;O(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return R(j(e=o.call.apply(o,[this].concat(n))),"state",{currentTimestamp:Object(h.g)(),code:[]}),R(j(e),"ref",i.a.createRef()),R(j(e),"_timerInterval",null),R(j(e),"_updateTimestamp",(function(){return e.setState({currentTimestamp:Object(h.g)()})})),R(j(e),"_startTimer",(function(){var t=e.props.denyResendUntil;t&&(e._timerInterval=setInterval((function(){e._updateTimestamp(),Object(h.g)()>=Number(t)&&e._stopTimer()}),1e3))})),R(j(e),"_stopTimer",(function(){e._timerInterval&&(clearInterval(e._timerInterval),e._timerInterval=null)})),R(j(e),"_getCodeLength",(function(){return"by_flash_call"===e.props.confirmMethod?4:6})),R(j(e),"_getSendSMSButtonText",(function(t){var n=e.props,r=n.confirmMethod,o=n.denyResendUntil,a=e.state.currentTimestamp,c=["by_flash_call","by_call"].includes(r)?"Выслать СМС":"Отправить ещё код";return t?i.a.createElement(i.a.Fragment,null,c,"  ",i.a.createElement(p.a,{startTime:a,endTime:Number(o),isUnixTimeStamp:!0})):c})),R(j(e),"_getTitle",(function(){var t=e.props,n=t.confirmMethod,r=t.phone;if(t.shouldCheckPhone)return"Мы не смогли до вас дозвониться. Проверьте ваш номер телефона";switch(n){case"by_flash_call":return"Звоним вам… введите последние четыре цифры номера, с которого поступит звонок";case"by_call":return"Звоним вам… пожалуйста, введите ниже код, который мы назовём";default:return"Введите код из смс. Мы отправили его на номер <span>"+r+"</span>"}})),R(j(e),"_retryToRequestPhoneConfirmationCode",(function(){var t=e.props.onRetry;e._clearCode(),m.a.send("Отправка СМС"),t()})),R(j(e),"_clearCode",(function(){e.setState({code:[]});var t=document.querySelectorAll(".".concat(k("input")));(t&&t.length?Array.prototype.slice.call(t):[]).forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.value=""})),e.ref.current&&e.ref.current.focus()})),R(j(e),"clearErrors",(function(){var t=e.props,n=t.name;(0,t.updateErrors)({field:n,error:{}})})),R(j(e),"getButtonSize",(function(){return e.props.place===b.a?"signup-l":"auth-l"})),R(j(e),"_renderControls",(function(){var t=e.state.currentTimestamp,n=e.props,r=n.denyResendUntil,o=n.shouldCheckPhone,a=n.goBack,c=n.onConfirm,s=n.loading,l=t<Number(r);return i.a.createElement("div",{className:k("controls")},o?i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{onClick:a,text:"Исправить номер",view:"default",type:"button",size:e.getButtonSize(),disabled:s,width:"max",dataT:"go-back"}),i.a.createElement(u.a,{onClick:e._retryToRequestPhoneConfirmationCode,text:"Да, номер правильный",type:"button",size:e.getButtonSize(),disabled:s,width:"max",dataT:"retry-to-request-code"})):i.a.createElement(i.a.Fragment,null,i.a.createElement(u.a,{text:"Далее",onClick:c,size:e.getButtonSize(),type:"button",disabled:e._isDisabled()||s,width:"max"}),i.a.createElement(u.a,{onClick:e._retryToRequestPhoneConfirmationCode,view:"default",type:"button",disabled:l||s,size:e.getButtonSize(),width:"max",dataT:"retry-to-request-code"},e._getSendSMSButtonText(l))))})),R(j(e),"_focusNextInput",(function(e){var t;e>=0&&(t=document.getElementById("code-symbol-".concat(e))),t&&t.focus()})),R(j(e),"_onKeyDown",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0,r=e.state.code,o=t.target,i=t.key,a=n-1;o&&(P.test(i)||"Backspace"===i?"Backspace"===i&&(r[n]="",e.setState({code:r}),n===e._getCodeLength()-1&&o.value||e._focusNextInput(a)):t.preventDefault())})),R(j(e),"_onChange",(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;t.preventDefault();var r=e.props,o=r.onConfirm,i=r.name,a=r.updateValues,c=e.state.code,u=t.target,s=u.value,l=n+1;if(u&&(e.clearErrors(),P.test(s))){c[n]=s,e.setState({code:c}),e._focusNextInput(l);var f=c.join("");f.length===e._getCodeLength()&&(m.a.send("Введен код подтверждения телефона"),a({field:i,value:f}),o())}})),R(j(e),"onFieldChange",(function(){var t=e.props,n=t.onConfirm;t.code.length===e._getCodeLength()&&(m.a.send("Введен код подтверждения телефона"),n())})),R(j(e),"_isDisabled",(function(){var t=e.props.error;return e.state.code.join("").length===e._getCodeLength()&&!t})),R(j(e),"_getInputs",(function(){var t=e.props,n=t.error,r=t.confirmMethod,o=t.isMobile;return i.a.createElement("div",{className:k("inputs",{"inputs-long":e._getCodeLength()%3==0}),"data-t":"phone-confirmation-code"},g(Array(e._getCodeLength())).map((function(t,a){return i.a.createElement("input",{key:"code-symbol-".concat(r,"-").concat(a),ref:0===a?e.ref:null,id:"code-symbol-".concat(a),className:k("input",{"input-error":!!n,"input-size-l":!0}),onKeyDown:function(t){return e._onKeyDown(t,a)},onChange:function(t){return e._onChange(t,a)},maxLength:"1",autoComplete:"off",autoCapitalize:"off",autoCorrect:"off",type:o?"number":"text",disabled:e._isDisabled()})})))})),R(j(e),"_maybeRenderError",(function(){var t=e.props.error;return t?i.a.createElement("div",{className:k("error"),dangerouslySetInnerHTML:{__html:t}}):null})),R(j(e),"_maybeRenderPhonePrefix",(function(){var t=e.props,n=t.confirmMethod,r=t.callingNumberTemplate;return"by_flash_call"!==n?null:i.a.createElement("div",{className:k("phone-prefix",{v5:!0})},Object(h.j)(r))})),R(j(e),"_maybeRenderForm",(function(){var t=e.props,n=t.shouldCheckPhone,r=t.confirmMethod,o=t.isMobile;return n?null:"by_flash_call"!==r?i.a.createElement(f.b,{name:d.a.PHONE_CODE,view:"floating-label",size:"l",disabled:e._isDisabled(),maxLength:e._getCodeLength(),onKeyUp:e.onFieldChange,options:{autoComplete:"off",autoCapitalize:"off",autoCorrect:"off"},type:o?"number":"text",ref:e.ref}):i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:k("code",{confirmMethod:r,"code-size-l":!0})},e._maybeRenderPhonePrefix(),e._getInputs()),e._maybeRenderError())})),R(j(e),"_maybeRenderPhoneForCheck",(function(){var t=e.props,n=t.shouldCheckPhone,r=t.phone;return n?i.a.createElement("div",{className:k("check-phone")},r):null})),R(j(e),"_goBack",(function(){var t=e.props,n=t.goBack,r=t.setPhoneConfirmMethod;n(),r("by_sms")})),R(j(e),"_maybeRenderBackButton",(function(){var t=e.props,n=t.goBack,r=t.shouldCheckPhone,o=t.place;return!n||r||o!==b.a?null:i.a.createElement("div",{className:k("back-button")},i.a.createElement(l.a,{onClick:e._goBack,place:o}))})),R(j(e),"_maybeRenderHead",(function(){return"change-password"!==e.props.place?i.a.createElement("div",{className:k("head")},e._maybeRenderBackButton(),i.a.createElement(s.a,{size:e.getTitleSize()},i.a.createElement("div",{dangerouslySetInnerHTML:{__html:e._getTitle()}}))):null})),R(j(e),"getTitleSize",(function(){if(e.props.place===b.a)return"l"})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props.confirmMethod;this._stopTimer(),this._startTimer(),m.a.send("Показ экрана потдверждения телефона"),m.a.send("Метод подтверждения телефона - ".concat(e)),this.ref.current&&this.ref.current.focus()}},{key:"componentDidUpdate",value:function(e){this.props.denyResendUntil!==e.denyResendUntil&&(this._updateTimestamp(),this._startTimer()),this.props.confirmMethod!==e.confirmMethod&&m.a.send("Метод подтверждения телефона - ".concat(this.props.confirmMethod))}},{key:"componentWillUnmount",value:function(){var e=this.props.updateValues;this.clearErrors(),this._stopTimer(),e({field:d.a.PHONE_CODE,value:""})}},{key:"render",value:function(){var e,t=this.props,n=t.place,r=t.confirmMethod;return i.a.createElement("div",{className:k("",(e={},R(e,n,!0),R(e,"v5",!0),e))},this._maybeRenderHead(),i.a.createElement("div",{className:k("body",{confirmMethod:r})},this._maybeRenderPhoneForCheck(),this._maybeRenderForm()),this._renderControls())}}])&&_(t.prototype,n),r&&_(t,r),a}(i.a.PureComponent);R(T,"defaultProps",{name:d.a.PHONE_CODE}),T.propTypes={code:c.a.string,name:c.a.string,error:c.a.string,onConfirm:c.a.func,onRetry:c.a.func.isRequired,denyResendUntil:c.a.oneOfType([c.a.number,c.a.string]),phone:c.a.string,callingNumberTemplate:c.a.string,confirmMethod:c.a.oneOf(["by_sms","by_flash_call","by_call"]),updateValues:c.a.func.isRequired,updateErrors:c.a.func.isRequired,goBack:c.a.func,setPhoneConfirmMethod:c.a.func.isRequired,place:c.a.string,shouldCheckPhone:c.a.bool,isMobile:c.a.bool,skipTitle:c.a.bool,loading:c.a.bool};var A=n("Yp2QB2jYYmLrYZQDlfoW"),N=n("DykVKCzoc0ACbI/E+LI/"),L=n("icG+8Jgv+BJiTL/fPTrX"),M={updateValues:A.N,updateErrors:A.K,setPhoneConfirmMethod:N.p},x=Object(r.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.name,r=void 0===n?"phoneCode":n,o=Object(L.c)(e),i=o[f.a.PHONE],a=o[f.a.PHONE_CODE],c=Object(L.b)(e),u=e.phoneConfirm,s=void 0===u?{}:u,l=e.auth,d=void 0===l?{}:l,p=d.loading,b=s.phoneConfirmMethod,m=void 0===b?"by_sms":b,y=s.denyResendUntil,g=s.callingNumberTemplate,v=s.shouldCheckPhone,O=s.phoneNumber;return{phone:O||Object(h.i)(i),code:a,denyResendUntil:y,confirmMethod:m,error:c[r]&&c[r].text,callingNumberTemplate:g,shouldCheckPhone:v,isMobile:Object(L.l)(e),loading:p}}),M)(T)},EnGa9mvY6eOwANLjrgCs:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("FUZ6AA4Oce8/2wMDn7Ki"),o=n("7/9pYbQkeaSMYb1NzrDG");function i(e){return function(t,n){var i=n().captcha,a=i.playing,c=i.introSound;a||(t(Object(r.j)(!0)),e?c&&"function"==typeof c.play&&c.play():t(Object(o.a)()))}}},ErAW8al71Hkxzy6tLFFC:function(e,t,n){},Es9rmdkpPfO71ZhahEM7:function(e,t,n){"use strict";var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("LzmKygd9FPlNlMcSJp0Y"),u=Object(c.cn)("PasspAuthForm"),s=function(e){e.preventDefault()},l=function(e){e.cls;var t=e.children,n=e.onSubmit,r=e.withoutOffset,i=e.method,a=void 0===i?"post":i,c=e.dataT,l=e.action;return o.a.createElement("form",{method:a,onSubmit:n||s,className:u({withoutOffset:r}),"data-t":c?"page:form:".concat(c):"page:form",action:l},t)};l.propTypes={cls:a.a.string,method:a.a.string,dataT:a.a.string,action:a.a.string,children:a.a.node.isRequired,onSubmit:a.a.func,withoutOffset:a.a.bool},t.a=l},"F+XoypME10tU70Tu7EYE":function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));n("u/P8MsklKxUIpNN7bM1p");var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("0jVWG83ZTs4TpuBBoE+u"),u=n("KXulbA+AVVG5glW89tGw"),s=n("IJ5tgtr4bkwo+uUgYwZ9"),l=n("isr2+gdpAnTwDrYXDTBd"),f=n("zeOK5iNh+WiHFKH5+BjR"),d=(n("jmzF52to/4zFJbrOodQz"),n("iWJWUYbjiAIOIAegO4+h")),p=Object(c.withBemMod)(Object(d.b)(),{view:"black"}),h=Object(c.withBemMod)(Object(d.b)(),{mode:"blind"});function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=Object(c.compose)(u.a,p,h)(s.a),R=Object(c.compose)(u.a,p,h,l.a)(s.a),k=Object(f.a)(C),P=Object(f.a)(R),T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}(a,e);var t,n,r,i=_(a);function a(){var e;g(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return j(w(e=i.call.apply(i,[this].concat(n))),"maybePreventScroll",(function(){var t=e.props,n=t.mode,r=t.visible;"blind"===n&&"undefined"!=typeof window&&(r&&!e.isPreventBinded?e.bindPreventScroll():e.unbindPreventScroll())})),j(w(e),"bindPreventScroll",(function(){if(!e.isPreventBinded){if(void 0===e.wheelOpt){var t=!1;try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return t=!0}}))}catch(e){throw e}e.wheelOpt=!!t&&{passive:!1},e.wheelEvent="onwheel"in document.createElement("div")?"wheel":"mousewheel"}window.addEventListener("touchmove",e.preventDefault,e.wheelOpt),window.addEventListener(e.wheelEvent,e.preventDefault,e.wheelOpt),e.isPreventBinded=!0}})),j(w(e),"unbindPreventScroll",(function(){window.removeEventListener("touchmove",e.preventDefault,e.wheelOpt),window.removeEventListener(e.wheelEvent,e.preventDefault,e.wheelOpt),e.isPreventBinded=!1})),j(w(e),"preventDefault",(function(e){e.preventDefault()})),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.maybePreventScroll()}},{key:"componentDidUpdate",value:function(){this.maybePreventScroll()}},{key:"componentWillUnmount",value:function(){this.unbindPreventScroll()}},{key:"render",value:function(){var e=this.props,t=e.dataT,n=e.view,r=void 0===n?"default":n,i=e.directions,a=e.mode,c=e.visible,u=e.anchor,s=y(e,["dataT","view","directions","mode","visible","anchor"]),l="blind"===a?["bottom-center"]:i,f=u?this.props.onOutsideClick||this.props.onEscapeKeyDown?P:R:this.props.onOutsideClick||this.props.onEscapeKeyDown?k:C;return o.a.createElement(f,m({view:r,"data-t":t?"popup:".concat(t):"popup",directions:l,visible:c,mode:a,anchor:u},s))}}])&&v(t.prototype,n),r&&v(t,r),a}(o.a.PureComponent);T.propTypes={view:a.a.oneOf(["default","black","mobile"]),dataT:a.a.string,onOutsideClick:a.a.func,onEscapeKeyDown:a.a.func,mode:a.a.oneOf(["blind",""]),visible:a.a.bool,directions:a.a.array,anchor:a.a.object}},"F0RLjjE+ZbZkCivh5+sy":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("4CLY6EXHBdRASoqLgoNs"),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("icG+8Jgv+BJiTL/fPTrX"),c=n("AFgMZ7oQJHD2/+zDS46y"),u=n("Yp2QB2jYYmLrYZQDlfoW"),s=n("O5/wDFcDcr7psfl422DM");function l(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.action,n=e.actionArguments,f=void 0===n?[]:n,d=e.callback;return function(e,n){var p=n(),h=p.auth.form.captcha_answer,b=p.common,m=b.track_id,y=b.csrf,g=p.captcha,v=g.trackId,O=g.key,_=Object(a.c)(p)[c.a.CAPTCHA]||h,E={track_id:v||m,csrf_token:y,answer:_};if(O&&(E.key=O),e(Object(i.bb)(!0)),!_||!_.trim())return e(Object(i.ob)("captcha.empty")),e(Object(u.K)({field:c.a.CAPTCHA,error:Object(s.d)(c.a.CAPTCHA,"captcha.empty")})),void e(Object(i.bb)(!1));r.a.request("checkHuman",E).done((function(n){if(e(Object(i.bb)(!1)),"ok"===n.status)return e(Object(i.ob)("")),e(Object(u.K)({field:c.a.CAPTCHA,error:{}})),e(Object(i.U)(!1)),t&&e(t.apply(void 0,l(f))),void("function"==typeof d&&d());e(Object(o.a)()),e(Object(i.ob)(n.errors)),e(Object(u.K)({field:c.a.CAPTCHA,error:Object(s.d)(c.a.CAPTCHA,n.errors)}))})).fail((function(t){e(Object(o.a)()),e(Object(i.ob)(t.errors)),e(Object(u.K)({field:c.a.CAPTCHA,error:Object(s.d)(c.a.CAPTCHA,t.errors)})),e(Object(i.bb)(!1))}))}}},"FBB4UUWfM/iz0AJy2xMy":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("B/+x7wOHvlrE/6Q4CYQo"),a=(n("tQIUWEgDat0qIXHlwX9j"),function(){return o.a.createElement("div",{className:"LoadableFallback"},o.a.createElement(i.a,{progress:!0,size:"l"}))})},FO5VaR1qDYhXlc1jCgw9:function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return k})),n.d(t,"b",(function(){return P})),n.d(t,"d",(function(){return T}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("icG+8Jgv+BJiTL/fPTrX"),i=n("pljtMiJ6cPwIsouCAJRc"),a=n("Yp2QB2jYYmLrYZQDlfoW"),c=n("qyhOylcYgz7sofzu7jFu"),u=n("DykVKCzoc0ACbI/E+LI/"),s=n("mnQejR5GxZY5Mi6PE0Mk"),l=n("QgjbgVDbzfInN/CjWaXi"),f=n("BiY5T7IoWQd4oP5CD4Ck"),d=n("5F+6fz9+ivUTWfn90aaq"),p=n("O5/wDFcDcr7psfl422DM"),h=n("z7Oi9rc5+MJTcyjtMHC3"),b=n("xSpN8Kyw4VlgAPhFVdtL"),m=n("bgXyrsqSC6Iqs5Ce6LQm"),y=n("JLFc6U7sd0PMI6Bh60mb"),g=n("W3MgEIO55ELSFhldjoS/"),v=n("Cn0bb7dlXdz9iLHfBkZ3"),O=n("ZhSnxcFTtIAlY+v3R+s6"),_=n("joROYenWse71KCSIszZL"),E=n("WwZV+0g8pRxIfTSFjg9I"),w=n("z/Ug44arcHnnmInRoI/0"),S=[w.b,w.e],j=function(e,t){e(Object(O.h)(t)),e(Object(c.y)(t!==_.d.ACCOUNTS))},C=function(e){var t=e.phone,n=e.route,o=e.processName;return function(e){e(Object(a.N)({field:y.a.PHONE,value:t})),e(R((function(){j(e,_.d.PHONE_CONFIRM),e(Object(r.d)(n))}),o,!0))}},R=function(e,t){return function(n,r){var c=r(),s=Object(o.c)(c),f=Object(o.h)(c,l.b.REGISTER),d=Object(E.c)(c),h=s.phone,b=S.includes(t)||S.includes(d);n(Object(i.b)(!0)),v.a.validatePhone({trackId:f,phone:h}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},s={dispatch:n,getState:r,trackId:f},l=t.status,h=t.errors,m=void 0===h?[]:h,g=t.isPhoneValidForCall,v=t.isPhoneValidForFlashCall;if("error"===l){var _=m[0];return n(Object(a.K)({field:y.a.PHONE,error:Object(p.d)(y.a.PHONE,_)})),void n(Object(i.b)(!1))}b||(s.phoneValidateParams={},v&&(s.phoneValidateParams.isPhoneValidForFlashCall=d===w.g&&Object(o.j)(c,"restorelogin_call_flashcall")||d===w.c&&Object(o.j)(c,"passp-20231-hangup-touch")),g&&(s.phoneValidateParams.isPhoneValidForCall=d===w.g&&Object(o.j)(c,"restorelogin_call_dictcall")||d===w.c&&Object(o.j)(c,"passp-20231-forced-zvonok"))),Object(u.l)(s).then((function(){"function"==typeof e&&e(),n(Object(i.b)(!1))})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.errors&&e.errors[0];"captcha.not_checked"===t&&n(Object(O.g)(!0)),n(Object(i.b)(!1))}))})).catch((function(){n(Object(i.b)(!1))}))}},k=function(e){return function(t,n){var c=_.e[e]||[],u=n(),S=Object(o.c)(u),C=Object(o.b)(u),k=Object(E.c)(u),P=Object(o.h)(u,l.b.REGISTER),T=Object(E.a)(e,k),A=Object(o.f)(u),N=Object(o.j)(u,"avatar-dozapros-newreg-exp1"),L=u.common,M=void 0===L?{}:L,x=u.form,I=void 0===x?{}:x,D=M.askAvatarUrl,q=M.csrf,U=S.phoneCode,B=S.firstname,F=S.lastname,H=I.type,W=[];if(t(Object(O.g)(!1)),t(Object(i.b)(!0)),g.a.send('Клик "Далее" на экране '.concat(e)),c.forEach((function(e){(!S[e]||S[e]&&!S[e].trim()||C[e]&&C[e].code)&&(W.push({field:e,error:C[e]&&C[e].code?C[e]:Object(p.d)(e,"missingvalue")}),g.a.send("Показ ошибки поля ".concat(e,": missingvalue")))})),W.length)return W.forEach((function(e){return t(Object(a.K)(e))})),void t(Object(i.b)(!1));if(e===_.d.PHONE&&t(R((function(){return j(t,T)}))),e===_.d.PHONE_CONFIRM&&v.a.checkPhoneConfirmationCode({trackId:P,code:U}).then((function(){j(t,T),t(Object(i.b)(!1))})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.errors&&e.errors[0];t(Object(a.K)({field:y.a.PHONE_CODE,error:Object(p.d)(y.a.PHONE_CODE,n)})),t(Object(i.b)(!1)),g.a.send("Показ ошибки поля phoneCode: ".concat(n))})),e===_.d.PERSONAL_DATA&&v.a.findAccountsByNameAndPhone({trackId:P,firstname:B,lastname:F,allowNeophonish:!0}).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.accounts,r=void 0===n?[]:n;if(t(Object(s.b)(r)),!r.length&&Object(E.e)(k))return Object(d.b)(t,u,!0).then((function(){j(t,Object(E.a)(T,k)),t(Object(i.b)(!1))})).catch((function(){return t(Object(i.b)(!1))}));if(1===r.length&&[w.b,w.e].includes(k)){var o=r[0],a=o.primary_alias_type,c=o.uid,l=o.allowed_auth_flows,f=void 0===l?[]:l,p=f.includes("instant");if(Object(b.b)(a)===b.a.NEOPHONISH&&p)return void t(Object(m.b)({trackId:P,uid:c,lastname:F,firstname:B}))}j(t,T),t(Object(i.b)(!1))})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.errors,r=void 0===n?[]:n,o=r[0];return k===w.c?Object(d.b)(t,u,!0).then((function(){j(t,Object(E.a)(T,k)),t(Object(i.b)(!1))})).catch((function(){return t(Object(i.b)(!1))})):(Object(E.f)(k)||k===w.b)&&o?(t(Object(O.l)(Object(p.b)("findAccountsByNameAndPhone",o))),void t(Object(i.b)(!1))):void t(Object(i.b)(!1))})),e===_.d.ACCOUNTS&&(T===_.d.LOGIN?Object(d.b)(t,u,!0).then((function(){j(t,T),t(Object(i.b)(!1))})).catch((function(){return t(Object(i.b)(!1))})):(j(t,T),t(Object(i.b)(!1)))),[_.d.LOGIN,_.d.PASSWORD].includes(e)&&(j(t,T),t(Object(i.b)(!1))),e===_.d.EULA){var z=Object.assign({},S,{"human-confirmation":"phone",trackId:P,csrf_token:q,eula_accepted:S.eula_accepted?"y":"n"});if(H&&k===w.c&&(z.type=H),k===w.b)return void function(e){var t=e.data,n=e.dispatch,r=e.options.redirectUrl;h.a.registerNeoPhonish(Object(p.h)(t)).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.status;return"ok"!==t?(n(Object(O.l)(Object(p.b)("registration","smthWrong"))),void n(Object(i.b)(!1))):location.replace(r)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.errors||e.error||[],r="string"==typeof t[0]?t[0]:(t[0]||{}).code;n(Object(O.l)(Object(p.b)("registration",r))),n(Object(i.b)(!1))}))}({data:z,dispatch:t,options:{redirectUrl:A}});!function(e){var t=e.data,n=e.dispatch,o=e.options,a=o.redirectUrl,c=o.isAvatarRequestExp,u=o.askAvatarUrl,s=t.trackId;h.a.asyncRegistration(Object(p.h)(t),n).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.status;return"ok"!==t?(n(Object(O.l)(Object(p.b)("registration","smthWrong"))),void n(Object(i.b)(!1))):c?v.a.updateCsrfToken().then((function(){n(Object(f.eb)({action:"add",state:"avatar",track_id:s})),n(Object(f.xb)(null)),n(Object(i.b)(!1)),n(Object(r.d)(u))})).catch((function(){return location.replace(a)})):location.replace(a)})).catch((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.errors||e.error||[],r="string"==typeof t[0]?t[0]:(t[0]||{}).code;n(Object(i.b)(!1)),g.a.send("Ошибка регистрации ".concat(r)),r&&n(Object(O.l)(Object(p.b)("registration",r)))}))}({data:z,dispatch:t,options:{redirectUrl:A,isAvatarRequestExp:N,askAvatarUrl:D}})}}},P=function(){return function(e,t){var n=t(),r=n.userEntryFlow,o=(void 0===r?{}:r).step,a=Object(E.c)(n),c=Object(E.d)(a),u=o||c[0],l=Object(E.b)(u,a);if(l===_.d.ACCOUNTS&&(l=Object(E.b)(l,a),e(Object(s.b)([]))),g.a.send('Клик "Назад" на экране '.concat(u)),[_.d.PHONE_CONFIRM,_.d.PHONE].includes(l))return e(Object(i.b)(!0)),void v.a.userEntryFlowSubmit().then((function(){j(e,c[0]),e(Object(i.b)(!1))})).catch((function(){return e(Object(i.b)(!1))}));j(e,l)}},T=function(){return function(e,t){var n=t(),r=Object(E.c)(n),o=Object(E.d)(r);g.a.send('Клик в "Попробовать еще раз"'),v.a.userEntryFlowSubmit().then((function(){e(Object(O.i)()),e(Object(a.N)({field:y.a.LOGIN,value:""})),e(Object(a.N)({field:y.a.PASSWORD,value:""})),j(e,o[0])})).catch((function(){g.a.send("Ошибка перезапуска процесса no_track"),e(Object(O.l)(Object(p.b)("global","global"))),e(Object(i.b)(!1))}))}}},"FUZ6AA4Oce8/2wMDn7Ki":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"n",(function(){return d})),n.d(t,"r",(function(){return p})),n.d(t,"p",(function(){return h})),n.d(t,"m",(function(){return b})),n.d(t,"j",(function(){return m})),n.d(t,"o",(function(){return y})),n.d(t,"q",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return O})),n.d(t,"s",(function(){return _}));var r="CHANGE_CAPTCHA_PLAY_STATUS",o="LOAD_CAPTCHA",i="GET_IMAGE_CAPTCHA_SUCCESS",a="GET_AUDIO_CAPTCHA",c="GET_AUDIO_CAPTCHA_SUCCESS",u="GET_AUDIO_CAPTCHA_FAIL",s="CHANGE_CAPTCHA_TYPE",l="CLEAR_CAPTCHA_PROPS",f="SET_CAPTCHA_TRACK";function d(e){return{type:u,error:e}}function p(){return{type:o}}function h(e){return{type:"GET_CAPTCHA_FAIL",error:e}}function b(){return{type:a}}function m(e){return{type:r,playing:e}}function y(e,t,n){var r={type:c,key:e,captchaSound:n};return t&&(r.introSound=t),r}function g(e,t){return{type:i,key:e,imageUrl:t}}function v(){return{type:s}}function O(){return{type:l}}function _(e){return{type:f,trackId:e}}},"FaNY9EA1Q+zuhiE5i9Jx":function(e,t,n){},"Fn7+V6hxl/X4CMIY2TgQ":function(e,t,n){},"GMNkzy/zbaSBYdP6Cvxp":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n("WE2RsoBXx7uBcYbdhL/w"),o=n("8SCZFIl/r0BKJR1Q9GmD"),i=n.n(o),a=(n("MJovFwNIrFAmLe5Xoo3c"),n("2XiBpSUPIXqJnJWBL+lj")),c=n.n(a),u=n("LzmKygd9FPlNlMcSJp0Y"),s=n("H/GWyicROAQnHKbtN2vf"),l=n("xTYMmTVCxHhb8U90Af7w"),f=n("NH34m/YMyHs61nOqvuoz"),d=n("W3MgEIO55ELSFhldjoS/"),p=n("XbqLvwu4QlUqfJQqjw3N"),h=n("dVdlchGuZyN639S0A3so"),b=n("F+XoypME10tU70Tu7EYE");function m(e){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=E(e);if(t){var o=E(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return O(this,n)}}function O(e,t){return!t||"object"!==m(t)&&"function"!=typeof t?_(e):t}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=Object(u.cn)("AuthSocialBlock"),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(a,e);var t,n,r,o=v(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),w(_(t=o.call(this,e)),"secondaryButtonRef",i.a.createRef()),w(_(t),"changePromoTooltipPosition",(function(){var e=document.querySelector(".passp-social-block__list-item-yandex"),t=document.getElementById("qr-promo-tooltip");if(e&&t){var n=e.getBoundingClientRect();t.style.top="".concat(n.top-10,"px"),t.style.left="".concat(n.left-195,"px"),t.style.opacity="1"}})),w(_(t),"showFullList",(function(e){e.stopPropagation(),t.setState({isShowFullList:!0}),setTimeout((function(){var e=document.querySelectorAll(".passp-social-block__list-item-secondary");e.length&&e[0].focus()}),300)})),w(_(t),"authSocial",(function(e){var n=t.props,r=n.dispatch,o=n.socialScope,i=e.code,a=e.name;"yandex"!==i?(d.a.send([f.rc,f.Dc,a||i]),r(Object(s.a)({provider:i,scope:o&&o[i]}))):r(Object(l.a)(!0))})),w(_(t),"auth",(function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.props.dispatch,o=n.code;if(e.preventDefault(),t.hideSecondaryProviders(),["qr","yandex"].includes(o))return r(Object(l.a)("yandex"===o));t.authSocial(n)})),w(_(t),"showSecondaryProviders",(function(){return t.setState({showSecondaryProviders:!0})})),w(_(t),"hideSecondaryProviders",(function(){return t.setState({showSecondaryProviders:!1})})),w(_(t),"renderButtonContent",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.props,r=n.language,o=n.isIconColored,a=e.code,c=e.display_name,u=c[r]||c.default;return"qr"===a?i.a.createElement(i.a.Fragment,null,i.a.createElement("span",{className:S("icon",{withHover:!o})}),i.a.createElement("span",{className:S("name",{withHover:!o})},u)):i.a.createElement(h.a,{size:"s",type:e.code,withHover:!o})})),w(_(t),"renderProviders",(function(){var e=t.state.showSecondaryProviders,n=t.props,r=n.providers,o=void 0===r?{}:r,a=n.isRegister,c=n.language,u=o.primary,s=void 0===u?[]:u,l=o.secondary,f=void 0===l?[]:l,d=a?"Регистрация через соцсеть:":"Войти с помощью";return i.a.createElement("div",{className:S()},i.a.createElement("h3",{className:S("title")},d),i.a.createElement("div",{className:S("providers")},s.map((function(e){var n=e.id,r=e.data;return i.a.createElement("button",{type:"button",key:n,onClick:function(e){return t.auth(e,r)},className:S("provider",{code:r.code}),"data-t":"provider:primary:".concat(r.code)},t.renderButtonContent(r))})),Boolean(f.length)&&i.a.createElement(i.a.Fragment,null,i.a.createElement("button",{type:"button",className:S("provider"),ref:t.secondaryButtonRef,onClick:t.showSecondaryProviders,"data-t":"provider:more"},i.a.createElement(h.a,{size:"s",type:"dots",withHover:!0})),i.a.createElement(b.a,{target:"anchor",dataT:"provider:secondary:popup",visible:e,anchor:t.secondaryButtonRef,ignoreRefs:[t.secondaryButtonRef],directions:["top-center","left-center"],onOutsideClick:t.hideSecondaryProviders,onEscapeKeyDown:t.hideSecondaryProviders},i.a.createElement("div",{className:S("secondaryProviders")},f.map((function(e){var n=e.id,r=e.data,o=void 0===r?{}:r,a=o.code,u=o.display_name,s=void 0===u?{}:u,l=s[c]||s.default;return i.a.createElement("button",{key:n,type:"button",onClick:function(e){return t.auth(e,o)},className:S("secondaryProvider"),"data-t":"provider:secondary:".concat(a)},i.a.createElement(h.a,{size:"s",type:a}),i.a.createElement("span",{className:S("secondaryProviderName")},l))})))))))})),t.state={isShowFullList:Boolean(e.socialExtended),showSecondaryProviders:!1},t}return t=a,r=[{key:"handleEnterKey",value:function(e){13===e.keyCode&&(e.stopPropagation(),e.target.click())}},{key:"getSocialItemClass",value:function(e){return"passp-social-block__list-item passp-social-block__list-item-".concat(e.code)}},{key:"getSocialItemIconClass",value:function(e){return"passp-social-block__list-item-icon passp-social-block__list-item-icon_".concat(e.code)}}],(n=[{key:"componentDidMount",value:function(){var e=this;this.props.isShowQRAuthPromoTooltip&&(Object(p.a)(),this.promoTimer=setTimeout((function(){e.changePromoTooltipPosition()}),600),$(window).on("resize",this.changePromoTooltipPosition))}},{key:"componentDidUpdate",value:function(e){if("addingAccount"===e.mode&&"addingAccount"!==this.props.mode){var t=document.getElementById("qr-promo-tooltip");this.promoTimer&&clearTimeout(this.promoTimer),t&&(t.style.display="none",t.style.opacity="0",t.style.display="block")}}},{key:"componentWillUnmount",value:function(){this.props.isShowQRAuthPromoTooltip&&$(window).off("resize",this.changePromoTooltipPosition)}},{key:"render",value:function(){var e=this.props,t=(e.socialProviders,e.minimal),n=e.intranet;e.isQRPromoEnabled,e.isRegister;return this.state.isShowFullList,t||n?null:this.renderProviders()}}])&&y(t.prototype,n),r&&y(t,r),a}(o.Component);j.defaultProps={minimal:!1,intranet:!1,isRegister:!1},j.propTypes={socialProviders:c.a.array.isRequired,mode:c.a.string,isIconColored:c.a.bool,minimal:c.a.bool.isRequired,intranet:c.a.bool.isRequired,isQRPromoEnabled:c.a.bool,socialScope:c.a.object,socialExtended:c.a.bool,dispatch:c.a.func.isRequired,isShowQRAuthPromoTooltip:c.a.bool,isRegister:c.a.bool,language:c.a.string.isRequired,providers:c.a.shape({primary:c.a.array,secondary:c.a.array})};var C=n("icG+8Jgv+BJiTL/fPTrX"),R=Object(r.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.isRegister,r=e.social,o=void 0===r?{}:r,i=e.customs,a=i.socialScope,c=i.socialExtended,u=i.minimal,s=e.settings,l=s.intranet,f=s.ua,d=e.auth,p=d.isQRPromo1Enabled,h=d.isQRAuthPromoShowed,b=d.mode,m=Boolean(f&&f.isTouch),y=p&&!m,g=y&&!h,v={yandex:0,vk:10,fb:20,gg:30,qr:35,mr:40,ok:50,tw:60,sberbank:70},O={primary:[],secondary:[]},_=o.providers.slice();return n||_.push({id:"qr",enabled:!0,data:{code:"qr",display_name:{default:"QR-код"}}}),y&&_.push({id:"yandex",enabled:!0,data:{code:"yandex"}}),(_=_.slice().filter((function(e){return e.enabled})).sort((function(e,t){return v[e.data.code]>v[t.data.code]?1:-1}))).length>5?(O.primary=_.slice(0,4),O.secondary=_.slice(4)):O.primary=_,{socialProviders:_,socialScope:a,socialExtended:c,minimal:u,intranet:l,isQRPromoEnabled:y,isShowQRAuthPromoTooltip:g,mode:b,providers:O,language:Object(C.d)(e),isIconColored:Object(C.j)(e,"domik-new-design-soccolor")}}))(j)},GWbkqWWFGcC2wNwmmBsB:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("OWyp9q5IAHy11NTyZQSA"),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("qyhOylcYgz7sofzu7jFu");function c(){return function(e,t){var n=t(),c=n.common,u=c.authLiteRegisterUrl,s=c.addUserUrl;"registerLite"!==n.auth.mode&&(e(Object(i.xb)(s)),e(Object(a.w)(u)),e({type:o.m}),e(Object(r.d)(u)))}}},"H/GWyicROAQnHKbtN2vf":function(e,t,n){"use strict";var r=n("RtoYEtkbxQ+mibaABznE"),o=n("icG+8Jgv+BJiTL/fPTrX");t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t,n){var i=n(),a=e.provider,c=e.scope,u={track_id:Object(o.h)(i,"register")||Object(o.h)(i,"common"),provider:a};c&&(u.scope=c),r.a.start(u)}}},HCh9QDVsWegi5iXbsZm1:function(e,t,n){},Hotb6bLBAZw9GrEYBPZD:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i}));var r="browser",o="with-suggest-to-restore-by-phone-in-da-house",i="neophonish-in-da-house"},IWyIY6v871rrx6jPCZuR:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("FUZ6AA4Oce8/2wMDn7Ki");function o(){return function(e,t){var n=t().captcha,o=n.introSound,i=n.captchaSound;o&&"function"==typeof o.stop&&o.stop(),i&&"function"==typeof i.stop&&i.stop(),e(Object(r.j)(!1))}}},J7C7XAMkEIo5oQEMIdIT:function(e,t,n){},JLFc6U7sd0PMI6Bh60mb:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r={FIRSTNAME:"firstname",LASTNAME:"lastname",PHONE:"phone",PHONE_CODE:"phoneCode",LOGIN:"login",PASSWORD:"password",PASSWORD_CONFIRM:"password_confirm",EULA_ACCEPTED:"eula_accepted",CAPTCHA:"captcha"},o="passp-field-"},JR0gMBnH1G7ZT7pBXXBz:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"d",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return s}));var r="CHANGE_SIGN_UP_STEP",o="SET_SUGGEST_TO_RESTORE_ACCOUNTS",i="SET_REGISTER_MODE",a="CLEAR_SIGN_UP_STATE",c=function(e){return function(t){return t({type:r,payload:{step:e}})}},u=function(e){return function(t){return t({type:o,payload:{suggestToRestore:e}})}},s=function(e){return function(t){return t({type:i,payload:{mode:e}})}}},"K61B9UQGqIkkrrd1rMF+":function(e,t,n){},"KLFLb2oMSurwp/8+w02t":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("ydZPC7TyT/oWuKl40gC/");var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("LzmKygd9FPlNlMcSJp0Y"),u=n("eidTN+99QhledymTSSqQ"),s=Object(c.cn)("DomikFooterLink"),l=function(e){var t=e.href,n=e.onClick,r=e.target,i=void 0===r?"_self":r,a=e.children;return o.a.createElement("div",{className:s()},o.a.createElement(u.a,{dataT:"footer-link",weight:"medium",href:t,onClick:n,target:i},a))};l.propTypes={href:a.a.string,onClick:a.a.func,target:a.a.string,children:a.a.node}},Kgh9kKUzqRPXqIsdiAKz:function(e,t,n){"use strict";var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("WE2RsoBXx7uBcYbdhL/w"),a=n("ZDmX7r9YifVbosUR2qgY"),c=n("2XiBpSUPIXqJnJWBL+lj"),u=n.n(c),s=n("BiY5T7IoWQd4oP5CD4Ck"),l=n("qyhOylcYgz7sofzu7jFu"),f=n("NH34m/YMyHs61nOqvuoz"),d=n("KLFLb2oMSurwp/8+w02t"),p=n("LzmKygd9FPlNlMcSJp0Y"),h=n("68NuQ+EiIUXPlOiVfC2r"),b=n.n(h);var m=n("W3MgEIO55ELSFhldjoS/");function y(e){var t=e.embeddedAuthUrl,n=e.yu,r=e.retpath,o=e.uid,i=e.action,a=e.origin,c=e.login;return-1!==["logout","change_default"].indexOf(i)?"".concat(t)+"&yu=".concat(encodeURIComponent(n))+"&action=".concat(encodeURIComponent(i))+"&uid=".concat(encodeURIComponent(o))+"&retpath=".concat(encodeURIComponent(r))+"&origin=".concat(encodeURIComponent(a)):-1!==["switchTo"].indexOf(i)?"/auth/welcome?uid=".concat(encodeURIComponent(o))+"&retpath=".concat(encodeURIComponent(r))+"&origin=".concat(encodeURIComponent(a)):-1!==["login"].indexOf(i)?"/auth/add?login=".concat(encodeURIComponent(c))+"&retpath=".concat(encodeURIComponent(r))+"&origin=".concat(encodeURIComponent(a)):-1!==["retpath"].indexOf(i)?"".concat(r):""}var g=n("gW+kGIULm/gsAM1O/w51"),v=n("Klei4Eri2QeyVHHta7RA");var O=n("iCK235f/imKRe7hxV26u");n("jLP40wHXQMMlQkpmPsEN");var _=n("dVdlchGuZyN639S0A3so"),E=Object(p.cn)("ContextMenuButton"),w=function(e){var t=e.showContextMenu,n=e.uid,r=e.type,i=o.a.createRef();return o.a.createElement("button",{className:E(),"data-t":"account-list-item-menu",ref:i,onClick:function(){return t({uid:n,type:r,anchor:i})}},o.a.createElement(_.a,{type:"dots",size:"s",withHover:!0,fillParent:!0}))};w.propTypes={uid:u.a.string.isRequired,showContextMenu:u.a.func.isRequired,type:u.a.oneOf(["forget","logout"])};var S={showContextMenu:function(e){var t=e.uid,n=e.type,r=e.anchor;return function(e){e(Object(s.wb)(t)),e(Object(s.pb)(r)),e(Object(s.qb)(n)),e(Object(s.Ib)(!0))}}},j=Object(i.c)(null,S)(w);function C(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var R=Object(p.cn)("AuthAccountListItem"),k=function(e){var t,n=function(e){var t=e.account,n=e.avatarSettings,r=e.logoutUrl,o=e.isAuthorized,i=e.isDefault,a=e.isTouch,c=e.fallbackUrl,u=e.onClick,s=e.onCrossClick,l=e.showMobileMenu,f=e.isSuggested,d=t.avatarId,p=t.login,h=t.displayName,b=t.hasSocial,m=t.mail,y=t.defaultEmail,g=t.socialProvider,v=t.uid,_=n.host,E=n.pathname,w=r?{url:r}:{pseudo:!0};return{fallbackUrl:c,socialProvider:g,avatarStyle:{backgroundImage:'url("https://'.concat(_).concat(E.replace("%uid%",d).replace("%size%","200").replace("%login%",p),'")')},displayName:h,displayLogin:b?O.a[g]:m||y||"",logoutUrlAttribute:w,isDefault:i,isTouch:a,isAuthorized:o,hasSocial:b,onClick:u,onCrossClick:s,showMobileMenu:l,uid:v,isSuggested:f}}(e),r=n.fallbackUrl,i=n.socialProvider,a=n.avatarStyle,c=n.displayName,u=n.displayLogin,s=(n.logoutUrlAttribute,n.isDefault),l=(n.isTouch,n.isAuthorized,n.hasSocial),f=n.onClick,d=(n.onCrossClick,n.showMobileMenu,n.uid),p=n.isSuggested;return o.a.createElement("div",{className:R("block",{v5:!0}),"data-t":"account-list-item"},o.a.createElement("a",{href:r||"#",onClick:f,"data-t":"account-list-item-info",className:R((t={default:s,socialMethod:!s&&l,withoutLogin:!u},C(t,"socialMethod_".concat(i),!s&&l),C(t,"v5",!0),t))},o.a.createElement("div",{className:R("inner",{v5:!0})},o.a.createElement("span",{className:R("avatar",{v5:!0}),style:a}),o.a.createElement("span",{className:R("displayName",{v5:!0})},c),u&&o.a.createElement("span",{className:R("login",{v5:!0})},u))),o.a.createElement(j,{uid:d,type:p?"forget":"logout"}))};function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function A(e,t){return(A=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function N(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=x(e);if(t){var o=x(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return L(this,n)}}function L(e,t){return!t||"object"!==P(t)&&"function"!=typeof t?M(e):t}function M(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}k.propTypes={account:u.a.shape({avatarId:u.a.string.isRequired,displayName:u.a.string.isRequired,login:u.a.string.isRequired,hasSocial:u.a.bool,mail:u.a.string,socialProvider:u.a.string}).isRequired,avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,isAuthorized:u.a.bool.isRequired,isDefault:u.a.bool.isRequired,isSuggested:u.a.bool,isTouch:u.a.bool.isRequired,logoutUrl:u.a.string,fallbackUrl:u.a.string,onClick:u.a.func.isRequired,onCrossClick:u.a.func.isRequired,showMobileMenu:u.a.func.isRequired};var I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&A(e,t)}(a,e);var t,n,r,i=N(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleClick=t.handleClick.bind(M(t)),t.handleCrossClick=t.handleCrossClick.bind(M(t)),t.showMobileMenu=t.showMobileMenu.bind(M(t)),t}return t=a,(n=[{key:"handleClick",value:function(e){var t=this.props.redirectToRetpath;e.preventDefault(),t()}},{key:"handleCrossClick",value:function(e){var t=this.props,n=t.account,r=t.logoutAccount;e.preventDefault(),r(n.uid),m.a.send([f.Ac,f.N])}},{key:"showMobileMenu",value:function(e){var t=this.props,n=t.account,r=t.changeMobileMenuVisibility,o=t.changeMobileMenuType,i=t.setProccessedAccountUid;e.preventDefault(),o("logout"),i(n.uid),r(!0)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,r=e.isTouch,i=e.logoutUrl,a=e.fallbackUrl;return t?o.a.createElement(k,{account:t,avatarSettings:n,logoutUrl:i,fallbackUrl:a,onClick:this.handleClick,onCrossClick:this.handleCrossClick,showMobileMenu:this.showMobileMenu,isAuthorized:!0,isDefault:!0,isTouch:r}):null}}])&&T(t.prototype,n),r&&T(t,r),a}(r.Component);I.propTypes={isTouch:u.a.bool.isRequired,avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,logoutUrl:u.a.string.isRequired,fallbackUrl:u.a.string.isRequired,redirectToRetpath:u.a.func.isRequired,logoutAccount:u.a.func.isRequired,changeMobileMenuVisibility:u.a.func.isRequired,changeMobileMenuType:u.a.func.isRequired,setProccessedAccountUid:u.a.func.isRequired,account:u.a.shape({uid:u.a.string})};var D=Object(i.c)((function(e,t){var n=e.settings,r=n.avatar,o=n.ua,i=e.common,a=i.embeddedauth_url,c=i.retpath,u=i.origin,s=i.yu,l=t.account.uid,f=y({action:"logout",embeddedAuthUrl:a,retpath:c,yu:s,origin:u,uid:l}),d=y({action:"retpath",embeddedAuthUrl:a,retpath:c,yu:s,origin:u,uid:l});return{isTouch:o&&o.isTouch,avatarSettings:r,logoutUrl:f,fallbackUrl:d}}),(function(e){var t={redirectToRetpath:g.a,logoutAccount:v.a,changeMobileMenuVisibility:s.W,changeMobileMenuType:s.V,setProccessedAccountUid:s.wb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}))(I);var q=n("Cn0bb7dlXdz9iLHfBkZ3"),U=n("mNaMim9b+xb4df3rV6hq");function B(e){return function(t,n){var r=n().common,o=r.profile_url,i=r.csrf,a=r.yu,c={csrf_token:i,retpath:r.retpath||o,uid:e,yu:a};t(Object(s.bb)(!0)),q.a.request("auth/change_default",c).done((function(){t(Object(U.a)(!0)),t(Object(g.a)())})).fail((function(){t(Object(U.a)()),t(Object(s.bb)(!1))}))}}function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return V(this,n)}}function V(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?G(e):t}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(a,e);var t,n,r,i=z(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleClick=t.handleClick.bind(G(t)),t.handleCrossClick=t.handleCrossClick.bind(G(t)),t.showMobileMenu=t.showMobileMenu.bind(G(t)),t}return t=a,(n=[{key:"handleClick",value:function(e){var t=this.props,n=t.account,r=t.changeActiveAccount;e.preventDefault(),r(n.uid)}},{key:"handleCrossClick",value:function(e){var t=this.props,n=t.account,r=t.logoutAccount;e.preventDefault(),r(n.uid),m.a.send([f.Ac,f.N])}},{key:"showMobileMenu",value:function(e){var t=this.props,n=t.account,r=t.changeMobileMenuVisibility,o=t.changeMobileMenuType,i=t.setProccessedAccountUid;e.preventDefault(),o("logout"),i(n.uid),r(!0)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,r=e.isTouch,i=e.logoutUrl,a=e.fallbackUrl;return t?o.a.createElement(k,{account:t,avatarSettings:n,logoutUrl:i,fallbackUrl:a,onClick:this.handleClick,onCrossClick:this.handleCrossClick,showMobileMenu:this.showMobileMenu,isAuthorized:!0,isDefault:!1,isTouch:r}):null}}])&&H(t.prototype,n),r&&H(t,r),a}(r.Component);X.propTypes={isTouch:u.a.bool.isRequired,avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,logoutUrl:u.a.string.isRequired,fallbackUrl:u.a.string.isRequired,logoutAccount:u.a.func.isRequired,changeActiveAccount:u.a.func.isRequired,changeMobileMenuVisibility:u.a.func.isRequired,changeMobileMenuType:u.a.func.isRequired,setProccessedAccountUid:u.a.func.isRequired,account:u.a.shape({uid:u.a.string})};var Q=Object(i.c)((function(e,t){var n=e.settings,r=n.avatar,o=n.ua,i=e.common,a=i.embeddedauth_url,c=i.retpath,u=i.origin,s=i.yu,l=t.account.uid,f=y({action:"logout",embeddedAuthUrl:a,retpath:c,yu:s,origin:u,uid:l}),d=y({action:"change_default",embeddedAuthUrl:a,retpath:c,yu:s,origin:u,uid:l});return{isTouch:o&&o.isTouch,avatarSettings:r,logoutUrl:f,fallbackUrl:d}}),(function(e){var t={logoutAccount:v.a,changeActiveAccount:B,changeMobileMenuVisibility:s.W,changeMobileMenuType:s.V,setProccessedAccountUid:s.wb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}))(X);var K=n("WJOEWUhuaqB4LU1CIwDt"),J=n("VXLs6oAydZN+d2v1fSYl");function Z(e){return function(t,n){var r=n().common.csrf,o=e.uid,i=e.status,a=e.login,c=e.preferred_auth_method,u=e.allowed_auth_methods;if("INVALID"===i)return t(Object(s.bb)(!1)),t(Object(s.gb)(e)),void t(Object(K.a)({login:a}));var l={_uid:o,csrf_token:r};t(Object(s.bb)(!0)),q.a.request("accounts/input-login",l).done((function(e){var n={};e&&e.input_login&&(n[o]=e&&e.input_login,t(Object(s.fb)(n)))})).always((function(){t(Object(s.bb)(!1)),t(Object(s.gb)(e));var n=(c||"").indexOf("social_")>-1,r=(u||[]).some((function(e){return["password","magic_link","magic","magic_x_token","rfc_totp","otp","sms_code"].includes(e)}));if(n&&!r)return t(Object(s.Z)(e)),t(Object(s.Lb)(a)),void t(Object(J.a)());t(Object(K.a)({login:a}))}))}}var $=n("0oyOWcuJvUtljU+ijXVz");function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ce=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(a,e);var t,n,r,i=re(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleClick=t.handleClick.bind(ie(t)),t.handleCrossClick=t.handleCrossClick.bind(ie(t)),t.showMobileMenu=t.showMobileMenu.bind(ie(t)),t}return t=a,(n=[{key:"handleClick",value:function(e){var t=this.props,n=t.account,r=t.editUrl,o=t.loginSuggestedAccount,i=t.domikIsLoading,a=t.setupBackPane;e.preventDefault(),i(!0),a(r),o(n)}},{key:"handleCrossClick",value:function(e){var t=this.props,n=t.account,r=t.forgetAccount;e.preventDefault(),r(n.uid),m.a.send([f.Ac,f.M])}},{key:"showMobileMenu",value:function(e){var t=this.props,n=t.account,r=t.changeMobileMenuVisibility,o=t.changeMobileMenuType,i=t.setProccessedAccountUid;e.preventDefault(),o("forget"),i(n.uid),r(!0)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,r=e.fallbackUrl,i=e.isTouch;return t?o.a.createElement(k,{account:t,avatarSettings:n,fallbackUrl:r,onClick:this.handleClick,onCrossClick:this.handleCrossClick,showMobileMenu:this.showMobileMenu,isAuthorized:!1,isDefault:!1,isSuggested:!0,isTouch:i}):null}}])&&te(t.prototype,n),r&&te(t,r),a}(r.Component);ce.propTypes={isTouch:u.a.bool.isRequired,avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,editUrl:u.a.string.isRequired,fallbackUrl:u.a.string.isRequired,loginSuggestedAccount:u.a.func.isRequired,forgetAccount:u.a.func.isRequired,domikIsLoading:u.a.func.isRequired,setupBackPane:u.a.func.isRequired,changeMobileMenuVisibility:u.a.func.isRequired,changeMobileMenuType:u.a.func.isRequired,setProccessedAccountUid:u.a.func.isRequired,account:u.a.shape({uid:u.a.string}).isRequired};var ue=Object(i.c)((function(e,t){var n=e.settings,r=n.avatar,o=n.ua,i=e.common,a=i.embeddedauth_url,c=i.retpath,u=i.yu,s=i.origin,l=i.editUrl,f=y({action:"switchTo",embeddedAuthUrl:a,retpath:c,yu:u,origin:s,uid:t.account.uid});return{isTouch:o&&o.isTouch,fallbackUrl:f,avatarSettings:r,editUrl:l}}),(function(e){var t={loginSuggestedAccount:Z,forgetAccount:$.a,domikIsLoading:s.bb,setupBackPane:s.xb,changeMobileMenuVisibility:s.W,changeMobileMenuType:s.V,setProccessedAccountUid:s.wb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}))(ce);function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function fe(e,t){return(fe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=be(e);if(t){var o=be(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==se(t)&&"function"!=typeof t?he(e):t}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function be(e){return(be=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&fe(e,t)}(a,e);var t,n,r,i=de(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).handleClick=t.handleClick.bind(he(t)),t.handleCrossClick=t.handleCrossClick.bind(he(t)),t.showMobileMenu=t.showMobileMenu.bind(he(t)),t}return t=a,(n=[{key:"handleClick",value:function(e){var t=this.props,n=t.account,r=t.editUrl,o=t.loginSuggestedAccount,i=t.domikIsLoading,a=t.setupBackPane;e.preventDefault(),i(!0),a(r),o(n)}},{key:"handleCrossClick",value:function(e){var t=this.props,n=t.account,r=t.logoutAccount;e.preventDefault(),r(n.uid),m.a.send([f.Ac,f.N])}},{key:"showMobileMenu",value:function(e){var t=this.props,n=t.account,r=t.changeMobileMenuVisibility,o=t.changeMobileMenuType,i=t.setProccessedAccountUid;e.preventDefault(),o("logout"),i(n.uid),r(!0)}},{key:"render",value:function(){var e=this.props,t=e.account,n=e.avatarSettings,r=e.isTouch,i=e.fallbackUrl;return t?o.a.createElement(k,{account:t,avatarSettings:n,fallbackUrl:i,onClick:this.handleClick,onCrossClick:this.handleCrossClick,showMobileMenu:this.showMobileMenu,isAuthorized:!1,isDefault:!1,isTouch:r}):null}}])&&le(t.prototype,n),r&&le(t,r),a}(r.Component);me.propTypes={isTouch:u.a.bool.isRequired,avatarSettings:u.a.shape({host:u.a.string.isRequired,pathname:u.a.string.isRequired}).isRequired,editUrl:u.a.string.isRequired,fallbackUrl:u.a.string.isRequired,logoutAccount:u.a.func.isRequired,loginSuggestedAccount:u.a.func.isRequired,domikIsLoading:u.a.func.isRequired,setupBackPane:u.a.func.isRequired,changeMobileMenuVisibility:u.a.func.isRequired,changeMobileMenuType:u.a.func.isRequired,setProccessedAccountUid:u.a.func.isRequired,account:u.a.shape({uid:u.a.string}).isRequired};var ye=Object(i.c)((function(e,t){var n=e.settings,r=n.avatar,o=n.ua,i=e.common,a=i.embeddedauth_url,c=i.retpath,u=i.yu,s=i.origin,l=i.editUrl,f=t.account,d=y({action:"login",embeddedAuthUrl:a,retpath:c,yu:u,uid:f.uid,origin:s,login:f.login});return{isTouch:o&&o.isTouch,avatarSettings:r,fallbackUrl:d,editUrl:l}}),(function(e){var t={logoutAccount:v.a,loginSuggestedAccount:Z,domikIsLoading:s.bb,setupBackPane:s.xb,changeMobileMenuVisibility:s.W,changeMobileMenuType:s.V,setProccessedAccountUid:s.wb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}))(me),ge=(n("ZAKFCWeP3Zhpl58Q1j+x"),n("buqWOCdf14bbF2aD2r0s")),ve=n("yi2HOavEOLsMrMN95lAZ");function Oe(e){return(Oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t){return(Ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ce(e);if(t){var o=Ce(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Se(this,n)}}function Se(e,t){return!t||"object"!==Oe(t)&&"function"!=typeof t?je(e):t}function je(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Ce(e){return(Ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Re=Object(p.cn)("AddAccountButton"),ke=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ee(e,t)}(c,e);var t,n,r,i=we(c);function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=i.call(this,e)).handleClick=t.handleClick.bind(je(t)),t}return t=c,r=[{key:"mapStateToProps",value:function(e){return{addUserUrl:e.common.addUserUrl}}},{key:"mapDispatchToProps",value:function(e){var t={switchToModeAddingAccount:ge.a,updateLoginValue:s.Lb,setLoginError:s.sb,changeNativeInputValue:ve.a};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}}],(n=[{key:"handleClick",value:function(e){var t=this.props,n=t.switchToModeAddingAccount,r=t.updateLoginValue,o=t.setLoginError,i=t.changeNativeInputValue;e.preventDefault(),r(""),i("login",""),o(null),n()}},{key:"render",value:function(){var e=this.props.addUserUrl;return o.a.createElement("div",{className:Re("wrapper",{v5:!0})},o.a.createElement("a",{href:e,onClick:this.handleClick,className:Re({v5:!0}),"data-t":"account-list-item-add"},o.a.createElement("span",{className:Re("icon",{v5:!0})},o.a.createElement("span",{className:Re("iconHelpers",{v5:!0})},o.a.createElement("span",{className:Re("iconHelper1")}),o.a.createElement("span",{className:Re("iconHelper2")}))),o.a.createElement("span",{className:Re("text",{v5:!0})},"Войти в другой аккаунт")))}}])&&_e(t.prototype,n),r&&_e(t,r),c}(r.Component);ke.propTypes={switchToModeAddingAccount:u.a.func.isRequired,updateLoginValue:u.a.func.isRequired,changeNativeInputValue:u.a.func.isRequired,setLoginError:u.a.func.isRequired,addUserUrl:u.a.string.isRequired};var Pe=Object(i.c)(ke.mapStateToProps,ke.mapDispatchToProps)(ke),Te=(n("Lv2ot8+DuJtJKmZGmTM/"),n("F+XoypME10tU70Tu7EYE"));function Ae(e){return(Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ne(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=qe(e);if(t){var o=qe(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ie(this,n)}}function Ie(e,t){return!t||"object"!==Ae(t)&&"function"!=typeof t?De(e):t}function De(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Be=Object(p.cn)("ContextMenu"),Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Me(e,t)}(a,e);var t,n,r,i=xe(a);function a(){var e;Ne(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ue(De(e=i.call.apply(i,[this].concat(n))),"logout",(function(t){t.preventDefault();var n=e.props,r=n.uid;(0,n.logoutAccount)(r),m.a.send([f.Ac,f.N])})),Ue(De(e),"logoutAndForget",(function(t){t.preventDefault();var n=e.props,r=n.uid;(0,n.logoutAndForget)(r),m.a.send([f.Ac,f.M])})),Ue(De(e),"forget",(function(t){t.preventDefault();var n=e.props,r=n.uid;(0,n.forgetAccount)(r),m.a.send([f.Ac,f.M])})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.visible,r=e.clearContextMenuState,i=e.isMobile,a=e.type;return o.a.createElement(Te.a,{target:"anchor",visible:n,anchor:t,directions:["bottom-center","left-center"],onOutsideClick:r,onEscapeKeyDown:r,onClick:r,ignoreRefs:[t],mode:i?"blind":"",mainOffset:i?0:-10,dataT:"context-menu"},o.a.createElement("div",{className:Be()},"logout"===a&&o.a.createElement(o.a.Fragment,null,o.a.createElement("button",{className:Be("button"),onClick:this.logout},o.a.createElement(_.a,{type:"exit",size:"s"}),o.a.createElement("span",{className:Be("buttonName")},"Выйти из аккаунта")),o.a.createElement("button",{className:Be("button"),onClick:this.logoutAndForget},o.a.createElement(_.a,{type:"trash",size:"s"}),o.a.createElement("span",{className:Be("buttonName")},"Выйти и удалить из списка"))),"forget"===a&&o.a.createElement("button",{className:Be("button"),onClick:this.forget},o.a.createElement(_.a,{type:"trash",size:"s"}),o.a.createElement("span",{className:Be("buttonName")},"Удалить из списка"))))}}])&&Le(t.prototype,n),r&&Le(t,r),a}(o.a.PureComponent);Fe.propTypes={uid:u.a.string.isRequired,anchor:u.a.object,visible:u.a.bool.isRequired,isMobile:u.a.bool.isRequired,clearContextMenuState:u.a.func.isRequired,logoutAccount:u.a.func.isRequired,logoutAndForget:u.a.func.isRequired,forgetAccount:u.a.func.isRequired,type:u.a.oneOf(["forget","logout"]).isRequired};var He=n("XSW/Ws0GfcHP1epopRkN"),We=n("icG+8Jgv+BJiTL/fPTrX");function ze(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ze(Object(n),!0).forEach((function(t){Ge(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ze(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye={clearContextMenuState:s.ab,logoutAccount:v.a,logoutAndForget:He.a,forgetAccount:$.a},Xe=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.contextMenu,n=void 0===t?{}:t;return Ve(Ve({},n),{},{isMobile:Object(We.l)(e)})}),Ye)(Fe),Qe=Object(p.cn)("AuthAccountList"),Ke=function(e){var t=e.authorizedAccounts,n=e.defaultAccount,r=e.hasUnauthorizedAccounts,i=e.suggestedAccounts,a=e.invalidAccounts,c=e.isSessionOverflow;return o.a.createElement("div",{className:Qe({v5:!0}),"data-t":"account"},o.a.createElement("ul",{"data-t":"account-list",className:Qe("items",{v5:!0})},n&&o.a.createElement("li",{className:Qe("itemBlock"),"data-t":"account-list-item-box"},o.a.createElement(D,{key:n.uid,account:n})),t.filter((function(e){return!n||e.uid!==n.uid})).map((function(e,t){return o.a.createElement("li",{className:Qe("itemBlock"),key:"account-".concat(t),"data-t":"account-list-item-box"},o.a.createElement(Q,{key:e.uid,account:e}))}))),r&&o.a.createElement(o.a.Fragment,null,o.a.createElement("h3",{className:Qe("unathorizedAccountsTitle",{v5:!0})},"Вы вышли из аккаунтов:"),o.a.createElement("ul",{"data-t":"unathorized-account-list",className:Qe("items",{v5:!0})},i.map((function(e,t){return o.a.createElement("li",{className:Qe("itemBlock"),key:"suggestedAccount-".concat(t),"data-t":"account-list-item-box"},o.a.createElement(ue,{key:e.uid,account:e}))})),a.map((function(e,t){return o.a.createElement("li",{className:Qe("itemBlock"),key:"invalidAccount-".concat(t),"data-t":"account-list-item-box"},o.a.createElement(ye,{key:e.uid,account:e}))})))),!c&&o.a.createElement(Pe,null),o.a.createElement(Xe,null))};Ke.propTypes={authorizedAccounts:u.a.array.isRequired,defaultAccount:u.a.object,suggestedAccounts:u.a.array.isRequired,invalidAccounts:u.a.array.isRequired,hasUnauthorizedAccounts:u.a.bool.isRequired,isSessionOverflow:u.a.bool.isRequired};var Je=Object(i.c)((function(e){var t=e.auth,n=t.unitedAccounts,r=t.authorizedAccountsDefaultUid,o=b()(n,(function(e){return"000000"!==e.uid})),i=b()(o,{status:"VALID"}),a=b()(i,(function(e){return e.uid===r}))[0],c=b()(o,(function(e){return"VALID"!==e.status})),u=b()(c,(function(e){return void 0!==e.allowed_auth_methods})),s=b()(c,(function(e){return void 0===e.allowed_auth_methods}));return{authorizedAccounts:i,defaultAccount:a,suggestedAccounts:u,invalidAccounts:s,hasUnauthorizedAccounts:Boolean(u.length||s.length),isSessionOverflow:Boolean(i.length>=15)}}))(Ke),Ze=n("ChNA47itMhrlI5HSOuk4"),$e=n("hbhwtfwpwcJBep3jxV99");function et(e){return(et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var o=ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return it(this,n)}}function it(e,t){return!t||"object"!==et(t)&&"function"!=typeof t?at(e):t}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ut(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var st=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(c,e);var t,n,r,i=ot(c);function c(){var e;tt(this,c);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut(at(e=i.call.apply(i,[this].concat(n))),"maybeRenderHelpLink",(function(){var t=e.props,n=t.origin,r=t.yandexSupportUrl;if("china"===n)return o.a.createElement(d.a,{target:"_blank",href:r},"Сообщить о проблеме")})),e}return t=c,r=[{key:"mapStateToProps",value:function(e){var t=e.common,n=void 0===t?{}:t;return{editUrl:n.editUrl,origin:n.origin,yandexSupportUrl:n.yandex_support_url}}},{key:"mapDispatchToProps",value:function(e){var t={setupBackPane:s.xb,setupPane:l.w,setupMode:s.yb};return Object.assign({},Object(a.b)(t,e),{dispatch:e})}}],(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.setupBackPane,n=e.setupMode,r=e.setupPane,o=e.editUrl;m.a.goal(f.Bc),m.a.send([f.Ac]),t(null),n("edit"),r(o)}},{key:"render",value:function(){return o.a.createElement(Ze.a,{cls:"list",dataT:"list"},o.a.createElement($e.a,null,"Выберите аккаунт для входа"),o.a.createElement(Je,null),this.maybeRenderHelpLink())}}])&&nt(t.prototype,n),r&&nt(t,r),c}(r.Component);st.propTypes={editUrl:u.a.string.isRequired,setupBackPane:u.a.func.isRequired,setupPane:u.a.func.isRequired,setupMode:u.a.func.isRequired,origin:u.a.string,yandexSupportUrl:u.a.string.isRequired};t.a=Object(i.c)(st.mapStateToProps,st.mapDispatchToProps)(st)},Klei4Eri2QeyVHHta7RA:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("mNaMim9b+xb4df3rV6hq");function a(e){return function(t,n){var a=n(),c=a.settings.ua,u=a.common,s=u.profile_url,l=u.csrf,f=u.yu,d=u.retpath,p=c&&c.isTouch,h={csrf_token:l,retpath:d||s,uid:e,yu:f};t(Object(o.bb)(!0)),r.a.request("auth/logout",h).done((function(){t(Object(i.a)()),p&&t(Object(o.W)(!1))})).fail((function(){t(Object(i.a)())})).always((function(){return t(Object(o.bb)(!1))}))}}},KpbzEoikajVFizljYyL8:function(e,t,n){},KqgSckgMJM5UoE4swPks:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("gW+kGIULm/gsAM1O/w51"),a=n("NoFeXeyUaLnlF3HDY2SY");function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"yes",t=arguments.length>1?arguments[1]:void 0;return function(n,c){var u=c(),s=u.additionalDataRequest,l=void 0===s?{}:s,f=u.common,d=(void 0===f?{}:f).csrf,p=l.track_id,h={track_id:t||p,csrf_token:d,user_declined:e};n(Object(a.n)()),r.a.request("auth/additional_data/freeze_v2",h).done((function(){n(Object(o.bb)(!1)),n(Object(i.a)())})).fail((function(){n(Object(o.bb)(!1)),n(Object(i.a)())}))}}},Li2QzpbfafaTtx4BlKWT:function(e,t,n){},"Lv2ot8+DuJtJKmZGmTM/":function(e,t,n){},"LvAKkSaD5rZFQyV2NQ+g":function(e,t,n){},MFtP080j7m19qICJtoK2:function(e,t,n){},"MXMQwgl0pPNdNuA+oSOb":function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n,r){"use strict";"object"===t(e)&&e.exports?e.exports=r():n.Metrika=r()}(this,(function(){return{inited:!1,counts:[],goals:[],counter:null,init:function(e,t,n,r){var o=this,i=!1,a=document.createElement("script"),c=document.getElementsByTagName("head")[0];if(!e)return this.clear();r&&(o.userType=r),n&&(o.version=n),a.type="text/javascript",a.onload=a.onreadystatechange=function(){if(!i&&(!this.readyState||"loaded"===this.readyState||"complete"===this.readyState)&&window.Ya&&Ya.Metrika){var n={id:e,clickmap:!0,trackLinks:!0,accurateTrackBounce:!0,webvisor:!0,trackHash:!0};i=!0,a.onload=a.onreadystatechange=null,c&&a.parentNode&&c.removeChild(a),t&&(n.experiments=t);try{o.counter=window["yaCounter"+e]=new Ya.Metrika(n)}catch(e){return o.clear()}for(o.inited=!0;o.counts.length;)o.count.apply(o,o.counts.shift());for(;o.goals.length;)o.reachGoal.apply(o,o.goals.shift())}},a.src="https://mc.yandex.ru/metrika/watch.js",c.insertBefore(a,c.lastChild)},wrap:function(e,t){var n={};return n[t]=e,n},flatten:function(e){for(var t=[];e.length;)t=t.concat(e.shift());return t.filter((function(e){return Boolean(e)}))},count:function(e){var t=Array.prototype.slice.call(arguments);if(!this.inited)return this.counts.push(t);for(e=(t=this.flatten(t)).pop();t.length;)e=this.wrap(e,t.pop());e.info={},this.version&&(e.info.version=this.version),this.userType&&(e.info.userType=this.userType),this.counter.params(e)},reachGoal:function(e,t){var n=Array.prototype.slice.call(arguments);if(!this.inited)return this.goals.push(n);this.counter.reachGoal(e,t)},clear:function(){this.count=function(){},this.counts=[],this.goals=[]}}}))}).call(this,n("x+/oeRxaacaY5YboflTE")(e))},Mjx4x0rqu8P8o6p16M6i:function(e,t,n){},"NH34m/YMyHs61nOqvuoz":function(e,t,n){"use strict";n.d(t,"rc",(function(){return r})),n.d(t,"jc",(function(){return o})),n.d(t,"kc",(function(){return i})),n.d(t,"mc",(function(){return a})),n.d(t,"lc",(function(){return c})),n.d(t,"J",(function(){return u})),n.d(t,"I",(function(){return s})),n.d(t,"K",(function(){return l})),n.d(t,"Dc",(function(){return f})),n.d(t,"n",(function(){return d})),n.d(t,"uc",(function(){return p})),n.d(t,"yc",(function(){return h})),n.d(t,"tc",(function(){return b})),n.d(t,"zc",(function(){return m})),n.d(t,"D",(function(){return y})),n.d(t,"gc",(function(){return g})),n.d(t,"ic",(function(){return v})),n.d(t,"hc",(function(){return O})),n.d(t,"Ac",(function(){return _})),n.d(t,"N",(function(){return E})),n.d(t,"M",(function(){return w})),n.d(t,"wc",(function(){return S})),n.d(t,"sc",(function(){return j})),n.d(t,"vc",(function(){return C})),n.d(t,"Bc",(function(){return R})),n.d(t,"xc",(function(){return k})),n.d(t,"Ec",(function(){return P})),n.d(t,"nc",(function(){return T})),n.d(t,"E",(function(){return A})),n.d(t,"Fc",(function(){return N})),n.d(t,"qc",(function(){return L})),n.d(t,"G",(function(){return M})),n.d(t,"Hc",(function(){return x})),n.d(t,"Gc",(function(){return I})),n.d(t,"oc",(function(){return D})),n.d(t,"c",(function(){return q})),n.d(t,"b",(function(){return U})),n.d(t,"f",(function(){return B})),n.d(t,"d",(function(){return F})),n.d(t,"e",(function(){return H})),n.d(t,"pc",(function(){return W})),n.d(t,"h",(function(){return z})),n.d(t,"g",(function(){return V})),n.d(t,"m",(function(){return G})),n.d(t,"i",(function(){return Y})),n.d(t,"F",(function(){return X})),n.d(t,"l",(function(){return Q})),n.d(t,"k",(function(){return K})),n.d(t,"j",(function(){return J})),n.d(t,"sb",(function(){return Z})),n.d(t,"ub",(function(){return $})),n.d(t,"tb",(function(){return ee})),n.d(t,"nb",(function(){return te})),n.d(t,"mb",(function(){return ne})),n.d(t,"lb",(function(){return re})),n.d(t,"kb",(function(){return oe})),n.d(t,"jb",(function(){return ie})),n.d(t,"ib",(function(){return ae})),n.d(t,"gb",(function(){return ce})),n.d(t,"hb",(function(){return ue})),n.d(t,"vb",(function(){return se})),n.d(t,"yb",(function(){return le})),n.d(t,"ob",(function(){return fe})),n.d(t,"qb",(function(){return de})),n.d(t,"xb",(function(){return pe})),n.d(t,"Ab",(function(){return he})),n.d(t,"wb",(function(){return be})),n.d(t,"zb",(function(){return me})),n.d(t,"pb",(function(){return ye})),n.d(t,"rb",(function(){return ge})),n.d(t,"Q",(function(){return ve})),n.d(t,"R",(function(){return Oe})),n.d(t,"P",(function(){return _e})),n.d(t,"S",(function(){return Ee})),n.d(t,"O",(function(){return we})),n.d(t,"L",(function(){return Se})),n.d(t,"a",(function(){return je})),n.d(t,"H",(function(){return Ce})),n.d(t,"T",(function(){return Re})),n.d(t,"U",(function(){return ke})),n.d(t,"V",(function(){return Pe})),n.d(t,"db",(function(){return Te})),n.d(t,"W",(function(){return Ae})),n.d(t,"eb",(function(){return Ne})),n.d(t,"ab",(function(){return Le})),n.d(t,"bb",(function(){return Me})),n.d(t,"cb",(function(){return xe})),n.d(t,"Y",(function(){return Ie})),n.d(t,"Z",(function(){return De})),n.d(t,"fb",(function(){return qe})),n.d(t,"X",(function(){return Ue})),n.d(t,"o",(function(){return Be})),n.d(t,"C",(function(){return Fe})),n.d(t,"z",(function(){return He})),n.d(t,"A",(function(){return We})),n.d(t,"B",(function(){return ze})),n.d(t,"s",(function(){return Ve})),n.d(t,"p",(function(){return Ge})),n.d(t,"q",(function(){return Ye})),n.d(t,"r",(function(){return Xe})),n.d(t,"w",(function(){return Qe})),n.d(t,"x",(function(){return Ke})),n.d(t,"u",(function(){return Je})),n.d(t,"y",(function(){return Ze})),n.d(t,"t",(function(){return $e})),n.d(t,"v",(function(){return et})),n.d(t,"Bb",(function(){return tt})),n.d(t,"dc",(function(){return nt})),n.d(t,"ec",(function(){return rt})),n.d(t,"cc",(function(){return ot})),n.d(t,"Qb",(function(){return it})),n.d(t,"Ob",(function(){return at})),n.d(t,"Pb",(function(){return ct})),n.d(t,"Db",(function(){return ut})),n.d(t,"Eb",(function(){return st})),n.d(t,"Cb",(function(){return lt})),n.d(t,"Jb",(function(){return ft})),n.d(t,"fc",(function(){return dt})),n.d(t,"Kb",(function(){return pt})),n.d(t,"Ib",(function(){return ht})),n.d(t,"Fb",(function(){return bt})),n.d(t,"Hb",(function(){return mt})),n.d(t,"Gb",(function(){return yt})),n.d(t,"Xb",(function(){return gt})),n.d(t,"Yb",(function(){return vt})),n.d(t,"Wb",(function(){return Ot})),n.d(t,"Ub",(function(){return _t})),n.d(t,"Vb",(function(){return Et})),n.d(t,"Tb",(function(){return wt})),n.d(t,"Rb",(function(){return St})),n.d(t,"Sb",(function(){return jt})),n.d(t,"bc",(function(){return Ct})),n.d(t,"ac",(function(){return Rt})),n.d(t,"Zb",(function(){return kt})),n.d(t,"Mb",(function(){return Pt})),n.d(t,"Nb",(function(){return Tt})),n.d(t,"Lb",(function(){return At})),n.d(t,"Cc",(function(){return Nt}));var r="Показ ввода логина",o="Отправка формы логина",i='Показ кнопки "Зарегистрировать логин"',a="Успешный ввод",c="Показ ошибки",u="Переход на регистрацию из ошибки",s="Переход на регистрацию из общей ссылки",l="Переход на восстановление логина из ошибки",f="Начало соц.авторизации",d="Вернуться на сервис",p="Показ формы ввод пароля",h="Показ формы соц.сеть",b="Показ формы 2fa",m="Показ формы соц.сеть и пароль",y='Нажатие "Другой аккаунт"',g="Отправка формы",v="Успешный ввод",O="Показ ошибки",_="Показ списка",E="Выход из аккаунта",w="Удаление из списка",S="Показ формы QR",j="2step_domik_show_login_form",C="2step_domik_show_pass_form",R="2step_domik_show_suggest_pass_form",k="2step_domik_show_qr_form",P="one_domik_auth_sucess",T='Показ кнопки "Войти без пароля"',A='Нажатие кнопки "Войти без пароля"',N="Успешный вход через подтверждение",L='Показ кнопки "Войти с помощью смс"',M='Нажатие кнопки "Войти с помощью смс"',x="Успешный вход по смс",I="Успешный вход неофониша",D="Вход по магическому письму: показ страницы подтверждения",q='Вход по магическому письму: нажатие "Это не Я"',U='Вход по магическому письму: нажатие "Это Я"',B="Вход по магическому письму: успешное подтверждение",F="Вход по магическому письму: получение ошибок",H="Вход по магическому письму: вход по ссылке отменен",W="Вход по мессенджеру: показ страницы подтверждения",z='Вход по мессенджеру: нажатие "Это не Я"',V='Вход по мессенджеру: нажатие "Это Я"',G="Вход по мессенджеру: успешное подтверждение",Y="Вход по мессенджеру: получение ошибок",X='Вход по мессенджеру: Нажатие кнопки "Войти без пароля"',Q="Вход по мессенджеру: успешно отправлен код",K="Вход по мессенджеру: ошибка отправки кода",J="Вход по мессенджеру отменен",Z="Восстановление логина на странице авторизации",$="Показ ввода кода",ee="Показ ввода капчи",te="Ввод номера",ne="Ошибка ввода номера",re="Успешный ввод кода",oe="Ошибка ввода кода",ie="Ошибка ввода капчи",ae="Подтверждение номера телефона через СМС",ce="Подтверждение номера телефона через звонок",ue="Подтверждение номера телефона через сброс",se="Звонок",le="СМС",fe="Ошибка при звонке",de="Ошибка при СМС",pe="Повторный звонок",he="Повторная СМС",be="Успешное подтверждение через звонок",me="Успешное подтверждение через СМС",ye="Ошибка на подтверждении через звонок",ge="Ошибка на подтверждении через СМС",ve="Страница пререгистрации",Oe="Показ страницы пререгистрации",_e="Переход на лайт регистрацию со страницы пререгистрации",Ee="Переход на обычную регистрацию со страницы пререгистрации",we='Переход на обычную регистрацию по кнопке "завести почту на Яндексе"',Se='Нажатие на кнопку "Войти по Сбербанк ID"',je="additional_data_request",Ce='Нажатие на кнопку "Регистрация по телефону или почте"',Re="Лайты в домике: показ страницы с вводом кода из письма",ke="Лайты в домике: показ ошибки на странице ввода кода из письма",Pe="Лайты в домике: успешный ввода кода из письма",Te="Лайты в домике: показ страницы с вводом пароля",Ae="Лайты в домике: показ ошибки на странице с вводом пароля",Ne="Лайты в домике: успешный ввода пароля",Le="Лайты в домике: показ страницы с вводом имени и фамилии",Me="Лайты в домике: показ ошибки на странице с вводом имени и фамилии",xe="Лайты в домике: успешный ввода имени и фамилии",Ie="Лайты в домике: показ страницы с EULA",De='Лайты в домике: нажали на "Зарегистрироваться"',qe="Лайты в домике: успешная регистрация",Ue="Лайты в домике: показ ошибки",Be="Челленджи в домике v2",Fe="Показ страницы подтверждения входа с телефоном",He="Челендж с телефоном: успешный ввод",We="Челендж с телефоном, показ ошибки",ze="Челендж с телефоном, не могу восстановить",Ve="Показ страницы подтверждения входа с email",Ge="Челендж с email: успешный ввод",Ye="Челендж с email: показ ошибки",Xe="Челендж с email: не могу восстановить",Qe="Челендж со звонком: Показ страницы подтверждения входа со звонком",Ke='Челендж со звонком: нажали "Подтвердить"',Je='Челендж со звонком: попап с подтверждением номера"',Ze='Челендж со звонком: успешное подтверждение номера телефона"',$e="Челендж со звонком: показ ошибки",et="Челендж со звонком: не могу восстановить",tt="Восстановление пароля в домике",nt="Показ формы ввода логина",rt="Переход из домика",ot="Выбор логина из саджеста",it="Успешный ввод логина",at="Ошибка при вводе логина:",ct="Статус пользователя при проверке логина:",ut="Показ формы с капчей",st="Успешный ввод капчи",lt="Ввод капчи",ft="Показ формы ввода email",dt='Нажатие "Отправить только код восстановления"',pt="Успешный ввод email",ht="Ошибка при вводе email",bt="Показ формы подтверждения email",mt="Успешный ввод кода для подтверждения email",yt="Ошибка при вводе кода для подтверждения email",gt="Показ формы ввода номера телефона",vt="Успешный ввод номера телефона",Ot="Ошибка при валидации номера телефона",_t="Показ формы подтверждения номера телефона",Et="Успешный ввод кода для подтверждения телефона",wt="Ошибка при вводе кода для подтверждения телефона",St='Нажатие на "Не получается восстановить"',jt="Подтверждение телефона, повторить",Ct="Показ формы проверки КВ",Rt="Успешная проверка КВ",kt="Ошибка при проверке КВ",Pt="Показ формы смены пароля",Tt="Успешная смена пароля",At="Ошибка при смене пароля",Nt="Социализм"},NYgweBU7we5NQJrgDZbv:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("W3MgEIO55ELSFhldjoS/"),a=n("NH34m/YMyHs61nOqvuoz"),c=n("WJOEWUhuaqB4LU1CIwDt"),u=n("xSpN8Kyw4VlgAPhFVdtL");function s(){return function(e,t){var n=t(),s=n.common,l=s.csrf,f=s.track_id,d=n.mailAuth.mailTrack,p=n.auth.processedAccount,h=(p||{}).primaryAliasType,b=Object(u.b)(h)===u.a.LITE,m={csrf_token:l,track_id:d||f};r.a.request("auth/invalidate_magic_letter",m).done((function(t){if("ok"===t.status&&(e(Object(o.kb)(!0)),i.a.send([b?a.e:a.j]),!d)){var n=b?"magic_link.invalidated":"messenger_link.invalidated";e(Object(o.mb)(n)),e(Object(c.a)({login:p.login})),e(Object(o.Jb)(!0))}})).fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Array.isArray(t.errors)&&t.errors[0]||"global";e(Object(o.mb)(n)),i.a.send([a.d])}))}}},NoFeXeyUaLnlF3HDY2SY:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"n",(function(){return p})),n.d(t,"q",(function(){return h})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return y})),n.d(t,"p",(function(){return g})),n.d(t,"o",(function(){return v}));var r="CLEAR_ERRORS",o="SET_ERRORS",i="CHANGE_CAPTCHA_ANSWER",a="CHANGE_CAPTCHA_STATE",c="CHANGE_PHONE_NUMBER",u="CHANGE_EMAIL",s="CHANGE_CONFIRMATION_CODE",l="CHANGE_CONFIRMATION_CODE_SENT_STATUS",f="SENT_PHONE_CONFIRMATION_CODE_SUCCESS",d="SENT_EMAIL_CONFIRMATION_CODE_SUCCESS";function p(){return{type:r}}function h(e){return{type:o,errors:e}}function b(e){return{type:c,phoneNumber:e}}function m(e){return{type:u,email:e}}function y(e){return{type:s,confirmationCode:e}}function g(e){return{type:f,payload:e}}function v(){return{type:d}}},"O5/wDFcDcr7psfl422DM":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"l",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return v})),n.d(t,"j",(function(){return O})),n.d(t,"g",(function(){return _})),n.d(t,"c",(function(){return E})),n.d(t,"e",(function(){return w})),n.d(t,"f",(function(){return S})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return C})),n.d(t,"k",(function(){return R})),n.d(t,"m",(function(){return k}));var r=n("MJovFwNIrFAmLe5Xoo3c"),o=n.n(r),i=n("8on1HivGWKFpo5zlabzv"),a=n.n(i),c=n("y1lFHCm6B2gquSkTr2oB");var u=/^https:\/\/(?:yandex|.+\.yandex)\.(?:ru|az|com\.am|com\.ge|co\.il|kg|lv|lt|md|tj|tm|uz|fr|ee|ua|by|kz|com|com\.tr)$/,s=/^https:\/\/[^/]*/,l=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r={};return t&&""!==t?"string"==typeof t?r["".concat(e,"-").concat(t.toLowerCase())]=!0:Object.keys(t).forEach((function(n){r["".concat(e,"-").concat(n.toLowerCase())]=t[n]})):r[e]=!0,Object.keys(n).forEach((function(t){n[t]&&("boolean"==typeof n[t]?r["".concat(e,"-").concat(t.toLowerCase())]=n[t]:r["".concat(e,"-").concat(t.toLowerCase(),"_").concat(n[t])]=!0)})),o()(r)}},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://yandex.ru",n=s.exec(t);if(u.test(n)){if(window.parent!==window)try{window.parent.postMessage(e,t)}catch(e){}if(window.opener!==window)try{window.opener.postMessage(e,t)}catch(e){}}},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={};return Object.keys(e).forEach((function(n){""!==e[n]&&(t[n]=e[n])})),t},p=/[^\d]+/g,h=/(\d{2})(\d{3})(\d{3})(\d{4})/,b=/(\d{4})(\d{3})(\d{4})/,m=/(\d{1})(\d{3})(\d{3})(\d{2})(\d{2})/,y=/(\d{3})(\d{3})(\d{2})(\d{2})/,g=/(\d{1})(\d{3})(\d{3})/,v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(p,"");return 12===e.length&&(t=t.replace(h,"+$1 $2 $3 $4")),11===t.length&&(t=["7","8"].includes(t[0])?t.replace(m,"$1 ($2) $3-$4-$5"):t.replace(b,"($1) $2 $3"),["7","1"].includes(t[0])&&(t="+".concat(t))),10===t.length&&(t=t.replace(y,"+7 ($1) $2-$3-$4")),t},O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e.replace(p,"").replace(g,"$1 ($2) $3");return"8"===t[0]?t:"+".concat(t)},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return Number(new Date/1e3+e|0)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return e?{title:"Политика конфиденциальности и условия использования",description:'Я принимаю условия <a href="https://yandex.ru/legal/rules/"  target="_blank">Пользовательского соглашения</a> и даю своё согласие Яндексу на обработку моей персональной информации на условиях, определенных <a href="https://yandex.ru/legal/confidential/" target="_blank">Политикой конфиденциальности</a>.',button:"Принимаю"}:{title:"Немного формальностей",description:'Нажимая «Далее», вы принимаете <a href="https://yandex.ru/legal/rules/" target="_blank">пользовательское соглашение</a> и соглашаетесь на обработку вашей персональной информации на <a href="https://yandex.ru/legal/confidential/" target="_blank">условиях политики конфиденциальности</a>',button:"Далее"}},w=function(){return a.a.parse("undefined"!=typeof window?location.search.substring(1):"")},S=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return w()[e]},j=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o=r;return 0===o.indexOf("".concat(n,"."))&&(o=o.replace("".concat(n,"."),"")),c.a[n]&&c.a[n].descriptions&&(t=c.a[n].descriptions[o]||c.a[n].descriptions[r]),c.a[n]&&c.a[n].errors&&(e=c.a[n].errors[o]||c.a[n].errors[r]||c.a.global.errors.global),{code:o,text:e,errorDescription:t}},C=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"global",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=j(e,t);return Object.assign({},n,{status:"error",field:e})},R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.lastIndexOf("/")===e.length-1?e.slice(0,-1):e},k=function(e){var t;try{t=window[e];var n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(e){return e instanceof DOMException&&(22===e.code||1014===e.code||"QuotaExceededError"===e.name||"NS_ERROR_DOM_QUOTA_REACHED"===e.name)&&t&&0!==t.length}}},OWyp9q5IAHy11NTyZQSA:function(e,t,n){"use strict";n.d(t,"m",(function(){return r})),n.d(t,"o",(function(){return o})),n.d(t,"p",(function(){return i})),n.d(t,"n",(function(){return a})),n.d(t,"l",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"g",(function(){return h})),n.d(t,"d",(function(){return b})),n.d(t,"i",(function(){return m})),n.d(t,"h",(function(){return y})),n.d(t,"k",(function(){return g})),n.d(t,"v",(function(){return v})),n.d(t,"r",(function(){return O})),n.d(t,"s",(function(){return _})),n.d(t,"t",(function(){return E})),n.d(t,"q",(function(){return w})),n.d(t,"u",(function(){return S})),n.d(t,"y",(function(){return j})),n.d(t,"x",(function(){return C})),n.d(t,"w",(function(){return R})),n.d(t,"z",(function(){return k}));var r="SWITCH_TO_MODE_REGISTER_LITE",o="SWITCH_TO_MODE_REGISTER_LITE_FORM",i="SWITCH_TO_MODE_REGISTER_LITE_NAME",a="SWITCH_TO_MODE_REGISTER_LITE_EULA",c="LITE_REGISTER_SET_TRACK_ID",u="LITE_REGISTER_CHANGE_FIRST_NAME",s="LITE_REGISTER_CHANGE_LAST_NAME",l="LITE_REGISTER_CHANGE_CONFIRMATION_CODE",f="LITE_REGISTER_SET_ERRORS",d="LITE_REGISTER_CHANGE_PASSWORD",p="LITE_REGISTER_CHANGE_PASSWORD_CONFIRM",h="LITE_REGISTER_LOGIN_REQUIRED",b="LITE_REGISTER_CHANGE_LOGIN",m="LITE_REGISTER_PASSWORD_WARNING",y="LITE_REGISTER_PASSWORD_ERROR_DESCR",g="LITE_REGISTER_SET_PASSWORD_VALID";function v(e){return{type:c,track_id:e}}function O(e){return{type:u,firstname:e}}function _(e){return{type:s,lastname:e}}function E(e){return{type:d,password:e}}function w(e){return{type:l,confirmationCode:e}}function S(e){return{type:f,errors:e}}function j(e){return{type:m,warning:e}}function C(e){return{type:g,isValid:e}}function R(e){return{type:y,text:e}}function k(e){return{type:h,status:e}}},"OX/wkVklJcgTEff1wL6D":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("2zFAvgXZRXm915c1LW+m"),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("DoQaHn2w4kPN7lMBHsaC");function c(){return function(e,t){var n=t(),c=n.challenge,u=c.phoneId,s=c.isConfirmWithCall,l=n.common,f=l.track_id,d=l.csrf,p=n.pagePopup.isShowPagePopup,h={phone_id:u,confirm_method:"by_sms",track_id:f,csrf_token:d};s&&(h.confirm_method="by_flash_call"),e(Object(i.bb)(!0)),e(Object(o.e)({errorText:"",errorCode:"",fieldValue:""})),r.a.request("phone-confirm-code-submit",h).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"ok"===t.status&&t.calling_number_template&&e(Object(o.e)({callFrom:t.calling_number_template})),"by_sms"===h.confirm_method&&t.number&&e(Object(o.e)({smsTo:t.number.masked_international})),p||(e(Object(i.X)("challengeCall")),e(Object(i.Y)(!0)))})).fail((function(t){var n=Array.isArray(t.errors)&&t.errors[0];e(Object(a.a)(n))})).always((function(){e(Object(i.bb)(!1))}))}}},"PFkJ+x8U9pDZf+GYtiPc":function(e,t,n){"use strict";n("D6byb7CfX1AqZVeSOYPw");var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("WE2RsoBXx7uBcYbdhL/w"),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("LzmKygd9FPlNlMcSJp0Y"),s=n("NH34m/YMyHs61nOqvuoz"),l=n("W3MgEIO55ELSFhldjoS/"),f=n("icG+8Jgv+BJiTL/fPTrX"),d=n("xSpN8Kyw4VlgAPhFVdtL"),p=["social_gg","social_fb","social_tw","social_mr","social_vk","social_sberbank","social_ok"];var h=n("ZDmX7r9YifVbosUR2qgY"),b=n("qyhOylcYgz7sofzu7jFu"),m=n("BiY5T7IoWQd4oP5CD4Ck"),y=n("yi2HOavEOLsMrMN95lAZ");var g=n("iYno3SKv/BW0tduPFmp1"),v=n("Cn0bb7dlXdz9iLHfBkZ3"),O=n("4CLY6EXHBdRASoqLgoNs"),_=n("gGLUm6icyW4lmihzoT4E"),E=n("gW+kGIULm/gsAM1O/w51"),w=n("mNaMim9b+xb4df3rV6hq");var S=n("1hgyDyPvGAR756qJDrVH"),j=n("QgjbgVDbzfInN/CjWaXi");function C(){return function(e,t){var n=t().common,r=n.changePasswordUrl,o=n.pane;e(Object(m.xb)(o)),e(Object(b.w)(r)),e(Object(m.yb)("change-password")),e(Object(_.d)(r))}}var R=n("WlPi4ffSX0L5iiVPiVYK"),k=n("Yp2QB2jYYmLrYZQDlfoW");var P=["social_gg","social_fb","social_tw","social_mr","social_vk","social_ok"];function T(e){return function(t,n){var r=n(),o=r.common,i=o.track_id,a=o.csrf,c=o.isWebView,u=r.auth,d=u.isAdditionalDataRequestEnabled,p=u.form.isForceOTP,h=u.processedAccount,g=Object(f.f)(r),P=Object(f.j)(r,"change-password-forced-enable"),T=h&&h.allowed_auth_methods||[],N=h&&h.preferred_auth_method||"password";T.indexOf("otp")>-1&&p&&(N="otp");var L={track_id:i,csrf_token:a,password:e,retpath:g};t(Object(m.bb)(!0)),v.a.request("auth/multi_step/commit_password",L).done((function(e){if(e){var n=e.retpath,o=e.status,i=e.state,a=e.redirect_url,u=n&&-1!==n.indexOf("am_social=true");if(l.a.goal(s.Ec),l.a.send([A(r),s.gc,s.ic]),"ok"===o&&!i){if(u||!d)return window.location=n||g;t((function(e,t){var n=t(),r=n.common,o=void 0===r?{}:r,i=o.askEmailUrl,a=o.askPhoneUrl,c=o.askAvatarUrl,u=o.profileSecurityWithCustoms,s=Object(f.j)(n,"dozapros-weak-password-exp");v.a.request("auth/accounts").done((function(t){var n={csrf_token:t.csrf,uid:t.accounts.defaultAccount&&t.accounts.defaultAccount.uid};e(Object(b.z)(t.csrf)),v.a.request("auth/additional_data/ask_v2",n).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.state,r=t.action,o=t.track_id;return e(Object(m.eb)(t)),e(Object(m.xb)(null)),"password"===n&&"weak"===r&&s?location.replace("".concat(u,"&track_id=").concat(o)):"phone"===n?(e(Object(w.a)()),void e(Object(_.d)(a))):"email"===n?(e(Object(w.a)()),void e(Object(_.d)(i))):"avatar"===n?(e(Object(w.a)()),void e(Object(_.d)(c))):void e(Object(E.a)())})).fail((function(){e(Object(E.a)())}))})).fail((function(){e(Object(E.a)())}))}))}if("auth_challenge"!==i){if("change_password"!==i||!P&&!c)return i&&a?window.location=a:void 0;t((function(e,t){var n=Object(f.h)(t(),j.b.COMMON);e(Object(m.bb)(!0)),v.a.request("auth/password/state",{track_id:n}).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.status,o=t.state;"ok"===r&&(e(Object(k.F)()),e(Object(R.j)("")),e(Object(R.k)("")),e(Object(R.i)(!1)),e(C()),e(Object(R.g)(o)),o.question&&e(Object(k.L)({hint_question_id:o.question.id,hint_question:o.question.text})),v.a.writeStatbox({track_id:n,mode:"change_password_force",action:"opened"}))})).fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(Object(m.vb)(t))})).always((function(){e(Object(m.bb)(!1))}))}))}else t(Object(S.a)())}else t(Object(m.bb)(!1))})).fail((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.errors[0],o=r.auth.isCaptchaRequired;l.a.send([A(r),s.gc,s.hc,n]),["captcha.required","captcha.invalid"].indexOf(n)>-1&&(t(Object(m.U)(!0)),o&&t(Object(O.a)())),(["password.not_matched","password.empty","rfc_otp.invalid"].includes(n)||"otp"===N&&["captcha.required","captcha.invalid"].includes(n))&&(t(Object(m.Nb)("")),t(Object(y.a)("passwd",""))),t(Object(m.vb)(n)),t(Object(m.bb)(!1))}))}}function A(e){var t=e.auth,n=t.form.isForceOTP,r=t.processedAccount,o=e.social.providers,i=(r||{}).allowed_auth_methods||[],a=(r||{}).preferred_auth_method||"password";i.indexOf("otp")>-1&&n&&(a="otp");var c=o.filter((function(e){var t=e.data;return"social_".concat(t.code)===a}))[0]||null,u=Boolean("password"===a||i.indexOf("password")>-1),l=Boolean(P.indexOf(a)>-1&&c);return u&&l?s.zc:u?s.uc:s.tc}var N=n("xTYMmTVCxHhb8U90Af7w");var L=n("6OWwt9yvRw7ShcN4G3nV"),M=n("MJovFwNIrFAmLe5Xoo3c"),x=n.n(M),I=n("eidTN+99QhledymTSSqQ"),D=n("iCK235f/imKRe7hxV26u");function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function U(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function F(e,t){return(F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function H(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=V(e);if(t){var o=V(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return W(this,n)}}function W(e,t){return!t||"object"!==q(t)&&"function"!=typeof t?z(e):t}function z(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function V(e){return(V=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Y=Object(u.cn)("CurrentAccount"),X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(a,e);var t,n,r,i=H(a);function a(){var e;U(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return G(z(e=i.call.apply(i,[this].concat(n))),"switchToListPage",(function(t){t.preventDefault();var n=e.props,r=n.addUserUrl,o=n.editUrl,i=n.hasUnitedAccounts,a=n.dispatch;a(Object(_.d)(i?o:r,{isPreviousStep:!0})),i||(a(Object(m.Lb)("")),a(Object(y.a)("login","")))})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.hasDisplayName,n=e.displayLogin,r=e.avatarStyle,i=e.displayName,a=e.login,c=e.editUrl;return e.account?o.a.createElement("a",{className:Y(),href:c,onClick:this.switchToListPage},o.a.createElement("span",{className:Y("avatar"),style:r}),o.a.createElement("span",{className:Y("name")},o.a.createElement("span",{className:Y("displayName")},i||n||a),t&&n&&o.a.createElement("span",{className:Y("login")},n))):null}}])&&B(t.prototype,n),r&&B(t,r),a}(r.Component);X.propTypes={account:c.a.object,hasDisplayName:c.a.bool.isRequired,displayLogin:c.a.string,avatarStyle:c.a.object.isRequired,displayName:c.a.string,login:c.a.string,addUserUrl:c.a.string.isRequired,editUrl:c.a.string.isRequired,hasUnitedAccounts:c.a.bool.isRequired,dispatch:c.a.func.isRequired};var Q=Object(i.c)((function(e){var t=e.common,n=t.editUrl,r=t.addUserUrl,o=e.settings.avatar,i=e.auth,a=i.processedAccount,c=i.unitedAccounts,u=void 0===c?{}:c,s=a||{},l=s.avatarId,f=s.login,d=s.displayName,p=s.hasSocial,h=s.mail,b=s.defaultEmail,m=s.socialProvider,y=o.host,g=o.pathname,v=Boolean(d),O=g.replace("%uid%",l).replace("%size%","200").replace("%login%",f),_={backgroundImage:'url("https://'.concat(y).concat(O,'")')};return{hasDisplayName:v,displayLogin:p?D.a[m]:h||b||"",avatarStyle:_,displayName:d,login:f,addUserUrl:r,editUrl:n,hasUnitedAccounts:Object.keys(u).length>0,account:a}}))(X),K=n("Sv+DydT6rKBct5kRKGVV"),J=n("uK9xiV8SwhymVpEWNYWz");var Z=n("E7tECPK7daWDXj1IZwt+"),$=n("3jQNbST1kIlUrdI/RR8z");function ee(e){return(ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==ee(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(a,e);var t,n,r,i=re(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),ce(ie(t=i.call(this,e)),"fieldOptions",{autoCorrect:"off",autoCapitalize:"off",autoComplete:"new-password"}),ce(ie(t),"fieldLink",{}),ce(ie(t),"patchFieldLink",(function(){var e=t.props,n=e.login,r=e.fieldLink,o=e.dispatch;t.fieldLink=Object.assign({},r),t.fieldLink.onClick=function(e){l.a.send([s.tc,s.K]),n&&(e.preventDefault(),o(Object($.a)()))}})),t.patchFieldLink(),t}return t=a,(n=[{key:"componentDidMount",value:function(){l.a.send([s.tc])}},{key:"render",value:function(){var e=this.props,t=e.password,n=e.isShowFieldLink,r=e.onChange,i=e.login,a=e.fieldError;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{className:"g-hidden",type:"text",name:"login",id:"login",readOnly:!0,autoCorrect:"off",autoCapitalize:"off",autoComplete:"username",value:i}),o.a.createElement(Z.a,{hasToggler:!0,shouldValidate:!1,size:"l",label:"Введите одноразовый пароль",value:t,name:"passwd",error:a,link:this.fieldLink,options:this.fieldOptions,isShowFieldLink:n,onChange:r,view:"floating-label"}))}}])&&te(t.prototype,n),r&&te(t,r),a}(r.Component);ue.defaultProps={fieldValue:""},ue.propTypes={password:c.a.string,isShowFieldLink:c.a.bool.isRequired,onChange:c.a.func.isRequired,dispatch:c.a.func.isRequired,login:c.a.string,fieldError:c.a.string,fieldLink:c.a.shape({url:c.a.string.isRequired,text:c.a.string.isRequired,onClick:c.a.func.isRequired}).isRequired};var se=Object(i.c)((function(e){var t=e.auth,n=t.passwordError,r=t.form,o=r.login,i=r.password,a=e.common,c=a.restorePasswordCaptchaUrl,u=a.restorePasswordUrl,s=c.includes("?")?"".concat(c,"&login=").concat(o):"".concat(c,"?login=").concat(o),l={url:o?s:u,text:"Восстановить доступ",onClick:function(){}},f=function(e){return e?"captcha.required"===e?"":"password.not_matched"===e?K.a["password.not_matched_2fa"]:Object(J.a)(K.a[e]||K.a.global):""}(n);return{password:i,isShowFieldLink:!f||f!==K.a.global&&-1===["captcha.required","csrf_token.invalid","password.not_matched","account.disabled","account.disabled_on_deletion","sessionid.overflow"].indexOf(n),login:o,fieldError:f,fieldLink:l}}))(ue);function le(e){return(le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pe(e,t){return(pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function he(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ye(e);if(t){var o=ye(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return be(this,n)}}function be(e,t){return!t||"object"!==le(t)&&"function"!=typeof t?me(e):t}function me(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ye(e){return(ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ve=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&pe(e,t)}(a,e);var t,n,r,i=he(a);function a(){var e;fe(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ge(me(e=i.call.apply(i,[this].concat(n))),"fieldOptions",{autoCorrect:"off",autoCapitalize:"off",autoComplete:"current-password"}),ge(me(e),"updatedFieldLink",{}),ge(me(e),"defineFieldLinkHandler",(function(){var t=e.props,n=t.hasSocialButton,r=t.fieldLink,o=Object.assign({},r);return o.onClick=function(){l.a.send([n?s.zc:s.uc,s.K]),e.props.dispatch(Object($.a)())},o})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props.hasSocialButton;l.a.send([e?s.zc:s.uc]),this.updatedFieldLink=this.defineFieldLinkHandler()}},{key:"render",value:function(){var e=this.props,t=e.password,n=e.onChange,r=e.fieldError,i=e.isShowFieldLink,a=e.inputLogin,c=e.login;return o.a.createElement(o.a.Fragment,null,o.a.createElement("input",{className:"g-hidden",type:"text",name:"login",id:"login",readOnly:!0,autoComplete:"username",value:a||c}),o.a.createElement(Z.a,{hasToggler:!0,shouldValidate:!1,size:"l",label:"Введите пароль",value:t,name:"passwd",error:r,options:this.fieldOptions,link:this.updatedFieldLink,isShowFieldLink:i,onChange:n,view:"floating-label"}))}}])&&de(t.prototype,n),r&&de(t,r),a}(r.Component);ve.defaultProps={fieldValue:""},ve.propTypes={password:c.a.string,login:c.a.string,inputLogin:c.a.string,onChange:c.a.func.isRequired,fieldError:c.a.string,fieldLink:c.a.shape({url:c.a.string.isRequired,text:c.a.string.isRequired,onClick:c.a.func.isRequired}).isRequired,isShowFieldLink:c.a.bool.isRequired,hasSocialButton:c.a.bool,dispatch:c.a.func};var Oe=Object(i.c)((function(e,t){var n=e.auth,r=n.passwordError,o=n.inputLogins,i=n.processedAccount,a=n.form.login,c=e.common,u=c.restoration_url,f=c.isWebView,d=t.hasSocialButton,p=r&&-1===["captcha.required","password.empty","password.not_matched"].indexOf(r)?"Восстановить доступ":"Не помню пароль",h={url:u.replace("login=login",a?"login=".concat(a):""),text:p,pseudo:!0,onClick:function(){l.a.send([d?s.zc:s.uc,s.K])}},b=function(e){if(!e)return"";if("captcha.required"===e)return"";return Object(J.a)(K.a[e]||K.a.global)}(r);return{login:a,isShowFieldLink:(!b||b!==K.a.global&&-1===["captcha.required","csrf_token.invalid","account.disabled","account.disabled_on_deletion","sessionid.overflow"].indexOf(r))&&!f,fieldError:b,fieldLink:h,inputLogin:i&&o&&o[i.uid]||null}}))(ve),_e=n("QVbIF+W9nkHnIvgbpiW3"),Ee=n("DNml7VDdSAs10Z4giKjv"),we=n("dVdlchGuZyN639S0A3so"),Se=function(e){var t=e.switchToModeMagic;return o.a.createElement(Ee.a,{view:"pseudo",size:"l",width:"max",dataT:"qr-button",onClick:t},o.a.createElement(we.a,{type:"qr",place:"button"}),"Войти по QR-коду")};Se.propTypes={switchToModeMagic:c.a.func.isRequired};var je={switchToModeMagic:N.a},Ce=Object(i.c)(null,je)(Se);function Re(e){return(Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Le(e);if(t){var o=Le(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Ae(this,n)}}function Ae(e,t){return!t||"object"!==Re(t)&&"function"!=typeof t?Ne(e):t}function Ne(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Le(e){return(Le=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Me=Object(u.cn)("AuthPasswordForm"),xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Pe(e,t)}(a,e);var t,n,r,i=Te(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).changePasswordValue=t.changePasswordValue.bind(Ne(t)),t.submitPasswordForm=t.submitPasswordForm.bind(Ne(t)),t.switchToMagicPage=t.switchToMagicPage.bind(Ne(t)),t}return t=a,(n=[{key:"componentWillUnmount",value:function(){(0,this.props.setPasswordError)("")}},{key:"changePasswordValue",value:function(e){(0,this.props.updatePasswordValue)(e)}},{key:"submitPasswordForm",value:function(e){e.preventDefault();var t=this.props,n=t.password;(0,t.dispatch)(Object(g.a)(T,n))}},{key:"switchToMagicPage",value:function(){(0,this.props.switchToModeMagic)(!0)}},{key:"render",value:function(){var e=this.props,t=e.password,n=e.trackId,r=e.csrf,i=e.hasSocialButton,a=e.hasCaptcha,c=e.isShowOTPField,u=e.isShowPasswordField,s=e.isShowSubmitButton,l=e.isShouldFallbackToPassword,f=e.isMagicAuth,d=e.authUrl,p=e.loading,h=e.isShowQrButton;return o.a.createElement("div",{className:Me({v5:!0})},o.a.createElement("form",{onSubmit:this.submitPasswordForm,method:"post",action:d,noValidate:!0},o.a.createElement("input",{type:"hidden",name:"track_id",value:n,readOnly:!0}),o.a.createElement("input",{type:"hidden",name:"csrf_token",value:r,readOnly:!0}),a&&o.a.createElement("div",{className:Me("captcha")},o.a.createElement(L.a,null)),o.a.createElement("div",{className:Me("currentAccount",{v5:!0})},o.a.createElement(Q,null)),c&&o.a.createElement(se,{onChange:this.changePasswordValue,password:t}),(u||l)&&o.a.createElement(Oe,{onChange:this.changePasswordValue,hasSocialButton:i,password:t}),s&&o.a.createElement(o.a.Fragment,null,o.a.createElement(_e.a,{isDisabled:p,switchToModeMagic:f?this.switchToMagicPage:void 0}),f&&h&&o.a.createElement("div",{className:Me("qr-button")},o.a.createElement(Ce,null)))))}}])&&ke(t.prototype,n),r&&ke(t,r),a}(r.Component);xe.defaultProps={trackId:"",csrf:""},xe.propTypes={password:c.a.string,trackId:c.a.string,csrf:c.a.string,switchToModeMagic:c.a.func.isRequired,dispatch:c.a.func,authUrl:c.a.string.isRequired,hasSocialButton:c.a.bool.isRequired,hasCaptcha:c.a.oneOfType([c.a.bool,c.a.object]),isShowOTPField:c.a.bool.isRequired,isShowPasswordField:c.a.bool.isRequired,isShouldFallbackToPassword:c.a.bool.isRequired,isMagicAuth:c.a.bool.isRequired,isShowSubmitButton:c.a.bool.isRequired,isForceMailAuthEnable:c.a.bool.isRequired,updatePasswordValue:c.a.func.isRequired,loading:c.a.bool.isRequired,setPasswordError:c.a.func.isRequired,isShowQrButton:c.a.bool};var Ie=Object(i.c)((function(e,t){var n=e.common,r=n.track_id,o=n.csrf,i=n.authUrl,a=e.auth,c=a.form,u=c.isForceOTP,s=c.password,l=a.passwordError,d=a.processedAccount,p=a.isQRAuthEnabled,h=a.loading,b=d&&d.allowed_auth_methods||[],m=d&&d.preferred_auth_method||"password";b.indexOf("otp")>-1&&u&&(m="otp");var y=Boolean(l&&l.indexOf("captcha")>-1),g=Boolean("password"===m||b.indexOf("password")>-1),v=Boolean("otp"===m||b.indexOf("otp")>-1),O=Boolean(g||v),_=!y&&b.indexOf("magic")>-1||b.indexOf("magic_x_token")>-1&&p,E=!(g||v||t.hasSocialButton||t.isForceMailAuthEnable||b.includes("sms_code")),w=Object(f.l)(e);return{password:s,trackId:r,csrf:o,passwordError:l,isShowPasswordField:g,isShowOTPField:v,authUrl:i,isShowSubmitButton:O,isShouldFallbackToPassword:E,isMagicAuth:_,hasCaptcha:y,loading:h,isShowQrButton:!w||w&&Object(f.j)(e,"newdesign-qr-enable")}}),(function(e){var t={updatePasswordValue:m.Nb,setPasswordError:m.vb,switchToModeMagic:N.a};return Object.assign({},Object(h.b)(t,e),{dispatch:e})}))(xe),De=(n("m875iENFEWEoKmhsd3Bb"),n("H/GWyicROAQnHKbtN2vf"));function qe(e){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ze(e);if(t){var o=ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==qe(t)&&"function"!=typeof t?We(e):t}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ve=Object(u.cn)("AuthSocialButton"),Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(a,e);var t,n,r,i=Fe(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).authSocial=t.authSocial.bind(We(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.isShowPasswordField||l.a.send([s.yc])}},{key:"authSocial",value:function(){var e=this.props,t=e.socialScope,n=e.provider,r=e.dispatch,o=n.data.code;r(Object(De.a)({provider:o,scope:t&&t[o]}))}},{key:"render",value:function(){var e=this.props,t=e.provider,n=e.lang;if(!t)return null;var r=t.data,i=void 0===r?{}:r,a=i.display_name,c=void 0===a?{}:a,u=i.code,s=c[n]||c.default;return o.a.createElement("div",{className:Ve()},o.a.createElement(Ee.a,{onClick:this.authSocial,type:"button",view:"pseudo",size:"l",width:"max",dataT:"social:auth:".concat(u)},o.a.createElement(we.a,{type:u,size:"s",place:"button"}),"Войти через %1".replace("%1",s)))}}])&&Ue(t.prototype,n),r&&Ue(t,r),a}(r.Component);Ge.propTypes={provider:c.a.object,lang:c.a.string.isRequired,isShowPasswordField:c.a.bool,dispatch:c.a.func.isRequired,socialScope:c.a.object};var Ye=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.settings.lang,n=e.auth.processedAccount,r=e.social.providers,o=(n||{}).preferred_auth_method;("magic_x_token"===o||o.indexOf("social_")<0)&&(o=n.allowed_auth_methods.filter((function(e){return e.indexOf("social_")>-1}))[0]);var i=r.filter((function(e){var t=e.data;return"social_".concat(t.code)===o}))[0]||null;return{provider:i,lang:t}}))(Ge);var Xe=n("5JYr1wX0R8/HykYVD6Pg");var Qe=n("F0RLjjE+ZbZkCivh5+sy");function Ke(){return function(e,t){var n=t(),r=Object(f.f)(n),o=n.common,i=o.csrf,a=o.track_id,c=(n.auth.processedAccount||{}).primaryAliasType,u=Object(d.b)(c)===d.a.LITE,s={csrf_token:i,track_id:a,retpath:r};e(Object(m.bb)(!0)),e(Object(m.mb)("")),v.a.request("/auth/letter/status/",s).done((function(t){if(t&&"ok"===t.status&&t.magic_link_confirmed){var n="/auth/finish/?track_id=".concat(t.track_id);return e(Object(m.mb)("")),(t.retpath||r)&&(n+="&retpath=".concat(encodeURIComponent(t.retpath||r))),void(window.location.href=n)}e(Object(m.Y)(!0)),e(Object(m.X)(u?"authLetter":"authMessenger")),e(Object(m.kb)(!1))})).fail((function(t){var n=Array.isArray(t.errors)?t.errors[0]:"global";e(Object(m.mb)(n))})).always((function(){e(Object(m.bb)(!1))}))}}var Je=function(e){var t=e.handleCaptcha;return o.a.createElement("div",{className:"al-captcha__wrapper"},o.a.createElement("form",{onSubmit:t,method:"post"},o.a.createElement(L.a,null),o.a.createElement(Ee.a,{type:"submit",text:"Продолжить",view:"action",size:"auth-l",width:"max"})))},Ze=Je;Je.propTypes={handleCaptcha:c.a.func.isRequired};var $e=function(e){return o.a.createElement("div",{className:x()("passp-auth__tooltip",{"passp-auth__tooltip_visible":e.isVisible}),role:"status","aria-live":"polite"},o.a.createElement("div",{className:"passp-auth__tooltip-text"},e.children))};$e.propTypes={isVisible:c.a.bool,children:c.a.node};var et=n("F+XoypME10tU70Tu7EYE");function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return(rt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ot(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ct(e);if(t){var o=ct(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return it(this,n)}}function it(e,t){return!t||"object"!==tt(t)&&"function"!=typeof t?at(e):t}function at(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ct(e){return(ct=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ut=Object(u.cn)("AuthLetterButton"),st=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&rt(e,t)}(a,e);var t,n,r,i=ot(a);function a(e){var t,n,r,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),t=i.call(this,e),n=at(t),r="buttonRef",c=o.a.createRef(),r in n?Object.defineProperty(n,r,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[r]=c,t.handleAuthLetter=t.handleAuthLetter.bind(at(t)),t.handleCaptcha=t.handleCaptcha.bind(at(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){l.a.send([s.nc])}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(m.mb)(""))}},{key:"componentDidUpdate",value:function(e){var t=this;!e.shouldErrorDisappear&&this.props.shouldErrorDisappear&&setTimeout((function(){t.props.dispatch(Object(m.mb)(""))}),6e3)}},{key:"handleAuthLetter",value:function(){var e=this.props,t=e.isAuthMailConfirmationVisible,n=e.isAuthLetterStatusChecking,r=e.dispatch;if(n&&!t)return r(Object(m.Y)(!0)),void r(Object(m.X)("authLetter"));r((function(e,t){var n=t(),r=n.common,o=r.csrf,i=r.track_id,a={csrf_token:o,language:n.settings.lang,track_id:i};e(Object(m.bb)(!0)),v.a.request("auth/send_magic_letter",a).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&"ok"===t.status){var n=t.code;e(Object(m.nb)(n)),e(Object(m.Y)(!0)),e(Object(m.X)("authLetter")),e(Object(m.kb)(!1)),e(Object(m.Jb)(!1))}else e(Object(m.mb)("global"))})).fail((function(t){var n=Array.isArray(t.errors)?t.errors[0]:"global";e(Object(m.mb)(n))})).always((function(){e(Object(m.bb)(!1))}))})),l.a.send([s.E])}},{key:"handleCaptcha",value:function(e){e.preventDefault(),this.props.dispatch(Object(Qe.a)({action:Ke}))}},{key:"render",value:function(){var e=this.props,t=e.isAuthMailSent,n=e.isCaptchaRequired,r=(e.isShouldBeDisabled,e.email),i=e.error,a=e.buttonText,c=e.descriptionText;return e.titleRequired,n?o.a.createElement(Ze,{handleCaptcha:this.handleCaptcha}):o.a.createElement(o.a.Fragment,null,o.a.createElement(Ee.a,{size:"l",view:"default",type:"button",width:"max",controlRef:this.buttonRef,onClick:this.handleAuthLetter,dataT:"auth-letter"},o.a.createElement(we.a,{size:"s",place:"button",type:"letter"}),a),o.a.createElement(et.a,{visible:Boolean(i&&!n),view:"black",target:"anchor",anchor:this.buttonRef,directions:["bottom-center"],style:{maxWidth:"350px"},keepMounted:!1},o.a.createElement("div",{className:ut("error")},i)),!t&&r&&o.a.createElement("div",{className:ut("description"),dangerouslySetInnerHTML:{__html:c}}))}}])&&nt(t.prototype,n),r&&nt(t,r),a}(r.Component),lt=Object(i.c)((function(e){var t=e.mailAuth,n=t.isAuthMailConfirmationVisible,r=t.isUpdatedAuthLetterStatus,o=t.isAuthMailSent,i=t.isAuthCancelled,a=t.mailAuthError,c=t.mailAuthExperiment,u=e.auth.processedAccount||{},s=u.email,l=void 0===s?"":s,f=u.allowed_auth_methods,d=void 0===f?[]:f,p=Object.assign({},K.a,Xe.a),h="magic_link.invalidated"===a,b=a&&(p[a]||p.global),m="captcha.required"===a,y=o&&!i,g=function(e,t){if(t)return"Письмо отправлено";var n={magic_link_exp:"Отправить письмо для входа",magic_link_exp_t1:"Отправить письмо для входа",magic_link_exp_t2:"Войти без пароля",magic_link_exp_t3:"Войти без пароля",magic_link_exp_t4:"Отправить письмо для входа"};return n[e]||n.magic_link_exp}(c,y);return{isAuthMailConfirmationVisible:n,isUpdatedAuthLetterStatus:r,isShouldBeDisabled:r&&!d.includes("magic_link"),isAuthMailSent:o,isAuthCancelled:i,isAuthLetterStatusChecking:y,isCaptchaRequired:m,error:b,shouldErrorDisappear:h,email:l,buttonText:g,descriptionText:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"magic_link_exp",t=arguments.length>1?arguments[1]:void 0,n={magic_link_exp:"Письмо со ссылкой придёт на почту <strong>%s</strong>.\nОткройте его на любом устройстве",magic_link_exp_t1:"Если вы уже вошли в почту <strong>%s</strong> на другом устройстве, подтвердите вход, нажав на кнопку в письме",magic_link_exp_t2:"Мы отправим на ящик <strong>%s</strong> письмо для подтверждения входа",magic_link_exp_t3:"Мы отправим письмо на <strong>%s</strong>, откройте его на устройстве, где вы авторизованы",magic_link_exp_t4:"Откройте его на устройстве, где вы авторизованы, и подтвердите вход"};return n[e]&&n[e].replace("%s",t)||n.magic_link_exp}(c,l),titleRequired:"magic_link_exp_t1"===c}}))(st);st.propTypes={isAuthMailConfirmationVisible:c.a.bool,isShouldBeDisabled:c.a.bool.isRequired,isAuthMailSent:c.a.bool,isAuthLetterStatusChecking:c.a.bool,isCaptchaRequired:c.a.bool,email:c.a.string.isRequired,error:c.a.string,shouldErrorDisappear:c.a.bool,buttonText:c.a.string,descriptionText:c.a.string,titleRequired:c.a.bool,dispatch:c.a.func};n("9aIaKlzko1f/taFAZ3UN");var ft={"backend.bot_api_failed":"Внутренняя ошибка: обновите страницу и попробуйте еще раз","messenger_link.invalidated":"Вы отменили вход по ссылке из приложения"};var dt=n("exOCWzlfu86/I8jXI0mZ"),pt=n("xk86jm087z7uHPch9i2c");function ht(e){return(ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function bt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function mt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t){return(yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=_t(e);if(t){var o=_t(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return vt(this,n)}}function vt(e,t){return!t||"object"!==ht(t)&&"function"!=typeof t?Ot(e):t}function Ot(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _t(e){return(_t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Et(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=Object(u.cn)("AuthMessengerButton"),St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(a,e);var t,n,r,i=gt(a);function a(){var e;bt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Et(Ot(e=i.call.apply(i,[this].concat(n))),"buttonRef",o.a.createRef()),e}return t=a,(n=[{key:"componentWillUnmount",value:function(){this.props.setAuthMessengerError("")}},{key:"componentDidUpdate",value:function(e){var t=this;!e.shouldErrorDisappear&&this.props.shouldErrorDisappear&&setTimeout((function(){t.props.setAuthMessengerError("")}),6e3)}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.isCaptchaRequired;return n?o.a.createElement(Ze,{handleCaptcha:this.props.handleCaptcha}):o.a.createElement(o.a.Fragment,null,o.a.createElement(Ee.a,{size:"l",view:"default",type:"button",width:"max",controlRef:this.buttonRef,onClick:this.props.sendRequestToMessenger,dataT:"auth-messenger"},o.a.createElement(we.a,{size:"s",place:"button",type:"key"}),"Войти без пароля"),o.a.createElement(et.a,{visible:Boolean(t&&!n),view:"black",target:"anchor",anchor:this.buttonRef,directions:["bottom-center"],style:{maxWidth:"350px"},keepMounted:!1},o.a.createElement("div",{className:wt("error")},t)),o.a.createElement("div",{className:wt("description")},"Мы отправим вам сообщение для подтверждения входа. Откройте его на устройстве, где вы уже авторизованы"))}}])&&mt(t.prototype,n),r&&mt(t,r),a}(r.Component),jt=Object(i.c)((function(e){var t=e.messengerAuth,n=Object.assign({},K.a,Xe.a,ft),r=t.error&&(n[t.error]||n.global),o="messenger_link.invalidated"===t.error;return{error:r,isCaptchaRequired:"captcha.required"===t.error,shouldErrorDisappear:o}}),(function(e){var t={checkCaptcha:Qe.a,handleCaptcha:function(t){return function(){t.preventDefault(),e(Object(Qe.a)({action:Ke}))}},checkAuthLetterStatus:Ke,setAuthMessengerError:dt.c,sendRequestToMessenger:pt.a};return Object.assign({},Object(h.b)(t,e),{dispatch:e})}))(St);St.propTypes={error:c.a.string,isCaptchaRequired:c.a.bool,shouldErrorDisappear:c.a.bool,setAuthMessengerError:c.a.func.isRequired,sendRequestToMessenger:c.a.func.isRequired,handleCaptcha:c.a.func.isRequired};var Ct=n("ChNA47itMhrlI5HSOuk4"),Rt=n("hbhwtfwpwcJBep3jxV99"),kt=n("6QkgGlmAmJL/UXgTfwXy");n("3edjVwh6RYKvTnOcIRp7");function Pt(e){return(Pt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function At(e,t){return(At=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=xt(e);if(t){var o=xt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Lt(this,n)}}function Lt(e,t){return!t||"object"!==Pt(t)&&"function"!=typeof t?Mt(e):t}function Mt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xt(e){return(xt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function It(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Dt=Object(u.cn)("AuthBySMSButton"),qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&At(e,t)}(a,e);var t,n,r,i=Nt(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),It(Mt(e=i.call(this)),"buttonRef",o.a.createRef()),It(Mt(e),"hideButton",(function(){var t=e.props.setAuthBySMSState;setTimeout((function(){return e.setState({isNotAvailable:!0},(function(){return t({error:""})}))}),1e4)})),It(Mt(e),"onClick",(function(){var t=e.props.submitAuthBySMS;l.a.send([s.G]),t()})),e.state={isNotAvailable:!1},e}return t=a,(n=[{key:"componentDidMount",value:function(){l.a.send([s.qc])}},{key:"componentDidUpdate",value:function(e){var t=this.props.error;t&&e.error!==t&&this.hideButton()}},{key:"render",value:function(){var e=this.props,t=e.error,n=e.isNewTextExp;return this.state.isNotAvailable?null:o.a.createElement(o.a.Fragment,null,o.a.createElement(Ee.a,{size:"l",view:"default",type:"button",width:"max",controlRef:this.buttonRef,onClick:this.onClick,dataT:"auth-by-sms"},o.a.createElement(we.a,{size:"s",place:"button",type:"message"}),n?"Получить смс для входа":"Войти с помощью смс"),o.a.createElement(et.a,{visible:Boolean(t),view:"black",target:"anchor",anchor:this.buttonRef,directions:["bottom-center"],style:{maxWidth:"350px"},keepMounted:!1},o.a.createElement("div",{className:Dt("error"),dangerouslySetInnerHTML:{__html:t}})))}}])&&Tt(t.prototype,n),r&&Tt(t,r),a}(o.a.PureComponent);qt.propTypes={submitAuthBySMS:c.a.func.isRequired,setAuthBySMSState:c.a.func.isRequired,error:c.a.string,isNewTextExp:c.a.bool};var Ut={submitAuthBySMS:kt.d,setAuthBySMSState:kt.c},Bt=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.auth,n=void 0===t?{}:t,r=n.authBySMS,o=void 0===r?{}:r,i=o.error;return{error:i&&(K.a[i]||K.a.global),isNewTextExp:Object(f.j)(e,"sms-auth-on-text1")}}),Ut)(qt),Ft=(n("/uMcgEOqgXqFGRYZsai/"),n("z/Ug44arcHnnmInRoI/0"));function Ht(e){return(Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Wt(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Vt(e,t){return(Vt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Gt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Qt(e);if(t){var o=Qt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Yt(this,n)}}function Yt(e,t){return!t||"object"!==Ht(t)&&"function"!=typeof t?Xt(e):t}function Xt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Qt(e){return(Qt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Jt=Object(u.cn)("RestoreNeoPhonishButton"),Zt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Vt(e,t)}(a,e);var t,n,r,i=Gt(a);function a(){var e;Wt(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Kt(Xt(e=i.call.apply(i,[this].concat(n))),"onClick",(function(){var t=e.props,n=t.switchToModeRestoreLoginWithPhone,r=t.phone;l.a.send('Клик по "Войти с помощью смс" для перехода в восстановление логина'),n({phone:r,processName:Ft.e})})),e}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("div",{className:Jt({v5:!0})},o.a.createElement(I.a,{onClick:this.onClick},"Войти с помощью смс"))}}])&&zt(t.prototype,n),r&&zt(t,r),a}(o.a.PureComponent);Zt.propTypes={switchToModeRestoreLoginWithPhone:c.a.func.isRequired,phone:c.a.string};var $t={switchToModeRestoreLoginWithPhone:n("pXyMpKh7Ee/E8gzuP/VL").a},en=Object(i.c)((function(e){var t=e.auth,n=(void 0===t?{}:t).processedAccount;return{phone:(void 0===n?{}:n).phone}}),$t)(Zt);function tn(e){return(tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nn(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function on(e,t){return(on=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function an(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=sn(e);if(t){var o=sn(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return cn(this,n)}}function cn(e,t){return!t||"object"!==tn(t)&&"function"!=typeof t?un(e):t}function un(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ln(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fn=Object(u.cn)("WelcomePage"),dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&on(e,t)}(a,e);var t,n,r,i=an(a);function a(){var e;nn(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ln(un(e=i.call.apply(i,[this].concat(n))),"maybeRenderOtherAuthMethods",(function(){var t=e.props,n=t.isShowMailAuthBtn,r=t.isShowMessengerAuthBtn,i=t.isShowSMSAuthBtn,a=t.isShowRestoreNeoPhonishButton;return i||r||n||a?o.a.createElement(o.a.Fragment,null,i&&o.a.createElement("div",{className:fn("otherMethod")},o.a.createElement(Bt,null)),r&&o.a.createElement("div",{className:fn("otherMethod")},o.a.createElement(jt,null)),n&&o.a.createElement("div",{className:fn("otherMethod")},o.a.createElement(lt,null)),a&&o.a.createElement("div",{className:fn("otherMethod")},o.a.createElement(en,null))):null})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.setupBackPane,n=e.addUserUrl,r=e.editUrl,o=e.welcomeUrl,i=e.setupMode,a=e.setupPane,c=e.backPane,u=e.hasUnitedAccounts,f=e.updateLoginValue,d=e.enableAuthMailStatus,p=e.account,h=e.login,b=e.isSocialAccount,m=e.isForceMailAuthEnable,y=e.isMailAuthEnabled,g=e.mailAuthExperiment,v=e.disableAuthMailStatus,O=e.hasOnlyOneSuggestedAccount,_=e.neoPhonish;l.a.goal(s.vc),c&&c!==o||(u?O||t(r):t(n)),h||b||!p||!p.login||p.login.startsWith(_.prefix)||f(p.login),m&&!g&&d(),m||!y||g||v(),i("welcome"),a(o)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.updatePasswordValue,n=e.changeNativeInputValue;t(""),n("passwd","")}},{key:"render",value:function(){var e=this.props,t=e.customTagline,n=e.hasSocialButton,r=e.isShowPasswordField,i=e.isShowMailAuthBtn,a=e.isShowMessengerAuthBtn,c=e.isForceMailAuthEnable,u=e.isMailAuthCaptchaRequired,s=e.isMessengerAuthCaptchaRequired;return o.a.createElement(Ct.a,{cls:"welcome",dataT:"welcome"},o.a.createElement(Rt.a,null,o.a.createElement("span",{dangerouslySetInnerHTML:{__html:t}})),(!i||i&&!u)&&(!a||a&&!s)&&o.a.createElement(o.a.Fragment,null,o.a.createElement(Ie,{hasSocialButton:n,isForceMailAuthEnable:c}),n&&o.a.createElement(Ye,{isShowPasswordField:r})),this.maybeRenderOtherAuthMethods())}}])&&rn(t.prototype,n),r&&rn(t,r),a}(r.Component);dn.propTypes={addUserUrl:c.a.string.isRequired,editUrl:c.a.string.isRequired,welcomeUrl:c.a.string.isRequired,backPane:c.a.string,hasUnitedAccounts:c.a.bool.isRequired,customTagline:c.a.string.isRequired,account:c.a.shape({login:c.a.string}).isRequired,login:c.a.string,hasSocialButton:c.a.bool.isRequired,isShowPasswordField:c.a.bool.isRequired,isShowMailAuthBtn:c.a.bool.isRequired,isForceMailAuthEnable:c.a.bool.isRequired,isSocialAccount:c.a.bool.isRequired,isShowMessengerAuthBtn:c.a.bool,updatePasswordValue:c.a.func.isRequired,updateLoginValue:c.a.func.isRequired,setupBackPane:c.a.func.isRequired,setupMode:c.a.func.isRequired,setupPane:c.a.func.isRequired,changeNativeInputValue:c.a.func.isRequired,enableAuthMailStatus:c.a.func.isRequired,isMailAuthEnabled:c.a.bool,mailAuthExperiment:c.a.string,disableAuthMailStatus:c.a.func.isRequired,hasOnlyOneSuggestedAccount:c.a.bool.isRequired,isMailAuthCaptchaRequired:c.a.bool.isRequired,isMessengerAuthCaptchaRequired:c.a.bool.isRequired,isShowSMSAuthBtn:c.a.bool.isRequired,isShowRestoreNeoPhonishButton:c.a.bool,neoPhonish:c.a.shape({prefix:c.a.string})};t.a=Object(i.c)((function(e){var t=e.common,n=t.addUserUrl,r=t.editUrl,o=t.welcomeUrl,i=t.backPane,a=t.neoPhonish,c=e.auth,u=c.processedAccount,s=c.form,l=s.login,h=s.isForceOTP,b=c.unitedAccounts,m=void 0===b?{}:b,y=c.isWelcomePageTitleExp,g=c.suggestedAccounts,v=void 0===g?[]:g,O=e.customs.tagline,_=e.social.providers,E=e.mailAuth,w=E.mailAuthExperiment,S=E.mailAuthError,j=E.isUpdatedAuthLetterStatus,C=e.messengerAuth,R=C.isEnabled,k=C.error,P=u||{},T=P.phone,A=P.allowed_auth_methods,N=void 0===A?[]:A,L=P.preferred_auth_method,M=P.primaryAliasType,x=Object.keys(m).length>0,I=Object(d.b)(M)===d.a.LITE||"magic_link"===L,D=L||"password";N.indexOf("otp")>-1&&h&&(D="otp");var q=_.filter((function(e){var t=e.data;return"social_".concat(t.code)===D||N.includes("social_".concat(t.code))}))[0]||null,U="Войдите, чтобы продолжить",B=Boolean(N.length&&!N.some((function(e){return-1===e.indexOf("social_")&&"magic_x_token"!==e}))),F=Boolean(p.indexOf(D)>-1&&q)||N.some((function(e){return-1!==e.indexOf("social_")}))||B,H=Boolean("password"===D||N.indexOf("password")>-1),W=Boolean("otp"===D||N.indexOf("otp")>-1),z=Boolean(N.indexOf("magic_link")>-1),V=N.includes("sms_code")&&(Object(f.j)(e,"sms-auth-on")||1===N.length),G=1===N.length&&"magic_link"===N[0]||N.includes("sms_code")&&N.includes("magic_link")&&2===N.length&&!(V&&H),Y=z||j,X=R&&!G,Q=!V&&Y&&X;return y&&((H||!(H||W||F||G))&&(U="Введите пароль"),W&&(U="Введите одноразовый пароль\n"),F&&(U=H?"Введите пароль или войдите через соцсеть\n":"Войдите через соцсеть\n"),G&&(U="Для входа отправьте себе ссылку")),O&&(U=O),{addUserUrl:n,editUrl:r,welcomeUrl:o,backPane:i,hasUnitedAccounts:x,customTagline:U,account:u,login:l,hasSocialButton:F,isShowPasswordField:H,isShowMailAuthBtn:Y&&!Q&&I&&!(V&&H),isShowMessengerAuthBtn:Q,isMailAuthEnabled:I,isMailAuthCaptchaRequired:"captcha.required"===S,isMessengerAuthCaptchaRequired:"captcha.required"===k,isForceMailAuthEnable:G,isMessengerAuthEnabled:X,mailAuthExperiment:w,isSocialAccount:B,hasOnlyOneSuggestedAccount:1===v.length,isShowSMSAuthBtn:V,isShowRestoreNeoPhonishButton:!N.includes("sms_code")&&!!T&&Object(f.j)(e,"domik-neophonish-exp-enable"),neoPhonish:a}}),(function(e){var t={updatePasswordValue:m.Nb,updateLoginValue:m.Lb,setupBackPane:m.xb,setupMode:m.yb,setupPane:b.w,changeNativeInputValue:y.a,enableAuthMailStatus:m.cb,disableAuthMailStatus:m.ub};return Object.assign({},Object(h.b)(t,e),{dispatch:e})}))(dn)},"PNhjLGL/+dZJxs0B6sXF":function(e,t,n){},PTCjo6J79rSoGrbNe64k:function(e,t,n){},"QJ0+ED0Rkc2TUKMaa26f":function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return a}));var r="/auth/register/lite",o="/auth/register/lite/form",i="/auth/register/lite/name",a="/auth/register/lite/eula"},"QVbIF+W9nkHnIvgbpiW3":function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("MJovFwNIrFAmLe5Xoo3c"),u=n.n(c),s=n("DNml7VDdSAs10Z4giKjv"),l=function(e){e.switchToModeMagic,e.isShowQRAuthPromoTooltip;var t=e.isDisabled;return o.a.createElement("div",{className:u()("passp-button passp-sign-in-button",{v5:!0})},o.a.createElement(s.a,{type:"submit",text:"Войти",view:"action",disabled:t,width:"max",size:"auth-l"}),!1)};l.defaultProps={switchToModeMagic:null,isDisabled:!1},l.propTypes={switchToModeMagic:a.a.func,isDisabled:a.a.bool,isShowQRAuthPromoTooltip:a.a.bool}},QZUboBkL0AREziH6yDL7:function(e,t,n){},"QgjbgVDbzfInN/CjWaXi":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"d",(function(){return c}));var r={COMMON:"common",REGISTER:"register",AUTH:"authorize"},o="UPDATE_TRACK_ID",i="DELETE_TRACK_ID",a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t({type:o,payload:e})}},c=function(e){return function(t){return t({type:i,payload:{type:e}})}}},"RV08FYiEn5/EstQbTzdt":function(e,t,n){},"RtoYEtkbxQ+mibaABznE":function(e,t,n){"use strict";var r=n("n4qmQ1un7LO1pUfezZ0B"),o=n.n(r),i=n("TTjMwk/vMtCOdlpvRJfa"),a=n.n(i),c=n("W3MgEIO55ELSFhldjoS/"),u=n("O5/wDFcDcr7psfl422DM"),s=n("BiY5T7IoWQd4oP5CD4Ck"),l=n("eFeAaZwgvdSTBhzajFL3");function f(){return function(e,t){var n=t().common,r=n.backpath,o=n.profile_url,i=r||o;e(Object(s.ib)()),e(Object(l.a)(i))}}var d,p=n("gW+kGIULm/gsAM1O/w51"),h=n("xTYMmTVCxHhb8U90Af7w"),b=n("pxNQ4avko4wnceO2xkt9"),m=n("gGLUm6icyW4lmihzoT4E"),y=n("qyhOylcYgz7sofzu7jFu"),g=function(){return function(e,t){var n=t(),r=n.common,o=r.pane,i=r.socialSuggest;"socialSuggest"!==n.auth.mode&&(e(Object(s.xb)(o)),e(Object(y.w)(i)),e(Object(s.yb)("socialSuggest")),e(Object(m.d)(i)))}},v=n("pljtMiJ6cPwIsouCAJRc"),O=n("Cn0bb7dlXdz9iLHfBkZ3"),_={init:function(e){var t=this;t.setStore(e);var n=t.getStore().getState(),r=n.social.brokerParams.startUrl,o=n.common,i=o.retpath,c=o.backpath,s=o.origin,l=o.isWebView,f=n.settings,d=void 0===f?{}:f,p=n.auth,h=void 0===p?{}:p,b=n.customs,m=void 0===b?{}:b,y=h.process_uuid||d.process_uuid,g=m.display,v={},O=i||"".concat(location.protocol,"//").concat(location.host,"/profile");"yandex"===s&&(O=c||"".concat(location.protocol,"//").concat(location.host,"/profile")),v.resize=1,v.startUrl=r,("popup"===g||"touch"===g||t.isTouch()||l)&&(v.display="touch",v.retnopopup=O),v.process_uuid=y,window.addEventListener?(window.addEventListener("message",t.onSuccess.bind(this)),Object(u.m)("localStorage")&&window.addEventListener("storage",(function(e){e.isTrusted&&"socialResponse"===e.key&&t.emitEventWithDataFromStorage()}))):window.attachEvent&&window.attachEvent("onmessage",t.onSuccess.bind(this)),window.location.origin||(window.location.origin="".concat(window.location.protocol,"//").concat(window.location.hostname)),window.socialResponse=function(e){t.onSuccess({origin:location.origin,data:e})},a.a.init(v)},getStore:function(){return d},isTouch:function(){return o.a.isTouch},setStore:function(e){d=e},maybeEmitEventWithDataFromStorage:function(){var e=this;"socialSuggest"===o.a.util.getCookie("process")&&(d.dispatch(Object(v.b)(!0)),O.a.socialAuthCallback().then((function(t){var n=t.suggest;d.dispatch(Object(v.b)(!1)),e.initSocialSuggestProcess(n),e.clearCookies()})).catch((function(){d.dispatch(Object(v.b)(!1)),e.clearCookies()}))),Object(u.m)("localStorage")&&"socialSuggest"===window.localStorage.getItem("process")&&(this.emitEventWithDataFromStorage(),setTimeout((function(){window.localStorage.removeItem("process")}),2500))},clearCookies:function(){document.cookie="process=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="socialParams=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT;"},emitEventWithDataFromStorage:function(){var e=JSON.parse(window.localStorage.getItem("socialResponse"));e&&(this.onSuccess({origin:location.origin,data:e}),setTimeout((function(){window.localStorage.removeItem("socialResponse")}),2500))},initSocialSuggestProcess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isAM;d.dispatch(Object(y.t)(t)),d.dispatch(Object(b.j)(e)),d.dispatch(g())},onSuccess:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getStore(),n=e.origin,r=e.data,o=void 0===r?{}:r,i=o.socialAuth,a=o.status,u=o.goToMagic,s=o.socialSuggest,l=o.suggest,d=t.getState(),b=d.common,m=b.origin,y=b.pane,g=void 0===y?"":y;if(n===location.origin&&(i||s))if(s)this.initSocialSuggestProcess(l);else if(!g.match(/\/auth\/social/)&&"ok"===a){if(u)return t.dispatch(Object(h.a)(!1));c.a.send(["Успешная авторизация с помощью соц.сети"]),c.a.goal("one_domik_social_auth_sucess"),"yandex"===m?t.dispatch(f()):t.dispatch(Object(p.a)())}},start:function(e){a.a.start(e)}};t.a=_},S74r7q7QxCIW74cV7Iiv:function(e,t,n){},"Sv+DydT6rKBct5kRKGVV":function(e,t,n){"use strict";t.a={"login.can_register":"Такого аккаунта нет","login.empty":"Логин не указан","login.missingvalue":"Необходимо выбрать логин","login.invalid":"Такой логин не подойдет","login.not_available":"Логин введен некорректно или удален","login.prohibitedsymbols":"Такой логин не подойдет","login.startswithdigit":"Такой логин не подойдет","login.long":"Такой логин не подойдет","login.startswithdot":"Такой логин не подойдет","login.startswithhyphen":"Такой логин не подойдет","login.endswithhyphen":"Такой логин не подойдет","login.doubleddot":"Такой логин не подойдет","login.doubledhyphen":"Такой логин не подойдет","login.dothyphen":"Такой логин не подойдет","login.hyphendot":"Такой логин не подойдет","login.endwithdot":"Такой логин не подойдет","login.notavailable":"Логин введен некорректно или удален","account.disabled":'<span data-t="error-text">Аккаунт заблокирован</span>\n<div class="error-descr">Чтобы восстановить доступ к логину, обратитесь в <a href="https://yandex.ru/support/passport/troubleshooting/blocked.html">службу поддержки</a>. Если вы пользуетесь Яндекс.Деньгами, обратитесь в службу поддержки <a href="https://money.yandex.ru/feedback/">Яндекс.Денег</a>.</div>',"account.disabled_on_deletion":"Аккаунт заблокирован","account.global_logout":"Что-то пошло не так. Попробуйте обновить страницу","account.not_found":"Такого аккаунта нет","action.impossible":"Введенные данные нельзя использовать для входа","captcha.invalid":"Символы введены неверно","captcha.empty":"Введите символы с картинки","captcha.not_matched":"Вы неверно ввели символы. Попробуйте еще раз","captcha.required":"Введите символы с картинки","captcha.missingvalue":"Введите символы с картинки","captcha.cannot_locate":"Введите символы с картинки","csrf_token.invalid":"Что-то пошло не так. Проверьте <a class='link link_theme_normal' href='https://yandex.ru/support/common/browsers-settings/browsers-cookies.html' target='_blank'>настройки cookie</a> и перезагрузите страницу","password.empty":"Пароль не указан","password.not_matched_2fa":"Неверный пин-код, одноразовый пароль или логин.","password.not_matched":"Неверный пароль","rfc_otp.invalid":"Неверный пароль","sessionid.overflow":"Список аккаунтов заполнен.",global:"Внутренняя ошибка: обновите страницу и попробуйте еще раз",internal:"Внутренняя ошибка: обновите страницу и попробуйте еще раз","number.empty":"Укажите номер телефона","number.invalid":"Пожалуйста, укажите корректный номер телефона","sms_limit.exceeded":"Превышено количество попыток подтверждения номера телефона. Попробуйте еще раз позже.","phone.confirmed":"Невозможно подтвердить телефон, попробуйте ввести другой номер","phone.blocked":"Номер телефона заблокирован","phone_secure.bound_and_confirmed":"","code.empty":"Укажите код подтверждения","code.invalid":"Неправильный код подтверждения","confirmations_limit.exceeded":"Превышен лимит проверки кода подтверждения. Отмените операцию или запросите код повторно","challenge.confirmations_limit.exceeded":"Превышен лимит проверки кода подтверждения. Попробуйте еще раз позже.","phone.not_found":"Данный номер больше не привязан к аккаунту. Вы можете привязать новый номер на странице управления телефонами.","email.invalid":"Неправильный формат адреса","email.already_confirmed":"Этот адрес уже привязан к вашему аккаунту\n","email.is_native":"Это ваш основной адрес. Его привязать нельзя","email.already_sent":"Слишком много попыток подтверждения для этого адреса, попробуйте позднее","key.empty":"Укажите код подтверждения","email.incorrect_key":"Неправильный код подтверждения","email.key_check_limit_exceeded":"Слишком много попыток ввести код подтверждения. Попробуйте еще раз позднее","email.not_found":"Данный адрес больше не привязан к аккаунту. Вы можете привязать новый адрес на странице управления адресами.","email.empty":"Вы не ввели адрес электронной почты.","email.send_limit_exceeded":"Превышено количество попыток зарегистрироваться с этим адресом электронной почты. Попробуйте использовать другой адрес или повторите попытку позднее.","email_confirmations_limit.exceeded":"Слишком много попыток ввести код подтверждения. Попробуйте еще раз позднее","social_profile.invalid":"Данный профиль больше не привязан к аккаунту. Вы можете привязать новый профиль на странице управления соц.профилями.","account.strong_password_policy_enabled":"При выбранной для вашей учетной записи политике аутентификации авторизация через соц.сети отключена.","social_profile.single_auth_method":"Данный профиль невозможно использовать для входа. Вы можете привязать новый профиль на странице управления соц.профилями.","oauth_token.invalid":"Что-то пошло не так. Войдите в аккаунт с помощью пароля.","track.invalid_state":"Что-то пошло не так. Попробуйте обновить страницу","account.invalid_type":"Не удалось войти данным аккаунтом. Если у вас включена двухфакторная авторизация, используйте для входа Яндекс.Ключ"}},"TTjMwk/vMtCOdlpvRJfa":function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r,o){"use strict";"object"===t(e)&&e.exports?e.exports=o($,n("qaLxyxXzajfFsPDnQ40/")):o(r.$,r.passport)}(this,(function(e,n){"use strict";return"object"!==("undefined"==typeof window?"undefined":t(window))?{}:n.block("broker",{yaWindow:null,defaultParams:{startUrl:"/auth/social/start",retpath:location.protocol+"//"+location.host+"/auth/i-social__closer.html",retnopopup:!1,consumer:"passport",popupName:"social_passport",display:"popup",place:"fragment"},isClosed:function(){var e;if(!this.yaWindow||this.yaWindow&&void 0===this.yaWindow.closed)return!0;try{e=this.yaWindow.closed}catch(t){e=!0}return e},open:function(e){var t,r,o,i,a=this,c="scrollbars=yes, resizable=1, menubar=0, toolbar=0, status=0, location=0, directories=0, left="+Math.round(((window.opera?window.innerWidth:screen.availWidth)-650)/2)+", top="+Math.round(((window.opera?window.innerHeight:screen.availHeight)-370)/2)+", width=650, height=370",u=!1,s={},l=this.url;Object.keys(this.defaultParams).forEach((function(e){s[e]=a.defaultParams[e]})),[].concat(Object.keys(e)).forEach((function(t){s[t]=e[t]})),s.display&&"popup"!==s.display||s.currentWindow?(delete(r=n.util.getUrlParams(window.location.href)).uid,o=Object.keys(r).map((function(e){return e+"="+r[e]})).join("&"),t="https://"+window.location.hostname+window.location.pathname+(o?"?":"")+o,s.retpath=s.retnopopup||t,u=!0):(i="ddom="+(s.ddom||(location.hostname===document.domain?"":document.domain)),s.retpath+=(s.retpath.match("#")?"&":"#")+i,"retnopopup"in s&&delete s.retnopopup),Object.keys(s).forEach((function(e,t){l+=0===t?"?":"&",l+=encodeURIComponent(e)+"="+encodeURIComponent(s[e])})),u?window.location.href=l:(this.yaWindow=window.open(l,this.popupName,c),this.yaWindow&&this.yaWindow.focus())},cleanup:function(){this.isClosed()||this.yaWindow.close(),this.yaWindow=null},start:function(e){this.cleanup(),this.open(e)},init:function(t){this.defaultParams=e.extend(this.defaultParams,t||{}),this.url=this.defaultParams.startUrl,delete this.defaultParams.startUrl}})}))}).call(this,n("x+/oeRxaacaY5YboflTE")(e))},TbBTRc0W3uI5pJ3gFoUv:function(e,t,n){},"Tj+VifeljIkLbukhQzjL":function(e,t,n){"use strict";function r(e,t,n,r){var o=/(&)?(login|phone_number|country)=\2/;return e.replace(o,t&&!n?"$1$2=".concat(t):"").replace(o,n?"$1$2=".concat(encodeURIComponent(n)):"").replace(o,r?"$1$2=".concat(r):"")}n.d(t,"a",(function(){return r}))},"Tn6Zhl6/XLc4oa3r3uvP":function(e,t,n){},VAZ2EjCEkX4ay5t0RU1X:function(e,t,n){"use strict";var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("WE2RsoBXx7uBcYbdhL/w"),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("LzmKygd9FPlNlMcSJp0Y"),s=n("eidTN+99QhledymTSSqQ"),l=n("dbQGcO8bADqwtDqc3mez"),f=n("NH34m/YMyHs61nOqvuoz"),d=n("W3MgEIO55ELSFhldjoS/"),p=n("Sv+DydT6rKBct5kRKGVV"),h=n("icG+8Jgv+BJiTL/fPTrX");var b=n("ZDmX7r9YifVbosUR2qgY"),m=n("Cn0bb7dlXdz9iLHfBkZ3"),y=n("BiY5T7IoWQd4oP5CD4Ck"),g=n("mNaMim9b+xb4df3rV6hq");function v(){return function(e,t){var n=t().common,r=n.profile_url,o={retpath:n.retpath||r,fretpath:n.fretpath,clean:n.clean,origin:n.origin};e(Object(y.bb)(!0)),m.a.request("auth/password/submit",o).done((function(t){var n=t.track_id,r=t.csrf_token;e(Object(y.Mb)(n,r))})).fail((function(){e(Object(g.a)())})).always((function(){return e(Object(y.bb)(!1))}))}}var O=n("qyhOylcYgz7sofzu7jFu"),_=n("buqWOCdf14bbF2aD2r0s"),E=n("68NuQ+EiIUXPlOiVfC2r"),w=n.n(E);function S(e){return function(t,n){var r=n(),o=r.common,i=o.csrf,a=o.retpath,c=o.fretpath,u=o.origin,s=o.from,l=r.auth,f=l.process_uuid,d=l.form.pdd_domain,p={csrf_token:i,login:e};f&&(p.process_uuid=f),a&&(p.retpath=a),c&&(p.fretpath=c),u&&(p.origin=u),s&&(p.service=s),d&&e&&!/@/.test(e)&&(p.login="".concat(p.login,"@").concat(d)),d&&(p.is_pdd="1"),t(Object(y.bb)(!0)),t(Object(y.sb)(null)),t(Object(y.Lb)(e)),m.a.request("auth/multi_step/start",p).done((function(r){var o=r.auth_methods,i=r.preferred_auth_method,a=r.track_id,c=r.csrf_token,u=r.magic_link_email,s=n().auth,l=s.unitedAccounts,f=s.isQRAuthEnabled,d=w()(l,(function(t){return t.login===e}))[0],p=o&&o[0]||"password";if("magic_x_token"===(d=d?Object.assign({},d,{allowed_auth_methods:d.allowed_auth_methods||o||[],preferred_auth_method:d.preferred_auth_method||i||p,email:u}):{isAddedAccount:!0,allowed_auth_methods:o,preferred_auth_method:p,avatarId:"0/0-0",email:u,login:e}).preferred_auth_method&&!f){var h=d.allowed_auth_methods;d.preferred_auth_method=h.filter((function(e){return"magic_x_token"!==e}))[0]||"password"}t(Object(y.Z)(d)),t(Object(y.Ob)(a,c))})).fail((function(){})).always((function(){t(Object(y.bb)(!1))}))}}var j=n("dVdlchGuZyN639S0A3so");var C=Object(u.cn)("MagicField");function R(e){var t,n,r,i=e.trackId,a=e.fieldError,c=e.icon,u=i?{backgroundImage:"url('/auth/magic/code/?track_id=".concat(i,"')")}:{};return o.a.createElement("div",{className:C({hidden:!i})},Boolean(a)&&o.a.createElement("div",{className:C("error",{v5:!0}),dangerouslySetInnerHTML:{__html:a}}),o.a.createElement("div",{className:C("qr",{v5:!0}),style:u},c&&o.a.createElement("span",{className:C("icon",(t={},n=c,r=!0,n in t?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,t))},o.a.createElement(j.a,{type:c,size:"l"}))))}R.propTypes={fieldError:c.a.string,trackId:c.a.string,icon:c.a.oneOf(["yandexKey","yandex2"])};var k=n("ChNA47itMhrlI5HSOuk4"),P=(n("hbhwtfwpwcJBep3jxV99"),n("iYno3SKv/BW0tduPFmp1")),T=n("WJOEWUhuaqB4LU1CIwDt"),A=(n("j3KHLLL5xIofLHChXDFK"),function(){return o.a.createElement("span",{className:"Divider"})}),N=n("MJovFwNIrFAmLe5Xoo3c"),L=n.n(N);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function x(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=F(e);if(t){var o=F(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return U(this,n)}}function U(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?B(e):t}function B(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&D(e,t)}(a,e);var t,n,r,i=q(a);function a(){var e;x(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return H(B(e=i.call.apply(i,[this].concat(n))),"_maybeRenderTitle",(function(){return e.props.hideTitle?null:o.a.createElement("h3",{className:"passp-install-yandex-app-title ".concat("v5")},"Установить Яндекс")})),H(B(e),"_renderIcon",(function(t,n){var r=e.props.lang,i=!r||["ru","uk"].includes(r)?"ru":"en";return o.a.createElement("a",{className:"passp-install-yandex-app-link ".concat("v5"),href:n},o.a.createElement("span",{className:L()(["passp-icon","passp-".concat(t),"passp-".concat(t,"-").concat(i),"v5"])}))})),e}return t=a,(n=[{key:"render",value:function(){return o.a.createElement("div",null,this._maybeRenderTitle(),o.a.createElement("div",{className:"passp-install-yandex-app-links passp-clearfix ".concat("v5")},this._renderIcon("googleplay","https://redirect.appmetrica.yandex.com/serve/458404701881276453?c=passport_bage"),this._renderIcon("appstore","https://redirect.appmetrica.yandex.com/serve/386347106450828605?c=passport_bage")))}}])&&I(t.prototype,n),r&&I(t,r),a}(o.a.PureComponent);W.propTypes={lang:c.a.string.isRequired,hideTitle:c.a.bool};var z=Object(i.c)((function(e){return{lang:Object(h.d)(e)}}))(W),V=n("pCjh69JJ2q8GXY1G76vp");function G(e){return(G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Z(e);if(t){var o=Z(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return K(this,n)}}function K(e,t){return!t||"object"!==G(t)&&"function"!=typeof t?J(e):t}function J(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Z(e){return(Z=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ee=Object(u.cn)("MagicPromoPage"),te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(a,e);var t,n,r,i=Q(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),$(J(t=i.call(this,e)),"renderMagicPromoPageV5",(function(){var e=t.props,n=e.trackId,r=e.fieldError,i=e.addUserUrl,a=e.fallbackLinkText,c=e.texts,u=e.isWebView,l=e.isAccountWith2FA,f=e.language,d=c.descriptionText,p=!f||["ru","uk"].includes(f)?"ru":"en";return o.a.createElement(o.a.Fragment,null,o.a.createElement("h1",{className:ee("title"),dangerouslySetInnerHTML:{__html:d}}),o.a.createElement(R,{trackId:n,fieldError:r,icon:l?"yandexKey":"yandex2-".concat(p)}),o.a.createElement("div",{className:ee("controls")},o.a.createElement(s.a,{href:i,onClick:t.switchToOTP,weight:"medium"},a)),!l&&o.a.createElement(o.a.Fragment,null,o.a.createElement(A,null),!u&&o.a.createElement(z,null)))})),$(J(t),"onCaptchaCheck",(function(){l.a.clearCaptchaState(),l.a.restart()})),$(J(t),"maybeRenderCaptcha",(function(){return t.props.isCaptchaRequired?o.a.createElement(V.a,{onConfirmCallback:t.onCaptchaCheck}):null})),$(J(t),"maybeRenerQR",(function(){var e=t.props,n=(e.trackId,e.fieldError,e.addUserUrl,e.fallbackLinkText,e.texts),r=(e.isAccountWith2FA,e.isWebView,e.isCaptchaRequired);n.descriptionText,n.title;return r?null:t.renderMagicPromoPageV5()})),t.switchToOTP=t.switchToOTP.bind(J(t)),t}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.magicUrl,n=e.login,r=e.setupMode,o=e.setupPane,i=e.authPasswordSubmitForMagic,a=e.multiStepAuthStartForMagic;r("magic"),o(t),d.a.goal(f.xc),d.a.send([f.wc]),n&&a(n),i()}},{key:"componentDidUpdate",value:function(e){e.magicCSRFToken===this.props.magicCSRFToken?e.trackId!==this.props.trackId&&l.a.restart():l.a.restart()}},{key:"componentWillUnmount",value:function(){l.a.clearCaptchaState(),l.a.stop()}},{key:"switchToOTP",value:function(e){e.preventDefault();var t=this.props,n=t.switchToModeAddingAccount,r=t.forceOTPMethod,o=t.login,i=t.addUserUrl,a=t.editUrl,c=t.isSocialAccount,u=t.dispatch;if(o){r(!0);var s=c?a:i;u(Object(P.a)(T.a,{login:o,backPane:s}))}else n()}},{key:"render",value:function(){return o.a.createElement(k.a,{cls:"magic",dataT:"magic"},this.maybeRenderCaptcha(),this.maybeRenerQR())}}])&&Y(t.prototype,n),r&&Y(t,r),a}(r.Component);te.propTypes={addUserUrl:c.a.string.isRequired,editUrl:c.a.string.isRequired,magicUrl:c.a.string.isRequired,trackId:c.a.string,magicCSRFToken:c.a.string,tld:c.a.string.isRequired,fallbackLinkText:c.a.string.isRequired,multiStepAuthStartForMagic:c.a.func.isRequired,login:c.a.string,language:c.a.string,isTouch:c.a.bool.isRequired,isSocialAccount:c.a.bool.isRequired,fieldError:c.a.string,setupMode:c.a.func.isRequired,setupPane:c.a.func.isRequired,dispatch:c.a.func.isRequired,authPasswordSubmitForMagic:c.a.func.isRequired,switchToModeAddingAccount:c.a.func.isRequired,forceOTPMethod:c.a.func.isRequired,texts:c.a.object,isAccountWith2FA:c.a.bool,isWebView:c.a.bool,isCaptchaRequired:c.a.bool};t.a=Object(i.c)((function(e){var t=e.common,n=t.magicUrl,r=t.addUserUrl,o=t.editUrl,i=t.isWebView,a=e.auth,c=a.magicError,u=a.isFromLoginSuggest,s=a.isQRAuthEnabled,l=a.processedAccount,f=a.form.login,d=a.magicTrack,b=a.magicCSRF,m=a.isCaptchaRequired,y=e.settings,g=y.tld,v=y.ua.isTouch,O=l&&l.allowed_auth_methods||[],_=c&&(p.a[c]||p.a.global)||null,E=O.some((function(e){return e.indexOf("social_")>-1})),w=O.indexOf("magic")>-1,S=O.indexOf("magic_x_token")>-1,j=O.includes("magic")&&O.includes("otp"),C=Boolean(s&&(u&&S||!u)),R=Boolean(O.length&&!O.some((function(e){return-1===e.indexOf("social_")&&"magic_x_token"!==e}))),k="Или войдите по одноразовому паролю";return C&&(w||(k=u&&!E?"Войти с помощью пароля":"Войти с помощью пароля или соцсети"),R&&(k="Войти с помощью соцсети"),u||(k="Войти с помощью пароля или соцсети")),{magicUrl:n,addUserUrl:r,editUrl:o,isFromLoginSuggest:u,trackId:d,magicCSRFToken:b,login:f,tld:g,isTouch:v,isWebView:i,fieldError:_,fallbackLinkText:k,isSocialAccount:R,texts:function(e,t){var n='<span class="passp-magic__photo-icon" aria-hidden="true"></span>',r={title:"Войдите с помощью приложения Яндекс",descriptionText:"Откройте приложение Яндекс, нажмите на иконку %icon в поисковой строке и наведите камеру на QR-код".replace("%icon",n)};e||(r.title="Войдите с помощью приложения Яндекс или Яндекс.Ключ",r.descriptionText="Откройте приложение Яндекс или Яндекс.Ключ, нажмите на иконку %icon и наведите камеру на QR-код".replace("%icon",n));t&&(r.title="Войдите с помощью приложения Яндекс.Ключ",r.descriptionText="Откройте приложение Яндекс.Ключ и наведите камеру на QR-код");return r}(f,j),isAccountWith2FA:j,language:Object(h.d)(e),isCaptchaRequired:m}}),(function(e){var t={setupMode:y.yb,setupPane:O.w,switchToModeAddingAccount:_.a,authPasswordSubmitForMagic:v,multiStepAuthStartForMagic:S,forceOTPMethod:y.db};return Object.assign({},Object(b.b)(t,e),{dispatch:e})}))(te)},"VXLs6oAydZN+d2v1fSYl":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("BiY5T7IoWQd4oP5CD4Ck");function i(){return function(e,t){var n=t(),i=n.common.welcomeUrl;"welcome"!==n.auth.mode&&(e(Object(o.Hb)()),e(Object(r.d)(i)))}}},VkmWk9mTxwEfU1fL1GZE:function(e,t,n){},"W3MgEIO55ELSFhldjoS/":function(e,t,n){"use strict";n.d(t,"b",(function(){return u}));var r=n("MXMQwgl0pPNdNuA+oSOb"),o=n.n(r),i=n("WwZV+0g8pRxIfTSFjg9I"),a=n("z/Ug44arcHnnmInRoI/0"),c={initialized:!1,init:function(e){var t=e.getState(),n=document.querySelector("body").dataset||{},r=n.metricsId,i=n.version,a=n.userType;this.headerMetrics=[t.metrics.header],o.a.init(r,t.metrics.experiments,i,a),this.initialized=!0},setHeader:function(e){this.headerMetrics=[e]},send:function(e){var t=this;this.initialized&&setTimeout((function(){o.a.count(t.headerMetrics.concat(e))}),0)},goal:function(e,t){this.initialized&&o.a.reachGoal(e,t)}};t.a=c;var u=function(){return function(e,t){var n=t(),r=Object(i.c)(n),o=n.signup,u=void 0===o?{}:o,s=n.metrics,l=void 0===s?{}:s,f=u.mode,d=l.header;return r===a.g?(c.setHeader("Восстановление логина"),void c.send("Показ восстановления")):r===a.e?(c.setHeader("Восстановление логина для неофониша"),void c.send("Показ восстановления для неофониша")):Object(i.e)(r)?(c.setHeader("Регистрация ".concat(f)),void c.send("Показ регистрации ".concat(f))):void c.setHeader(d)}}},WJOEWUhuaqB4LU1CIwDt:function(e,t,n){"use strict";n.d(t,"b",(function(){return k})),n.d(t,"a",(function(){return P}));var r=n("68NuQ+EiIUXPlOiVfC2r"),o=n.n(r),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("VXLs6oAydZN+d2v1fSYl"),c=n("xTYMmTVCxHhb8U90Af7w"),u=n("buqWOCdf14bbF2aD2r0s"),s=n("GWbkqWWFGcC2wNwmmBsB"),l=n("Tj+VifeljIkLbukhQzjL"),f=n("W3MgEIO55ELSFhldjoS/"),d=n("NH34m/YMyHs61nOqvuoz");function p(){return function(e,t){var n=t(),r=n.auth.form,o=r.registrationLogin,i=r.registrationType,a=r.registrationPhoneNumber,c=r.registrationCountry,u=n.common,s=u.registration_url_with_params,p=u.lite_registration_url_with_params,h="portal"===i,b=h?s:p;f.a.send([d.Q,h?d.S:d.P]),window.location.href=Object(l.a)(b,o,a,c)}}var h=n("pXyMpKh7Ee/E8gzuP/VL"),b=n("gGLUm6icyW4lmihzoT4E"),m=n("z/Ug44arcHnnmInRoI/0"),y=n("FO5VaR1qDYhXlc1jCgw9"),g=n("ZhSnxcFTtIAlY+v3R+s6"),v=n("O5/wDFcDcr7psfl422DM"),O=n("JR0gMBnH1G7ZT7pBXXBz"),_=n("Hotb6bLBAZw9GrEYBPZD"),E=n("qyhOylcYgz7sofzu7jFu"),w=n("icG+8Jgv+BJiTL/fPTrX"),S=n("pljtMiJ6cPwIsouCAJRc"),j=n("Cn0bb7dlXdz9iLHfBkZ3"),C=function(e){return function(t,n){var r=n(),o=r.router,a=void 0===o?{}:o,c=r.common,u=void 0===c?{}:c,s=a.location,l=(void 0===s?{}:s).search,f=u.pane,d="".concat(m.d).concat(l),p=Object(w.m)(r);if(t(Object(O.f)(p?_.b:_.c)),t(Object(E.v)(f)),t(Object(E.w)(d)),t(Object(i.yb)("register")),!e)return t(Object(b.d)(d)),void t(Object(S.b)(!1));j.a.userEntryFlowSubmit().then((function(){return t(Object(y.a)({phone:e,route:d,processName:p?m.b:m.c}))})).catch((function(){t(Object(g.l)(Object(v.b)("global","global"))),t(Object(b.d)(d))}))}},R=n("xSpN8Kyw4VlgAPhFVdtL"),k=function(e){return function(t){t(Object(i.yb)("")),t(P({login:e}))}};function P(e){var t=e.login,n=e.backPane,r=void 0===n?"":n,l=e.isRegister,b=void 0!==l&&l,y=e.isAuthFromSocialSuggest,g=void 0!==y&&y;return function(e,n){var l=n(),y=l.socialSuggest,v=void 0===y?{}:y,O=v.authTrackId,_=v.processUUID,E=Object(w.m)(l);e(Object(i.bb)(!0)),e(Object(i.rb)(!1));var S=l.common,k=S.csrf,P=S.retpath,T=S.fretpath,A=S.origin,N=S.from,L=l.auth,M=L.process_uuid,x=L.form.pdd_domain,I={csrf_token:k,login:t};M&&(I.process_uuid=M),P&&(I.retpath=P),T&&(I.fretpath=T),A&&(I.origin=A),N&&(I.service=N),x&&t&&!/@/.test(t)&&(I.login="".concat(I.login,"@").concat(x)),x&&(I.is_pdd="1"),g&&(I.social_track_id=O,I.process_uuid=_),e(Object(i.Lb)(t)),j.a.request("auth/multi_step/start",I).done((function(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},g=y.allowed_account_types,v=void 0===g?[]:g,O=y.phone_number,_=y.primary_alias_type,S=O&&O.international;if(y.can_register){if(S&&v.includes(R.a.NEOPHONISH)){if(E)return e(C(S));if(Object(w.j)(l,"domik-phone-autostart-on"))return e(Object(h.a)({phone:S,processName:m.e}))}return e(Object(i.T)({isCanRegister:!0,registrationLogin:y.login||t,registrationType:y.account_type||"portal",registrationPhoneNumber:y.phone_number&&y.phone_number.original||"",registrationCountry:y.country||""})),e(Object(i.bb)(!1)),"lite"===y.account_type?void e(Object(s.a)()):b?void e(p()):(e(Object(i.sb)("login.can_register")),f.a.send([d.rc,d.jc,d.kc]),void("magic"===n().auth.mode&&e(Object(u.a)())))}e(Object(i.T)({isCanRegister:!1})),f.a.send([d.rc,d.jc,d.mc]);var j=y.auth_methods,k=y.preferred_auth_method,P=y.track_id,T=y.csrf_token,A=y.magic_link_email,N=n(),L=N.auth,M=L.unitedAccounts,x=L.form.isForceOTP,I=L.isQRAuthEnabled,D=N.settings.ua,q=o()(M,(function(e){return e.login===t}))[0];q=q?Object.assign({},q,{allowed_auth_methods:q.allowed_auth_methods||j||[],preferred_auth_method:q.preferred_auth_method||k||j&&j[0]||"password",email:A,phone:S}):{isAddedAccount:!0,allowed_auth_methods:j,preferred_auth_method:j[0]||"password",avatarId:"0/0-0",email:A,login:t,phone:S},r&&e(Object(i.xb)(r));var U=q.preferred_auth_method;if("magic_x_token"===U&&!I){var B=q.allowed_auth_methods;q.preferred_auth_method=B.filter((function(e){return"magic_x_token"!==e}))[0]||"password"}q.primaryAliasType=_,e(Object(i.Z)(q)),e(Object(i.Ob)(P,T));var F="magic"===U||"magic_x_token"===U&&I,H=D&&D.isTouch;e(!F||x||H?Object(a.a)():Object(c.a)(!0))})).fail((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.phone_number,r=t.errors,o=void 0===r?[]:r,a=t.primary_alias_type,c=n&&n.international,s=o[0];if("action.impossible"===s&&Object(R.b)(a)===R.a.NEOPHONISH)return e(Object(h.a)({phone:c,processName:m.e}));f.a.send([d.rc,d.jc,d.lc,s]),e(Object(i.sb)(s)),e(Object(i.T)({isCanRegister:!1})),t.can_be_restored&&e(Object(i.rb)(!0)),b||e(Object(u.a)())})).always((function(){e(Object(i.bb)(!1))}))}}},WKSiwh2w4AbQ7M4ZZhXj:function(e,t,n){"use strict";n.d(t,"a",(function(){return M}));var r=n("CCXVZ27A5l6hmPXwLTrH"),o=n("Kgh9kKUzqRPXqIsdiAKz"),i=n("etT0u9nWCwE0v9oNNR28"),a=n("PFkJ+x8U9pDZf+GYtiPc"),c=n("VAZ2EjCEkX4ay5t0RU1X"),u=n("0xnSXkruYfyBM/j8Ku9B"),s=n("FBB4UUWfM/iz0AJy2xMy"),l=n("mJL0XUsWpGmKhULiOoZ/"),f=n("z/Ug44arcHnnmInRoI/0"),d=n("QJ0+ED0Rkc2TUKMaa26f");function p(e){return y(e)||m(e)||b(e)||h()}function h(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function m(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function y(e){if(Array.isArray(e))return g(e)}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v={fallback:Object(s.a)()},O=Object(r.a)({chunkName:function(){return"PhoneRequestPage"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(12).then(n.bind(null,"NQr4v8dAbvaVT3S5lmkg"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"NQr4v8dAbvaVT3S5lmkg"}},v),_=Object(r.a)({chunkName:function(){return"EmailRequestPage"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(8).then(n.bind(null,"i6c5EFyh9+cUL3g3J2HQ"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"i6c5EFyh9+cUL3g3J2HQ"}},v),E=Object(r.a)({chunkName:function(){return"RegisterLitePasswordForm"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(17).then(n.bind(null,"5tFqrn6BKyQQDLnVufDU"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"5tFqrn6BKyQQDLnVufDU"}},v),w=Object(r.a)({chunkName:function(){return"PreRegisterPage"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(13).then(n.bind(null,"YUoOdg4TO4zaLopJtrl8"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"YUoOdg4TO4zaLopJtrl8"}},v),S=Object(r.a)({chunkName:function(){return"RegisterLiteEnterCode"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(14).then(n.bind(null,"d5ThvD39kOgM7pDgYAMm"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"d5ThvD39kOgM7pDgYAMm"}},v),j=Object(r.a)({chunkName:function(){return"RegisterLiteNameForm"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(16).then(n.bind(null,"7AAvnCHZeZnphPhFzWNV"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"7AAvnCHZeZnphPhFzWNV"}},v),C=Object(r.a)({chunkName:function(){return"AvatarRequestPage"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(1).then(n.bind(null,"hZu+lvNlDjcepZ/ibhsF"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"hZu+lvNlDjcepZ/ibhsF"}},v),R=Object(r.a)({chunkName:function(){return"RegisterLiteEula"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(15).then(n.bind(null,"EWjZrwhEiPFunn9qb7+L"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"EWjZrwhEiPFunn9qb7+L"}},v),k=Object(r.a)({chunkName:function(){return"Challenge"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(6).then(n.bind(null,"AXXSJdxrT7DT6NLQxayS"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"AXXSJdxrT7DT6NLQxayS"}},v),P=Object(r.a)({chunkName:function(){return"AuthWithLetterPage"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(0).then(n.bind(null,"xz+Qay54QQMi9sNc8oaS"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"xz+Qay54QQMi9sNc8oaS"}},v),T=Object(r.a)({chunkName:function(){return"UserEntryFlow"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(22).then(n.bind(null,"oDx8Re+OlceVZEulT7TD"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"oDx8Re+OlceVZEulT7TD"}},v),A=Object(r.a)({chunkName:function(){return"SignUp"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(20).then(n.bind(null,"e/hMyg5KemEY1L9oejpn"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"e/hMyg5KemEY1L9oejpn"}},v),N=Object(r.a)({chunkName:function(){return"ChangePassword"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(7).then(n.bind(null,"uBUCxIPo8km7Bv5IFZxr"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"uBUCxIPo8km7Bv5IFZxr"}},v),L=Object(r.a)({chunkName:function(){return"SocialSuggest"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(21).then(n.bind(null,"mhPfjOk2QVqKfaVLL7SU"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"mhPfjOk2QVqKfaVLL7SU"}},v);function M(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=[{path:"/auth",exact:!0,component:i.a},{path:"/auth/list",exact:!0,component:o.a},{path:"/auth/add",exact:!0,component:i.a},{path:"/auth/magic",exact:!0,component:c.a},{path:"/auth/welcome",exact:!0,component:a.a},{path:"/auth/link",exact:!0,component:P},{path:"/auth/preregister",exact:!0,component:w},{path:"/register/link",exact:!0,component:P},{path:"/auth/phone",exact:!0,component:e.isAdditionalDataRequestEnabled?O:o.a},{path:"/auth/email",exact:!0,component:e.isAdditionalDataRequestEnabled?_:o.a},{path:"/auth/avatar",exact:!0,component:e.isAdditionalDataRequestEnabled?C:o.a},{path:"/auth/challenge",exact:!0,component:k},{path:f.h,exact:!0,component:T},{path:f.f,exact:!0,component:T},{path:d.d,exact:!0,component:S},{path:d.c,exact:!0,component:E},{path:d.b,exact:!0,component:j},{path:d.a,exact:!0,component:R},{path:"/auth/phoneconfirm",exact:!0,component:u.a},{path:f.d,exact:!0,component:A},{path:"/auth/changepassword",exact:!0,component:N},{path:"/auth/social-suggest",exact:!0,component:L}];return[].concat(t,p(l.a))}},WXSxAzVwsX9PLjrFrpaR:function(e,t,n){},"Wbju/Ucu1iAZfuajMnSM":function(e,t,n){},"WiYX8/zkxBCHx90Q2RVM":function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("2XiBpSUPIXqJnJWBL+lj"),o=n.n(r),i=n("8SCZFIl/r0BKJR1Q9GmD"),a=n.n(i);function c(e){return String(e).length<2?"0".concat(e):String(e)}function u(e){var t=e.startTime,n=e.endTime,r=e.isUnixTimeStamp,o=function(e,t,n){return e>t?0:n?Math.floor((t-e)/60):Math.floor((t-e)/1e3/60)}(t,n,r),i=function(e,t,n){return e>t?0:n?Math.floor((t-e)%60):Math.floor((t-e)/1e3%60)}(t,n,r);return a.a.createElement("span",{className:"phone-confirmation-timer"},c(o),":",c(i))}u.propTypes={startTime:o.a.number.isRequired,endTime:o.a.number.isRequired,isUnixTimeStamp:o.a.bool}},WlPi4ffSX0L5iiVPiVYK:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return o})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"j",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return p}));var r="SET_CHANGE_PASSWORD_DATA",o="SET_CHANGE_PASSWORD_STEP",i="SET_CHANGE_PASSWORD_PHONE_STATUS",a="SET_CHANGE_PASSWORD_QUESTION",c="SET_PHONE_NUMBER_UPDATED",u="SET_CHANGE_PASSWORD_PHONE_WARNING";function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:r,payload:e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"captcha";return{type:o,payload:e}}function f(e){return{type:u,payload:e}}function d(e){return{type:c,payload:e}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{type:i,payload:e}}},"WwZV+0g8pRxIfTSFjg9I":function(e,t,n){"use strict";n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l})),n.d(t,"d",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"g",(function(){return b}));var r=n("O5/wDFcDcr7psfl422DM"),o=n("icG+8Jgv+BJiTL/fPTrX"),i=n("Hotb6bLBAZw9GrEYBPZD"),a=n("joROYenWse71KCSIszZL"),c=n("z/Ug44arcHnnmInRoI/0"),u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.router,n=void 0===t?{}:t,a=e.common,u=void 0===a?{}:a,s=e.signup,l=void 0===s?{}:s,f=n.location,d=void 0===f?{}:f,p=l.mode,h=u.pane,b=d.pathname,m=Object(r.k)("/"===b?h:b),y=Object(o.m)(e);if(p===i.a)return c.a;switch(m){case c.d:return y?c.b:c.c;case c.h:return c.g;case c.f:return c.e;default:return}},s=function(e,t){var n=f(t);return n[n.indexOf(e)+1]},l=function(e,t){var n=f(t);return n[n.indexOf(e)-1]},f=function(e){switch(e){case c.c:return a.c;case c.b:return a.b;case c.g:case c.e:default:return a.a}},d=function(e,t){return f(e).includes(t)},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[c.b,c.c,c.a].includes(e)},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return[c.g,c.e].includes(e)},b=function(e,t){return function(e){return h(e)||p(e)}(e)&&t&&t!==f(e)[0]}},"XSW/Ws0GfcHP1epopRkN":function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("mNaMim9b+xb4df3rV6hq");function a(e){return function(t,n){var a=n(),c=a.settings.ua,u=a.common,s=u.profile_url,l=u.csrf,f=u.yu,d=u.retpath,p=c&&c.isTouch,h={csrf_token:l,retpath:d||s,uid:e,yu:f};t(Object(o.bb)(!0)),r.a.request("auth/logout_and_forget",h).done((function(){t(Object(i.a)()),p&&t(Object(o.W)(!1))})).fail((function(){t(Object(i.a)())})).always((function(){return t(Object(o.bb)(!1))}))}}},XbqLvwu4QlUqfJQqjw3N:function(e,t,n){"use strict";function r(){var e=new Date;e.setDate(e.getDate()+7),document.cookie="qr_auth_promo=".concat((new Date).toUTCString(),";expires=").concat(e.toUTCString())}n.d(t,"a",(function(){return r}))},"YGKqAHV1POlG7uih+owy":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("gW+kGIULm/gsAM1O/w51"),a=n("NoFeXeyUaLnlF3HDY2SY"),c=n("AeLhLclXWlGhw6c78Mpd"),u=n("mdXLC9fJiJb4bctGYyqB");function s(e){return function(t,n){if(!e||!e.trim())return t(Object(a.q)(["email.empty"])),void t(Object(o.bb)(!1));var s=n(),l=s.additionalDataRequest.track_id,f=s.auth,d=f.processedAccount,p=f.defaultAccount,h=s.common,b=h.profile_url,m=h.csrf,y=d||p,g={email:e,track_id:l,csrf_token:m,validator_ui_url:b,retpath:b,code_only:"yes",uid:y?y.uid:""};t(Object(a.n)()),r.a.request("email/send_confirmation_email_v2",g).done((function(){t(Object(u.a)("request_email_confirmation_code","Показ привязки емейла","Отправка кода")),t(Object(a.o)()),t(Object(o.bb)(!1)),t(Object(o.Y)(!0)),t(Object(o.X)("emailConfirmation"))})).fail((function(e){for(var n=e.errors.length,r=0;r<n;r++){var u=e.errors[r];if("password.required"===u)return void t(Object(c.a)());if("email.already_confirmed"===u)return void t(Object(i.a)())}t(Object(a.q)(e.errors)),t(Object(o.bb)(!1))}))}}},YikTYrtc92biTR7Dkq5Q:function(e,t,n){},Yp2QB2jYYmLrYZQDlfoW:function(e,t,n){"use strict";n.d(t,"r",(function(){return o})),n.d(t,"v",(function(){return i})),n.d(t,"w",(function(){return a})),n.d(t,"x",(function(){return c})),n.d(t,"y",(function(){return u})),n.d(t,"B",(function(){return s})),n.d(t,"z",(function(){return l})),n.d(t,"A",(function(){return f})),n.d(t,"D",(function(){return d})),n.d(t,"s",(function(){return p})),n.d(t,"t",(function(){return h})),n.d(t,"l",(function(){return b})),n.d(t,"u",(function(){return m})),n.d(t,"k",(function(){return y})),n.d(t,"b",(function(){return g})),n.d(t,"c",(function(){return v})),n.d(t,"e",(function(){return O})),n.d(t,"g",(function(){return _})),n.d(t,"h",(function(){return E})),n.d(t,"j",(function(){return w})),n.d(t,"m",(function(){return S})),n.d(t,"C",(function(){return j})),n.d(t,"E",(function(){return C})),n.d(t,"f",(function(){return R})),n.d(t,"q",(function(){return k})),n.d(t,"a",(function(){return P})),n.d(t,"i",(function(){return T})),n.d(t,"p",(function(){return A})),n.d(t,"n",(function(){return N})),n.d(t,"o",(function(){return L})),n.d(t,"d",(function(){return M})),n.d(t,"G",(function(){return x})),n.d(t,"M",(function(){return I})),n.d(t,"L",(function(){return D})),n.d(t,"N",(function(){return q})),n.d(t,"K",(function(){return U})),n.d(t,"J",(function(){return B})),n.d(t,"H",(function(){return F})),n.d(t,"I",(function(){return H})),n.d(t,"F",(function(){return W}));var r=n("W3MgEIO55ELSFhldjoS/"),o="UPDATE_EMPTY_ERRORS",i="UPDATE_HINT_CUSTOM_QUESTION_STATE",a="UPDATE_HINT_QUESTION_STATES",c="UPDATE_PHONE_CODE_STATE",u="UPDATE_PHONE_STATES_TO_DEFAULTS",s="UPDATE_STATES",l="UPDATE_PHONE_VALUES_TO_DEFAULTS",f="UPDATE_QUESTION_VALUES",d="UPDATE_VALUES",p="UPDATE_ERRORS",h="UPDATE_ERRORS_VALID",b="SET_GROUP_ERRORS",m="UPDATE_GLOBAL_HINT_STATUS",y="SET_FIELD_ERROR_ACTIVE",g="CHANGE_CALL_CONFIRMATION_PROCESS",v="CHANGE_PHONE_CONFIRMATION_TYPE",O="FORCE_CHECKED_CONFIRMATION_CODE",_="HUMAN_CONFIRMATION_DONE",E="SET_CALL_CONFIRMATION_TIMER",w="SET_CONFIRMATION_CODE_LENGTH",S="SET_MAGIC_CONFIRMATION_CODE",j="UPDATE_VALIDATION_METHOD",C="VALIDATE_PHONE_FOR_CALL",R="GET_QUESTIONS_LIST",k="UPDATE_CONFIRMATION_FETCHING_STATUS",P="CHANGE_ACTIVE_FIELD",T="SET_CAPTCHA_REQUIRED",A="TOGGLE_PASSWORD_VISIBILITY_STATE",N="SET_PASSWORD_WEIGHT",L="SUGGEST_PASSWORD",M="CLEAR_FORM";function x(e){return{type:T,isRequired:e}}function I(e){return function(t,n){var o=n().form.prefix;t({type:s,data:e}),"valid"===e.status&&"phone"!==e.field&&(r.a.send(["Успешное заполнение",e.field]),r.a.goal("".concat(o,"_field_valid_").concat(e.field)))}}function D(e){return{type:f,data:e}}function q(e){return{type:d,data:e}}function U(e){return{type:p,data:e}}var B=function(){return function(e){return e({type:A})}},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return t({type:N,payload:{passwordWeight:e}})}},H=function(e){return function(t){return t({type:L,payload:{suggestedPassword:e}})}},W=function(){return function(e){return e({type:M})}}},Z2ZNWAPWvUxXOcR7TeMl:function(e,t,n){},"ZAKFCWeP3Zhpl58Q1j+x":function(e,t,n){},ZIdSoDks8DDSS5hAhLHm:function(e,t,n){},"ZhSnxcFTtIAlY+v3R+s6":function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"h",(function(){return b})),n.d(t,"m",(function(){return y})),n.d(t,"j",(function(){return g})),n.d(t,"k",(function(){return v})),n.d(t,"l",(function(){return O})),n.d(t,"i",(function(){return _})),n.d(t,"g",(function(){return E}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("Yp2QB2jYYmLrYZQDlfoW"),i=n("pljtMiJ6cPwIsouCAJRc"),a=n("QgjbgVDbzfInN/CjWaXi"),c=n("WwZV+0g8pRxIfTSFjg9I"),u=n("W3MgEIO55ELSFhldjoS/"),s="[USER_ENTRY_FLOW] CHANGE_STEP",l="[USER_ENTRY_FLOW] CLEAR_STATE",f="[USER_ENTRY_FLOW] SET_USER_ENTRY_PROCESSED_UID",d="[USER_ENTRY_FLOW] SET_PROCESS_ERROR",p="[USER_ENTRY_FLOW] CLEAR_PROCESS_ERROR",h="[USER_ENTRY_FLOW] CAPTCHA_IS_REQUIRED",b=function(e){return function(t){return t({type:s,payload:{step:e}})}},m=function(){return function(e){return e({type:l})}},y=function(e){return function(t){return t({type:f,payload:{processedUid:e}})}},g=function(){return function(e){e(Object(i.b)(!0)),r.a.userEntryFlowSubmit().then((function(){e(m()),e(Object(o.F)()),e(Object(i.b)(!1))}))}},v=function(){return function(e,t){var n=t(),r=Object(c.c)(n);Object(c.f)(r)||Object(c.e)(r)||(e(Object(u.b)()),e(m()),e(Object(o.F)()),e(Object(a.d)(a.b.REGISTER)))}},O=function(e){return function(t){return t({type:d,payload:{processError:e}})}},_=function(){return function(e){return e({type:p})}},E=function(e){return function(t){return t({type:h,payload:{isCaptchaRequired:e}})}}},ZpVThOZhgeN4RkiIZ2L8:function(e,t,n){},"aBOA/NaJiKvwJlS5xFGk":function(e,t,n){},"aS2ZYnAbJ8g/EILNnmO/":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("NoFeXeyUaLnlF3HDY2SY"),a=n("gW+kGIULm/gsAM1O/w51"),c=n("AeLhLclXWlGhw6c78Mpd"),u=n("mdXLC9fJiJb4bctGYyqB");function s(e){return function(t,n){if(!e||!e.trim())return t(Object(i.q)(["number.empty"])),void t(Object(o.bb)(!1));var s=n(),l=s.additionalDataRequest,f=l.track_id,d=l.action,p=s.settings.lang,h=s.common.csrf,b={number:e,track_id:f,csrf_token:h,display_language:p};t(Object(i.n)()),r.a.request("phone/confirm_and_bind_secure/submit_v2",b).done((function(e){t(Object(u.a)("request_phone_confirmation_code","secure"===d?"Показ превращения телефона в защищенный":"Показ привязки телефона","Отправка кода")),t(Object(i.p)(e)),t(Object(o.bb)(!1)),t(Object(o.Y)(!0)),t(Object(o.X)("additionalDataRequestPhoneConfirmation"))})).fail((function(e){for(var n=e.errors.length,r=0;r<n;r++){var u=e.errors[r];if("password.required"===u)return void t(Object(c.a)());if("phone.confirmed"===u||"phone_secure.bound_and_confirmed"===u)return void t(Object(a.a)())}t(Object(i.q)(e.errors)),t(Object(o.bb)(!1))}))}}},bgXyrsqSC6Iqs5Ce6LQm:function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"a",(function(){return y}));var r=n("icG+8Jgv+BJiTL/fPTrX"),o=n("pljtMiJ6cPwIsouCAJRc"),i=n("1hgyDyPvGAR756qJDrVH"),a=n("NH34m/YMyHs61nOqvuoz"),c=n("BiY5T7IoWQd4oP5CD4Ck"),u=n("ZhSnxcFTtIAlY+v3R+s6"),s=n("DykVKCzoc0ACbI/E+LI/"),l=n("QgjbgVDbzfInN/CjWaXi"),f=n("Yp2QB2jYYmLrYZQDlfoW"),d=n("JLFc6U7sd0PMI6Bh60mb"),p=n("O5/wDFcDcr7psfl422DM"),h=n("W3MgEIO55ELSFhldjoS/"),b=n("Cn0bb7dlXdz9iLHfBkZ3"),m=function(e){var t=e.trackId,n=e.firstname,f=e.lastname,d=e.uid;return function(e,m){var y=m(),g=Object(r.f)(y),v=y.auth,O=(void 0===v?{}:v).isChallengeExperiment;e(Object(o.b)(!0)),b.a.neoPhonishAuth({trackId:t,firstname:n,lastname:f,uid:d,retpath:g}).then((function(n){var r=n.status,f=n.redirectUrl,m=n.state,y=n.retpath;if("ok"===r)return"auth_challenge"===m&&O?(e(Object(o.b)(!1)),void e(Object(i.a)())):m&&f?window.location=f:(h.a.goal(a.Ec),h.a.send([a.Gc]),window.location=y||g);var v=n.errors,_=(void 0===v?[]:v)[0];if("phone.not_confirmed"===_)return b.a.getTrack({trackId:t,type:l.b.AUTH}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.id;n?(e(Object(s.m)(n)),e(Object(c.Y)(!0)),e(Object(u.m)(d)),e(Object(c.X)("neoPhonishAuthConfirmationBySMS"))):e(Object(u.l)(Object(p.b)("global","global"))),e(Object(o.b)(!1))}));e(Object(c.Y)(!1)),e(Object(u.l)(Object(p.b)("neoPhonishAuth",_))),e(Object(o.b)(!1))}))}},y=function(){return function(e,t){var n=t(),i=Object(r.c)(n),a=n.userEntryFlow,c=(void 0===a?{}:a).processedUid,u=i.lastname,s=i.firstname,h=i.phoneCode,y=Object(r.h)(n,l.b.AUTH);e(Object(o.b)(!0));var g=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors,r=void 0===n?[]:n,i=r[0]||"global";e(Object(f.K)({field:d.a.PHONE_CODE,error:i?Object(p.d)(d.a.PHONE_CODE,i):{}})),e(Object(o.b)(!1))};b.a.checkPhoneConfirmationCode({trackId:y,code:h}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.status;if("ok"===n)return e(m({trackId:y,firstname:s,lastname:u,uid:c}));g(t)})).catch(g)}}},buqWOCdf14bbF2aD2r0s:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("BiY5T7IoWQd4oP5CD4Ck");function i(){return function(e,t){var n=t(),i=n.common,a=i.addUserUrl,c=i.editUrl,u=n.auth,s=u.unitedAccounts,l=void 0===s?{}:s;"addingAccount"!==u.mode&&(e(Object(r.d)(a)),Object.keys(l).length>0?e(Object(o.xb)(c)):e(Object(o.xb)(null)),e(Object(o.Bb)()))}}},"cCsJhDurSV+F+c6HRDdv":function(e,t,n){},"cJlaO6MSz/2v/QKKIWdS":function(e,t,n){},"cVaAHdyqK6SlfOPrCbC+":function(e,t,n){"use strict";var r=n("gGLUm6icyW4lmihzoT4E"),o=n("JR0gMBnH1G7ZT7pBXXBz"),i=n("qyhOylcYgz7sofzu7jFu"),a=n("BiY5T7IoWQd4oP5CD4Ck"),c=n("Yp2QB2jYYmLrYZQDlfoW"),u=n("Hotb6bLBAZw9GrEYBPZD"),s=n("WwZV+0g8pRxIfTSFjg9I"),l=n("z/Ug44arcHnnmInRoI/0"),f=n("icG+8Jgv+BJiTL/fPTrX");t.a=function(){return function(e,t){var n=t(),d=Object(s.c)(n),p=n.router.location.search,h=n.common.pane,b=n.auth.form,m=(void 0===b?{}:b).registrationLogin,y="".concat(l.d).concat(p),g=Object(f.m)(n);m&&!Object(s.f)(d)&&e(Object(c.N)({field:"login",value:m})),e(Object(o.f)(g?u.b:u.c)),e(Object(i.v)(h)),e(Object(i.w)(y)),e(Object(a.yb)("register")),e(Object(r.d)(y))}}},cl5p1VNJPxMsdzFaKkak:function(e,t,n){},"dAGfnUp/rB778nDNddYC":function(e,t,n){},dVdlchGuZyN639S0A3so:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));n("8Zjs+cCPrA64RAPuS6BW");var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("LzmKygd9FPlNlMcSJp0Y");function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=Object(c.cn)("PasspIcon"),l=function(e){var t,n=e.size,r=void 0===n?"s":n,i=e.type,a=e.place,c=e.withHover,l=e.dataT,f=e.fillParent;return o.a.createElement("span",{className:s((t={},u(t,i,!0),u(t,"size",r),u(t,"place",a),u(t,"withHover",c),u(t,"fill",f),t)),"data-t":l?"icon:".concat(i,":").concat(l):"icon:".concat(i)})};l.propTypes={size:a.a.oneOf(["s","m","l"]),type:a.a.string.isRequired,place:a.a.oneOf(["button"]),dataT:a.a.string,withHover:a.a.bool,fillParent:a.a.bool}},dbQGcO8bADqwtDqc3mez:function(e,t,n){"use strict";var r=n("BiY5T7IoWQd4oP5CD4Ck"),o=n("FUZ6AA4Oce8/2wMDn7Ki"),i=n("mNaMim9b+xb4df3rV6hq"),a=n("Cn0bb7dlXdz9iLHfBkZ3");function c(){return function(e,t){var n=t().common,o=n.csrf,i=n.retpath,c={csrf_token:o};i&&(c.retpath=i),a.a.request("reAuthPasswordSubmit",c).done((function(t){var n=t.track_id,o=t.csrf_token;e(Object(r.Mb)(n,o))}))}}var u,s=n("NH34m/YMyHs61nOqvuoz"),l=n("W3MgEIO55ELSFhldjoS/"),f={init:function(e){this.setStore(e)},onSuccess:function(e){var t;if(e.origin===location.origin&&e.data.socialAuth){var n=this.getStore(),o=n.getState,a=n.dispatch;(t=o()).common.retpath?Object(r.hb)(t.common.retpath):a(Object(i.a)())}},setStore:function(e){u=e},getStore:function(){return u},start:function(e){this.restart(e)},restart:function(){var e=this,t=this.getStore().getState();e.track_id=t.auth.magicTrack,e.csrf_token=t.auth.magicCSRF,e.trackNotFoundErrorCount=0,e.timeoutErrorCount=0,e.stop(),e._interval=300,window.intervalTimeout=setTimeout((function(){e._interval=1e3}),6e4),window.redirectTimeout=setTimeout((function(){window.location.reload(!0)}),6e5),e._stopped=!1,e.restartPolling()},restartPolling:function(){var e=this;e._stopped||setTimeout((function(){e.poll()}),e._interval)},poll:function(){var e=this,t=$.ajax("/auth/new/magic/status/",{data:{track_id:e.track_id,csrf_token:e.csrf_token},dataType:"json",timeout:1e4,type:"POST"}),n=e.getStore().dispatch;t.fail((function(){e.timeoutErrorCount>1&&(e.stop(),n(Object(r.tb)("global"))),e.timeoutErrorCount++,e.restartPolling()})),t.done((function(t){var i;if("ok"===t.status&&"otp_auth_finished"===t.state)return e.stop(),l.a.goal(s.Ec),void(window.location.href="/auth/finish/?track_id=".concat(e.track_id));if(t.errors){if("password.not_matched"===(i=t.errors[0])&&(i="password.not_matched_2fa"),"captcha.required"===i)return e.stop(),n(Object(o.s)(e.track_id)),void n(Object(r.U)(!0));"track.not_found"===i&&(e.trackNotFoundErrorCount>5&&(e.stop(),n(Object(r.tb)(i)),n(c())),e.trackNotFoundErrorCount++),-1===["internal.temporary","backend.redis_failed","track.not_found","oauth_token.invalid"].indexOf(i)&&(e.stop(),n(Object(r.tb)(i)),n(c()))}e.restartPolling()}))},clearCaptchaState:function(){(0,this.getStore().dispatch)(Object(r.U)(!1))},stopPoll:function(){this._stopped=!0},stop:function(){this.stopPoll(),clearTimeout(window.intervalTimeout),clearTimeout(window.redirectTimeout)}};t.a=f},"e6fi0z4bwe1BU2sE+5ao":function(e,t,n){},eFeAaZwgvdSTBhzajFL3:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("BiY5T7IoWQd4oP5CD4Ck"),o=n("gGLUm6icyW4lmihzoT4E");function i(e){return function(t,n){var i=n(),a=i.common.editUrl,c=i.auth,u=(void 0===c?{}:c).mode;t(Object(r.bb)(!0)),"edit"!==u&&t(Object(o.e)(a)),Object(r.hb)(e)}}},"eidTN+99QhledymTSSqQ":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));n("rcoeJT4Xdzr18jRua7yb");var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("0jVWG83ZTs4TpuBBoE+u"),u=n("ULpF4omb+W3Nb+vEXH3Z"),s=n("Kg3nI9o1xJ8QK2NQvqo+"),l=n("QAgDBhO9DveyKBYojgoP"),f=(n("0VJ4vD9W0mPXlm3h1gEP"),n("GI39hmyv+hRMGQo4z96Q")),d=Object(c.withBemMod)(Object(f.b)(),{weight:"medium"}),p=Object(c.withBemMod)(Object(f.b)(),{weight:"bold"});function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var m=Object(c.compose)(u.a,d,p,s.a)(l.a),y=function(e){var t=e.view,n=void 0===t?"default":t,r=e.dataT,i=b(e,["view","dataT"]);return o.a.createElement(m,h({view:n,"data-t":r?"link:".concat(n,":").concat(r):"link:".concat(n)},i))};y.propTypes={target:a.a.string,view:a.a.string,href:a.a.string,dataT:a.a.string,pseudo:a.a.bool,weight:a.a.oneOf(["normal","medium","bold"])}},etT0u9nWCwE0v9oNNR28:function(e,t,n){"use strict";var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("WE2RsoBXx7uBcYbdhL/w"),a=n("MJovFwNIrFAmLe5Xoo3c"),c=n.n(a),u=n("2XiBpSUPIXqJnJWBL+lj"),s=n.n(u),l=n("NH34m/YMyHs61nOqvuoz"),f=n("iYno3SKv/BW0tduPFmp1"),d=n("WJOEWUhuaqB4LU1CIwDt"),p=n("Tj+VifeljIkLbukhQzjL"),h=n("icG+8Jgv+BJiTL/fPTrX");var b=n("ZDmX7r9YifVbosUR2qgY"),m=n("xTYMmTVCxHhb8U90Af7w"),y=n("GWbkqWWFGcC2wNwmmBsB"),g=n("cVaAHdyqK6SlfOPrCbC+"),v=n("BiY5T7IoWQd4oP5CD4Ck");var O=n("6OWwt9yvRw7ShcN4G3nV"),_=n("Sv+DydT6rKBct5kRKGVV"),E=n("W3MgEIO55ELSFhldjoS/"),w=n("uK9xiV8SwhymVpEWNYWz");var S=n("AFgMZ7oQJHD2/+zDS46y"),j=n("gGLUm6icyW4lmihzoT4E"),C=n("Cn0bb7dlXdz9iLHfBkZ3"),R=n("qyhOylcYgz7sofzu7jFu"),k=n("qNly8dhllnc8zlQVzo3x");function P(){return function(e,t){var n=t(),r=n.common.restoreLoginUrl;"restoreLogin"!==n.auth.mode&&(e((function(e){e(Object(v.bb)(!0)),e(Object(k.q)()),C.a.request("auth/restore_login/submit").done((function(t){return e(Object(R.A)(t.track_id))})).fail((function(){return e(Object(k.r)(["internal"]))})).always((function(){return e(Object(v.bb)(!1))}))})),e(Object(v.Gb)()),e(Object(j.d)(r)))}}function T(e){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function N(e,t){return(N=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function L(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=I(e);if(t){var o=I(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M(this,n)}}function M(e,t){return!t||"object"!==T(t)&&"function"!=typeof t?x(e):t}function x(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function I(e){return(I=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function D(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&N(e,t)}(a,e);var t,n,r,i=L(a);function a(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),D(x(t=i.call(this,e)),"ref",o.a.createRef()),D(x(t),"focus",(function(){t.ref.current&&t.ref.current.focus&&t.ref.current.focus()})),t.fieldOptions={autoCorrect:"off",autoCapitalize:"off",autoComplete:"username"};var n=e.fieldLink,r=e.isRestoreLoginEnabled,c=e.dispatch;return t.fieldLink=Object.assign({},n),r&&(t.fieldLink.onClick=function(){n.onClick(),c(P())}),t}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.isNoTabletTouch||setTimeout(this.focus,300)}},{key:"render",value:function(){var e=this.props,t=e.login,n=e.onChangeLogin,r=e.fieldError,i=e.fieldLabel,a=e.accountDisabledFieldLink,c=e.isShowFieldLink,u=e.isAccountDisabledStatus;return o.a.createElement(S.b,{size:"l",ref:this.ref,label:i,value:t,name:"login",type:"text",error:r,link:u?a:this.fieldLink,options:this.fieldOptions,isShowFieldLink:c,onChange:n,view:"floating-label"})}}])&&A(t.prototype,n),r&&A(t,r),a}(r.Component);q.defaultProps={fieldValue:""},q.propTypes={login:s.a.string.isRequired,onChangeLogin:s.a.func.isRequired,dispatch:s.a.func.isRequired,fieldLink:s.a.shape({url:s.a.string.isRequired,text:s.a.string.isRequired,onClick:s.a.func.isRequired}).isRequired,fieldError:s.a.string.isRequired,fieldLabel:s.a.string.isRequired,accountDisabledFieldLink:s.a.object,isAccountDisabledStatus:s.a.bool,isShowFieldLink:s.a.bool.isRequired,isNoTabletTouch:s.a.bool.isRequired,isRestoreLoginEnabled:s.a.bool.isRequired};var U=Object(i.c)((function(e){var t=e.settings,n=t.isNoTabletTouch,r=t.tld,o=e.common,i=o.restoration_login_url,a=o.restoreLoginUrl,c=o.restoration_url,u=e.auth,s=u.loginError,f=u.isRestoreLoginEnabled,d=u.isRestoreLoginTextExp,p=u.isDefaultTextsExp,h=u.isAbleToRestore,b=u.isAuthButtonAndTextExp,m=u.authButtonAndTextExperimentNumber,y={url:f?a:i,text:d?"Вспомнить логин":"Не помню логин",pseudo:f,onClick:function(){E.a.send([l.rc,l.K])}},g=u.form.login,v={url:h?c.replace("login=login",g?"login=".concat(g):""):"https://yandex.%tld/support/passport/troubleshooting/blocked.html".replace("%tld",r),text:h?"Восстановить доступ":"Обратиться в поддержку",onClick:function(){E.a.send([l.rc,l.K])}},O=function(e){if(!e)return"";if("captcha.required"===e)return"";return Object(w.a)(_.a[e]||_.a.global)}(s),S="account.disabled_on_deletion"===s,j=!O||O!==_.a.global&&-1===["captcha.required","csrf_token.invalid","account.disabled","sessionid.overflow"].indexOf(s),C="Введите логин, почту или телефон";return p&&(C="Введите почту или телефон"),b&&(C=[2,4].includes(m)?"Почта, логин или телефон":"Почта или телефон"),{isNoTabletTouch:n,fieldLink:y,accountDisabledFieldLink:v,fieldError:O,isShowFieldLink:j,isRestoreLoginEnabled:f,isAccountDisabledStatus:S,fieldLabel:C,loginError:s}}))(q),B=n("DNml7VDdSAs10Z4giKjv");function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function W(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function z(e,t){return(z=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function V(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=X(e);if(t){var o=X(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?Y(e):t}function Y(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function X(e){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&z(e,t)}(a,e);var t,n,r,i=V(a);function a(){var e;H(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Q(Y(e=i.call.apply(i,[this].concat(n))),"sendMetrics",(function(){E.a.send([l.rc,l.J])})),Q(Y(e),"onClick",(function(t){var n=e.props,r=n.isRegisterWithSuggestToRestoreByPhoneInDaHouse,o=n.switchToModeRegisterLite,i=n.switchToModeRegister,a=n.isNeoPhonishRegisterExp,c="portal"!==n.registrationType;e.sendMetrics(),(r||a)&&(t.preventDefault(),i()),c&&(t.preventDefault(),o())})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.login,n=e.url;return o.a.createElement("div",{className:"passp-button passp-register-button"},o.a.createElement(B.a,{type:"link",url:n,onClick:this.onClick,text:"Зарегистрировать %1".replace("%1",t),view:"pseudo",width:"max",size:"auth-l"}))}}])&&W(t.prototype,n),r&&W(t,r),a}(o.a.PureComponent);K.propTypes={login:s.a.string,url:s.a.string.isRequired,switchToModeRegisterLite:s.a.func.isRequired,switchToModeRegister:s.a.func,registrationType:s.a.string.isRequired,isPreRegisterExp:s.a.bool,isPreRegisterWithSocialExp:s.a.bool,isRegisterWithSuggestToRestoreByPhoneInDaHouse:s.a.bool,isNeoPhonishRegisterExp:s.a.bool};var J=K;function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ne(e,t){return(ne=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function re(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ae(e);if(t){var o=ae(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return oe(this,n)}}function oe(e,t){return!t||"object"!==Z(t)&&"function"!=typeof t?ie(e):t}function ie(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ae(e){return(ae=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ne(e,t)}(a,e);var t,n,r,i=re(a);function a(){var e;ee(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ce(ie(e=i.call.apply(i,[this].concat(n))),"sendMetrics",(function(){return E.a.send([l.rc,l.H])})),ce(ie(e),"onClick",(function(t){var n=e.props,r=n.isRegisterWithSuggestToRestoreByPhoneInDaHouseExp,o=n.isNeoPhonishRegisterExp,i=n.switchToModeRegister;e.sendMetrics(),(r||o)&&(t.preventDefault(),i())})),e}return t=a,(n=[{key:"render",value:function(){var e=this.props.url;return o.a.createElement("div",{className:"passp-button passp-exp-register-button"},o.a.createElement(B.a,{type:"link",url:e,text:"Зарегистрироваться",view:"pseudo",onClick:this.onClick,size:"auth-l",width:"max"}))}}])&&te(t.prototype,n),r&&te(t,r),a}(o.a.Component);ue.propTypes={url:s.a.string.isRequired,isRegisterWithSuggestToRestoreByPhoneInDaHouseExp:s.a.bool.isRequired,isNeoPhonishRegisterExp:s.a.bool.isRequired,switchToModeRegister:s.a.func.isRequired};var se={switchToModeRegister:g.a},le=Object(i.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.auth,n=void 0===t?{}:t,r=n.isRegisterWithSuggestToRestoreByPhoneInDaHouse;return{isRegisterWithSuggestToRestoreByPhoneInDaHouseExp:r,isNeoPhonishRegisterExp:Object(h.m)(e)}}),se)(ue),fe=n("QVbIF+W9nkHnIvgbpiW3"),de=n("XbqLvwu4QlUqfJQqjw3N");function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ve(e);if(t){var o=ve(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return ye(this,n)}}function ye(e,t){return!t||"object"!==pe(t)&&"function"!=typeof t?ge(e):t}function ge(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Oe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&be(e,t)}(a,e);var t,n,r,i=me(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).changeLoginValue=t.changeLoginValue.bind(ge(t)),t.submitLoginForm=t.submitLoginForm.bind(ge(t)),t.handlePasswordChange=t.handlePasswordChange.bind(ge(t)),t.switchToMagicPage=t.switchToMagicPage.bind(ge(t)),t.state={isPasswordChanged:!1},t}return t=a,r=[{key:"changePromoTooltipPosition",value:function(){var e=document.querySelector(".passp-sign-in-button"),t=document.getElementById("qr-promo-tooltip"),n=document.getElementById("qr-promo-tooltip-large");if(e&&(t||n))if(n)a.changeLargePromoTooltipPosition();else{var r=e.getBoundingClientRect(),o=void 0!==window.scrollY?window.scrollY:window.pageYOffset;t.style.top="".concat(r.top+o-15,"px"),t.style.right="".concat(r.left-250,"px"),t.style.left="auto",t.style.opacity="1"}}},{key:"changeLargePromoTooltipPosition",value:function(){var e=document.querySelector(".passp-sign-in-button"),t=document.getElementById("qr-promo-tooltip-large"),n=t.getBoundingClientRect(),r=e.getBoundingClientRect(),o=void 0!==window.scrollY?window.scrollY:window.pageYOffset;t.style.top="".concat(r.top+o-n.height/2,"px"),t.style.left="".concat(r.left+320,"px"),t.style.opacity="1"}},{key:"hidePromoTooltips",value:function(e){var t=document.getElementById("qr-promo-tooltip"),n=document.getElementById("qr-promo-tooltip-large");if(e&&"click"===e.type){if($(e.target).closest("#qr-promo-tooltip-large").length>0)return;if($(e.target).closest("#qr-promo-tooltip").length>0)return}t&&(t.style.display="none",t.style.opacity="0",t.style.display="block"),n&&(n.style.display="none",n.style.opacity="0",n.style.display="block")}}],(n=[{key:"componentDidMount",value:function(){this.props.isShowQRAuthPromoTooltip&&(Object(de.a)(),this.promoTimer=setTimeout((function(){a.changePromoTooltipPosition()}),600),$(window).on("resize",a.changePromoTooltipPosition),$(window).on("click",document,a.hidePromoTooltips))}},{key:"componentDidUpdate",value:function(e){"addingAccount"===e.mode&&"addingAccount"!==this.props.mode&&(this.promoTimer&&clearTimeout(this.promoTimer),a.hidePromoTooltips())}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.setLoginError,n=e.isShowQRAuthPromoTooltip;t(""),n&&($(window).off("resize",a.changePromoTooltipPosition),$(window).off("click",document,a.hidePromoTooltips))}},{key:"changeLoginValue",value:function(e){(0,this.props.updateLoginValue)(e)}},{key:"handlePasswordChange",value:function(e){e.target.value&&this.setState({isPasswordChanged:!0})}},{key:"submitLoginForm",value:function(e){e.preventDefault();var t=this.props,n=t.addUserUrl,r=t.login;(0,t.dispatch)(Object(f.a)(d.a,{login:r,backPane:n}))}},{key:"switchToMagicPage",value:function(){this.props.switchToModeMagic(!1)}},{key:"render",value:function(){var e=this.props,t=e.login,n=e.retpath,r=e.fretpath,i=e.clean,a=e.csrf,u=e.isCanRegister,s=e.registrationLogin,l=e.registrationUrl,f=e.registrationExpUrl,d=e.hasCaptcha,p=e.authUrl,h=e.loading,b=e.switchToModeRegisterLite,m=e.switchToModeRegister,y=e.registrationType,g=e.isShowQRAuthPromoTooltip,v=e.isPreRegisterExp,_=e.isPreRegisterWithSocialExp,E=e.isRegisterWithSuggestToRestoreByPhoneInDaHouse,w=e.isNeoPhonishRegisterExp;return o.a.createElement("div",{className:c()("passp-login-form",{"passp-login-form_can-register":u,"passp-login-form_has-captcha":d,v5:!0})},o.a.createElement("form",{onSubmit:this.submitLoginForm,method:"post",action:p},o.a.createElement("input",{type:"hidden",name:"retpath",value:n}),o.a.createElement("input",{type:"hidden",name:"fretpath",value:r}),o.a.createElement("input",{type:"hidden",name:"clean",value:i}),o.a.createElement("input",{type:"hidden",name:"service",value:""}),o.a.createElement("input",{type:"hidden",name:"origin",value:""}),o.a.createElement("input",{type:"hidden",name:"policy",value:""}),o.a.createElement("input",{type:"hidden",name:"is_pdd",value:""}),o.a.createElement("input",{type:"hidden",name:"csrf_token",value:a}),d&&o.a.createElement(O.a,null),o.a.createElement(U,{login:t,onChangeLogin:this.changeLoginValue}),!this.state.isPasswordChanged&&o.a.createElement("input",{className:"passp-hidden-password-field",type:"password",id:"hiddenPassword",name:"hidden-password",onChange:this.handlePasswordChange,tabIndex:-1,autoComplete:"off","aria-hidden":!0}),o.a.createElement(J,{login:s,url:l,isPreRegisterExp:v,isPreRegisterWithSocialExp:_,switchToModeRegisterLite:b,switchToModeRegister:m,registrationType:y,isRegisterWithSuggestToRestoreByPhoneInDaHouse:E,isNeoPhonishRegisterExp:w}),o.a.createElement(fe.a,{isShowQRAuthPromoTooltip:g,isDisabled:h,switchToModeMagic:d?void 0:this.switchToMagicPage}),!u&&o.a.createElement(le,{url:f})))}}])&&he(t.prototype,n),r&&he(t,r),a}(r.Component);Oe.defaultProps={retpath:"",fretpath:"",clean:"",csrf:"",isCanRegister:!1,loading:!1},Oe.propTypes={registrationUrl:s.a.string.isRequired,registrationExpUrl:s.a.string.isRequired,login:s.a.string.isRequired,retpath:s.a.string,fretpath:s.a.string,clean:s.a.string,csrf:s.a.string,addUserUrl:s.a.string.isRequired,authUrl:s.a.string.isRequired,backPane:s.a.string,mode:s.a.string,isCanRegister:s.a.bool.isRequired,loading:s.a.bool.isRequired,isShowQRAuthPromoTooltip:s.a.bool,registrationLogin:s.a.string,hasCaptcha:s.a.oneOfType([s.a.bool,s.a.object]),updateLoginValue:s.a.func.isRequired,setupBackPane:s.a.func.isRequired,canRegister:s.a.func.isRequired,setLoginError:s.a.func.isRequired,switchToModeMagic:s.a.func.isRequired,dispatch:s.a.func.isRequired,registrationType:s.a.string.isRequired,switchToModeRegisterLite:s.a.func.isRequired,switchToModeRegister:s.a.func,getLiteRegisterTrack:s.a.func,isPreRegisterExp:s.a.bool,isPreRegisterWithSocialExp:s.a.bool,isRegisterWithSuggestToRestoreByPhoneInDaHouse:s.a.bool,isNeoPhonishRegisterExp:s.a.bool};var _e=Object(i.c)((function(e){var t=e.auth,n=t.form,r=n.login,o=n.isCanRegister,i=n.registrationLogin,a=n.registrationType,c=n.registrationPhoneNumber,u=n.registrationCountry,s=t.loginError,l=t.isQRPromoPart2Enabled,f=t.isQRAuthPromoShowed,d=t.mode,b=t.loading,m=t.isPreRegisterExp,y=t.isPreRegisterWithSocialExp,g=t.isRegisterWithSuggestToRestoreByPhoneInDaHouse,v=e.common,O=v.registration_url,_=v.registration_url_with_params,E=v.retpath,w=v.fretpath,S=v.clean,j=v.csrf,C=v.addUserUrl,R=v.backPane,k=v.authUrl,P=v.liteRegisterUrl,T=e.settings.ua,A=_;"portal"!==a&&(A=P);var N=Object(p.a)(A,i,c,u),L=Boolean(s&&s.indexOf("captcha")>-1),M=Boolean(T&&T.isTouch);return{registrationUrl:N,registrationExpUrl:O,registrationType:a,login:r,retpath:E,fretpath:w,clean:S,csrf:j,addUserUrl:C,backPane:R,isCanRegister:o,registrationLogin:i,hasCaptcha:L,authUrl:k,mode:d,isQRPromoPart2Enabled:l,isShowQRAuthPromoTooltip:l&&!M&&!f,loading:b,isPreRegisterExp:m,isPreRegisterWithSocialExp:y,isRegisterWithSuggestToRestoreByPhoneInDaHouse:g,isNeoPhonishRegisterExp:Object(h.m)(e)}}),(function(e){var t={updateLoginValue:v.Lb,setupBackPane:v.xb,canRegister:v.T,setLoginError:v.sb,switchToModeMagic:m.a,switchToModeRegisterLite:y.a,switchToModeRegister:g.a};return Object.assign({},Object(b.b)(t,e),{dispatch:e})}))(Oe),Ee=n("GMNkzy/zbaSBYdP6Cvxp");var we=n("dVdlchGuZyN639S0A3so");function Se(e){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return(Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var o=Te(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Pe(this,n)}}function Pe(e,t){return!t||"object"!==Se(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ae=function(){return E.a.send([l.L])},Ne=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(a,e);var t,n,r,i=ke(a);function a(){return je(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.isSberbankSignInExp,n=e.sberbankSignInUrl;return t?o.a.createElement("div",{className:"passp-sberbank-sign-in__block ".concat("v5")},o.a.createElement(B.a,{size:"auth-l",width:"max",view:"pseudo",url:n,onClick:Ae,type:"link",dataT:"sberbank-sign-in"},o.a.createElement(we.a,{place:"button",size:"s",type:"sberbank"}),o.a.createElement("span",{className:"passp-sberbank-sign-in__btn-text"},"Войти по Сбербанк ID"))):null}}])&&Ce(t.prototype,n),r&&Ce(t,r),a}(r.Component);Ne.propTypes={isSberbankSignInExp:s.a.bool,sberbankSignInUrl:s.a.string.isRequired};var Le=Object(i.c)((function(e){var t=e.common.sberbankSignInUrl,n=e.auth.isSberbankSignInExp;return{sberbankSignInUrl:t,isSberbankSignInExp:Boolean(n)}}))(Ne),Me=n("ChNA47itMhrlI5HSOuk4"),xe=n("hbhwtfwpwcJBep3jxV99"),Ie=n("KLFLb2oMSurwp/8+w02t");function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function qe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Be(e,t){return(Be=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=ze(e);if(t){var o=ze(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return He(this,n)}}function He(e,t){return!t||"object"!==De(t)&&"function"!=typeof t?We(e):t}function We(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ze(e){return(ze=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ge=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Be(e,t)}(a,e);var t,n,r,i=Fe(a);function a(){var e;qe(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ve(We(e=i.call.apply(i,[this].concat(n))),"maybeRenderHelpLink",(function(){var t=e.props,n=t.origin,r=t.yandexSupportUrl;if("china"===n)return o.a.createElement(Ie.a,{target:"_blank",href:r},"Сообщить о проблеме")})),e}return t=a,(n=[{key:"componentDidMount",value:function(){var e=this.props,t=e.setupBackPane,n=e.setupMode,r=e.setupPane,o=e.addUserUrl,i=e.editUrl;e.hasUnitedAccounts&&t(i),n("addingAccount"),r(o),E.a.send([l.rc]),E.a.goal(l.sc)}},{key:"render",value:function(){var e=this.props,t=e.isCanRegister,n=e.customTagline,r=e.isWebView,i=e.isWebViewWithSocialAuth;return o.a.createElement(Me.a,{cls:"add-account",dataT:"add-account"},o.a.createElement("div",{className:c()({"passp-add-account-page_has-social-block":!0,"passp-add-account-page_can-register":t})},o.a.createElement(xe.a,null,o.a.createElement("span",{dangerouslySetInnerHTML:{__html:n}})),o.a.createElement(_e,null),(!r||i)&&o.a.createElement(Ee.a,null),o.a.createElement(Le,null)),this.maybeRenderHelpLink())}}])&&Ue(t.prototype,n),r&&Ue(t,r),a}(r.Component);Ge.propTypes={isWebView:s.a.bool,isWebViewWithSocialAuth:s.a.bool,isCanRegister:s.a.bool.isRequired,customTagline:s.a.string.isRequired,setupBackPane:s.a.func.isRequired,canRegister:s.a.func.isRequired,setupMode:s.a.func.isRequired,setupPane:s.a.func.isRequired,addUserUrl:s.a.string,editUrl:s.a.string,hasUnitedAccounts:s.a.bool,origin:s.a.string,yandexSupportUrl:s.a.string.isRequired};t.a=Object(i.c)((function(e){var t=e.auth,n=t.form.isCanRegister,r=t.unitedAccounts,o=void 0===r?{}:r,i=t.isDefaultTextsExp,a=t.isAuthButtonAndTextExp,c=t.authButtonAndTextExperimentNumber,u=e.common,s=void 0===u?{}:u,l=e.customs.tagline,f=s.addUserUrl,d=s.editUrl,p=s.isWebView,h=s.isWebViewWithSocialAuth,b=s.origin,m=s.yandex_support_url,y=Object.keys(o).length>0,g="Войдите, чтобы продолжить";return i&&(g="Введите почту или телефон для продолжения"),a&&(g=[2,4].includes(c)?"Введите почту, логин или телефон для продолжения":"Введите почту или телефон для продолжения"),l&&(g=l),{addUserUrl:f,editUrl:d,isCanRegister:n,hasUnitedAccounts:y,customTagline:g,isWebView:p,isWebViewWithSocialAuth:h,origin:b,yandexSupportUrl:m}}),(function(e){var t={setupBackPane:v.xb,canRegister:v.T,setupMode:v.yb,setupPane:R.w};return Object.assign({},Object(b.b)(t,e),{dispatch:e})}))(Ge)},"exOCWzlfu86/I8jXI0mZ":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return a}));var r="SET_AUTH_MESSENGER_ERROR",o="AUTH_MESSENGER_SENT";function i(e){return{type:r,error:e}}function a(e){return{type:o,code:e}}},ft3fjLIKIl8uFQIb91ep:function(e,t,n){},fuNe1cTZXa4w0HifbDME:function(e,t,n){},"gW+kGIULm/gsAM1O/w51":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("BiY5T7IoWQd4oP5CD4Ck"),o=n("eFeAaZwgvdSTBhzajFL3");function i(){return function(e,t){var n=t().common,i=n.retpath,a=n.profile_url,c=i||a;e(Object(r.jb)()),e(Object(o.a)(c))}}},gd1KEFSXeTMcY3Pojxad:function(e,t,n){},gd6eFyiLAn5TfTBgsZ6r:function(e,t,n){},"gjBhE/3Rnf/Ydb3QHreX":function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(n,r){"use strict";"object"===t(e)&&e.exports?e.exports=r():n.simpleCipher=r()}(this,(function(){"use strict";var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function t(e,t){return e.charCodeAt(Math.floor(t%e.length))}function n(e){if("string"!=typeof e)return!1;for(var t=0;t<e.length;t++)if(e.charCodeAt(t)>127)return!1;return!0}return{encode:function(r,o){if(n(r)&&n(o))return function(t){var n,r,o,i,a,c=0,u="";if(!t)return t;do{n=(i=t[c++]<<16|t[c++]<<8|t[c++])>>12&63,r=i>>6&63,o=63&i,u+=e.charAt(i>>18&63)+e.charAt(n)+e.charAt(r)+e.charAt(o)}while(c<t.length);return((a=t.length%3)?u.slice(0,a-3):u)+"===".slice(a||3)}(o=function(e,n){return n.split("").map((function(n,r){return n.charCodeAt(0)^t(e,r)}))}(r,o));throw new Error("Secret and data should be ASCII string")},decode:function(r,o){if(n(r)&&n(o))return function(e,n){return n.map((function(n,r){return String.fromCharCode(n^t(e,r))})).join("")}(r,o=function(t){var n,r,o,i,a,c,u=0,s=[];if(!t)return t;t+="";do{n=(c=e.indexOf(t.charAt(u++))<<18|e.indexOf(t.charAt(u++))<<12|(i=e.indexOf(t.charAt(u++)))<<6|(a=e.indexOf(t.charAt(u++))))>>16&255,r=c>>8&255,o=255&c,s.push(n),64!==i&&(s.push(r),64!==a&&s.push(o))}while(u<t.length);return s}(o));throw new Error("Secret and data should be ASCII string")}}}))}).call(this,n("x+/oeRxaacaY5YboflTE")(e))},gtElD69tj7BPobDMfjjy:function(e,t,n){},hBP4SLbz5uIbVFOLQdfM:function(e,t,n){},hbhwtfwpwcJBep3jxV99:function(e,t,n){"use strict";var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("LzmKygd9FPlNlMcSJp0Y"),u=Object(c.cn)("passp-title"),s=function(e){var t=e.cls,n=e.children,r=e.dataT,i=u("",{v5:!0});return o.a.createElement("h1",{"data-t":r?"title:".concat(r):"title",className:"".concat(i," ").concat(t||"")},n)};s.defaultProps={isPopupTitle:!1},s.propTypes={cls:a.a.string,dataT:a.a.string,children:a.a.node.isRequired},t.a=s},"iCK235f/imKRe7hxV26u":function(e,t,n){"use strict";t.a={fb:"Facebook",gg:"Google",tw:"Twitter",vk:"ВКонтакте",mr:"Mail.ru",ok:"Одноклассники"}},"iLg+sWSU9DBN926rud7S":function(e,t,n){},"iYno3SKv/BW0tduPFmp1":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("F0RLjjE+ZbZkCivh5+sy"),o=n("BiY5T7IoWQd4oP5CD4Ck");function i(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return function(t,i){var a=i();t(Object(o.bb)(!0)),a.auth.isCaptchaRequired?t(Object(r.a)({action:e,actionArguments:n})):t(e.apply(void 0,n))}}},"icG+8Jgv+BJiTL/fPTrX":function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"l",(function(){return u})),n.d(t,"d",(function(){return s})),n.d(t,"j",(function(){return f})),n.d(t,"h",(function(){return p})),n.d(t,"a",(function(){return h})),n.d(t,"f",(function(){return b})),n.d(t,"k",(function(){return m})),n.d(t,"e",(function(){return y})),n.d(t,"i",(function(){return g})),n.d(t,"m",(function(){return v})),n.d(t,"g",(function(){return _}));var r=n("im/2hw6sv00xkN4JTKUO"),o=n("QgjbgVDbzfInN/CjWaXi"),i=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.form}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.values||{}})),a=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.form}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.errors||{}})),c=(Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.settings}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.version||"unknown"})),Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.settings}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.metricsUserType||"null"})),Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.settings}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.ua||e.uatraits||{}}))),u=function(e){var t=c(e);return t.isMobile&&!t.isTablet},s=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.settings}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.language||e.lang})),l=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.common}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.experiments&&e.experiments.flags||[]})),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return l(e).includes(t)},d=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.tracks}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e})),p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=d(e),r=n["".concat(t,"TrackId")]||"";return r||t!==o.b.COMMON||(r=e.common&&e.common.track_id),r},h=function(e){var t=d(e);return Object.keys(t).length>0?t[Object.keys(t)[0]]:e.common&&e.common.track_id},b=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.common}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.retpath||e.profile_url})),m=Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.settings}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"ru"!==e.tld||225!==e.countryId})),y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.common,n=void 0===t?{}:t,r=e.settings,o=void 0===r?{}:r,i=e.auth,a=void 0===i?{}:i;return n.process_uuid||o.process_uuid||a.process_uuid},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.common,n=void 0===t?{}:t,r=e.auth,o=void 0===r?{}:r,i=o.authorizedAccountsDefaultUid,a=o.defaultAccount,c=void 0===a?{}:a;return n.uid||i||c.uid},v=(Object(r.createSelector)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.metrics}),(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.counterId})),function(e){var t=e.common,n=void 0===t?{}:t,r=n.origin,o=n.neoPhonish,i=void 0===o?{}:o,a=i.origins,c=void 0===a?[]:a,u=i.originsMask,s=void 0===u?[]:u,l=i.originsAB,d=void 0===l?[]:l,p=i.originsMaskAB,h=void 0===p?[]:p,b=i.excludedOrigins,m=void 0===b?[]:b,y=f(e,i.exp);if(!r||!y)return!1;if(m.includes(r))return!1;var g=c.includes(r),v=Boolean(s.filter((function(e){return r.startsWith(e)})).length),O=f(e,i.originsABExp),_=f(e,i.originsABDesktopExp),E=d.includes(r),w=Boolean(h.filter((function(e){return r.startsWith(e)})).length);return g||v||(O||_)&&(E||w)}),O={tw:"Twitter",vk:"ВКонтакте",ok:"Одноклассники",mr:"Mail.ru",gg:"Google",fb:"Facebook",apl:"Apple"},_=function(e){return O[e]}},j3KHLLL5xIofLHChXDFK:function(e,t,n){},jLP40wHXQMMlQkpmPsEN:function(e,t,n){},"jmzF52to/4zFJbrOodQz":function(e,t,n){},joROYenWse71KCSIszZL:function(e,t,n){"use strict";n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u})),n.d(t,"a",(function(){return s})),n.d(t,"e",(function(){return l}));var r,o=n("JLFc6U7sd0PMI6Bh60mb");function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a={PHONE:"phone",PHONE_CONFIRM:"phoneConfirm",PERSONAL_DATA:"personalData",ACCOUNTS:"accounts",LOGIN:"login",PASSWORD:"password",EULA:"eula"},c=[a.PHONE,a.PHONE_CONFIRM,a.PERSONAL_DATA,a.ACCOUNTS,a.LOGIN,a.PASSWORD,a.EULA],u=[a.PHONE,a.PHONE_CONFIRM,a.PERSONAL_DATA,a.ACCOUNTS,a.EULA],s=[a.PHONE,a.PHONE_CONFIRM,a.PERSONAL_DATA,a.ACCOUNTS],l=(i(r={},a.PERSONAL_DATA,[o.a.FIRSTNAME,o.a.LASTNAME]),i(r,a.PHONE,[o.a.PHONE]),i(r,a.LOGIN,[o.a.LOGIN]),i(r,a.PASSWORD,[o.a.PASSWORD]),r)},"leE1nfzCWVY6MpYXFZS+":function(e,t,n){},"lfhCcm2WU1e68N8/ql4F":function(e,t,n){},"ln9fxIWz0Tlzj1r4r+P4":function(e,t,n){},m875iENFEWEoKmhsd3Bb:function(e,t,n){},"mJL0XUsWpGmKhULiOoZ/":function(e,t,n){"use strict";var r=n("CCXVZ27A5l6hmPXwLTrH"),o=n("FBB4UUWfM/iz0AJy2xMy"),i={fallback:Object(o.a)()},a=Object(r.a)({chunkName:function(){return"RestorePasswordStart"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(19).then(n.bind(null,"y71gQQJ5+HIE7Tcrp5xC"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"y71gQQJ5+HIE7Tcrp5xC"}},i),c=Object(r.a)({chunkName:function(){return"CaptchaPage"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(5).then(n.bind(null,"ZrpnXOLDV3wroobScV6k"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"ZrpnXOLDV3wroobScV6k"}},i),u=Object(r.a)({chunkName:function(){return"MethodPage"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(10).then(n.bind(null,"I+hyaTYk+9KoaoO7a1p5"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"I+hyaTYk+9KoaoO7a1p5"}},i),s=Object(r.a)({chunkName:function(){return"MethodConfirmPage"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(9).then(n.bind(null,"2B5K9ZbaKqs5s9rPY0CZ"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"2B5K9ZbaKqs5s9rPY0CZ"}},i),l=Object(r.a)({chunkName:function(){return"RestorePasswordFinish"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(18).then(n.bind(null,"a81f1HkN8bVEO3eoWVGR"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"a81f1HkN8bVEO3eoWVGR"}},i),f=Object(r.a)({chunkName:function(){return"BindPhonePage"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(4).then(n.bind(null,"K9P2eixAPjPauuvm0Dtb"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"K9P2eixAPjPauuvm0Dtb"}},i),d=Object(r.a)({chunkName:function(){return"BindHintPage"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(3).then(n.bind(null,"zatTJkX+odfh7OXcSmCY"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"zatTJkX+odfh7OXcSmCY"}},i),p=Object(r.a)({chunkName:function(){return"BindConfirmPage"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(2).then(n.bind(null,"J1GMvWXk/eBneCAa/NPP"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"J1GMvWXk/eBneCAa/NPP"}},i),h=Object(r.a)({chunkName:function(){return"NotifyPage"},isReady:function(e){return!!n.m[this.resolve(e)]},requireAsync:function(){return n.e(11).then(n.bind(null,"Jw86cCtpfJq/DXuSMaTL"))},requireSync:function e(t){var r=this.resolve(t);return n(r)},resolve:function e(){return"Jw86cCtpfJq/DXuSMaTL"}},i),b=[{path:"/auth/restore/password/notify",exact:!0,component:h},{path:"/auth/restore/password",exact:!0,component:a},{path:"/auth/restore/password/captcha",exact:!0,component:c},{path:"/auth/restore/password/method",exact:!0,component:u},{path:"/auth/restore/password/method-confirm",exact:!0,component:s},{path:"/auth/restore/password/finish",exact:!0,component:l},{path:"/auth/restore/password/bind-phone",exact:!0,component:f},{path:"/auth/restore/password/bind-hint",exact:!0,component:d},{path:"/auth/restore/password/bind-phone-confirm",exact:!0,component:p}];t.a=b},"mNaMim9b+xb4df3rV6hq":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("Cn0bb7dlXdz9iLHfBkZ3"),i=n("qyhOylcYgz7sofzu7jFu"),a=n("BiY5T7IoWQd4oP5CD4Ck");function c(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var c=n().common.addUserUrl;t(Object(a.bb)(!0)),o.a.request("auth/accounts").done((function(u){var s=u.csrf;o.a.setCsrfToken(s),t(Object(i.z)(s)),t(Object(a.Ab)(u.accounts)),"edit"===n().auth.mode&&0===Object.keys(u.accounts.unitedAccounts).length&&t(Object(r.d)(c)),e||t(Object(a.bb)(!1))})).fail((function(e){t(Object(a.zb)(e.errors)),t(Object(a.bb)(!1))}))}}},mdXLC9fJiJb4bctGYyqB:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("NH34m/YMyHs61nOqvuoz"),o=n("W3MgEIO55ELSFhldjoS/");function i(e,t,n){return function(i,a){var c=a().additionalDataRequest.action,u=t||"";"skip_phone"!==e&&"show_phone"!==e||(u=("add"===c?"Показ привязки телефона":"secure"===c&&"Показ превращения телефона в защищенный")||"admit"===c&&"Показ актуализации телефона"||"Показ привязки телефона"),"skip_email"!==e&&"show_email"!==e||(u=("add"===c?"Показ привязки емейла":"restore"===c&&"Показ превращения емейла в защищенный")||"Показ привязки емейла"),"skip_social"!==e&&"show_social"!==e||(u=("add"===c?"Показ привязки социальщика":"allow_auth"===c&&"Показ включения авторизации социальщика")||"Показ привязки социальщика"),o.a.goal("".concat(r.a,"_").concat(e)),o.a.send([u,n])}}},mnQejR5GxZY5Mi6PE0Mk:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));var r="SET_ACCOUNTS_SUGGEST",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(t){return t({type:r,payload:{accounts:e}})}}},mpwtxDFM8rSrgjcCjkSH:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("BiY5T7IoWQd4oP5CD4Ck"),i=n("OX/wkVklJcgTEff1wL6D"),a=n("2zFAvgXZRXm915c1LW+m"),c=n("DoQaHn2w4kPN7lMBHsaC");function u(){return function(e,t){var n=t(),u=n.challenge.phoneId,s=n.common,l={phoneId:u,track_id:s.track_id,csrf_token:s.csrf};e(Object(o.bb)(!0)),e(Object(a.f)({code:"",text:""})),r.a.request("auth/validate_phone_by_id",l).done((function(t){var n=t.valid_for_call;e(Object(a.e)({isConfirmWithCall:!!n})),e(Object(i.a)())})).fail((function(t){var n=Array.isArray(t.errors)&&t.errors[0];e(Object(c.a)(n))})).always((function(){e(Object(o.bb)(!1))}))}}},n4qmQ1un7LO1pUfezZ0B:function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r,o){"use strict";"object"===t(e)&&e.exports?e.exports=o(n("gjBhE/3Rnf/Ydb3QHreX")):r.passport=o(r.simpleCipher)}(this,(function(e){"use strict";var t={init:function(e){var n=$("body"),r=$("html");t.basePath="/registration-validations/",t.language=$("#language").val(),t.staticPath=n.attr("data-static-url"),t.soundManagerPath=t.staticPath+"js/soundmanager",t.soundManager=window.soundManager,t.track_id=$("#track_id").val()||e&&e.trackId,t.country=$("#country").val(),t.metricsId=n.attr("data-metrics-id"),t.isTouch=r.hasClass("is-touch"),t.isTablet=r.hasClass("is-tablet"),t.sk=$("#sk").val(),t.csrf_token=n.data("csrf")||e&&e.csrf,t.lastUsedTrackId=t.track_id,$("*[data-block]").each((function(){var e=t.ensureBlock($(this).attr("data-block"));e&&(e.construct(this,$(this).data("options")),e.isControl&&t.validator.register(e))})),t.setupDebugAPI()},setupDebugAPI:function(){var e=window.Passport=window.Passport||{};e.isYandex&&(e.debug={getTrackID:function(){return t.lastUsedTrackId}})},ensureBlock:function(e){var n=e.split("_"),r=n.pop(),o=n.pop(),i=t.block(r);return i||(i=o?t.block(r,o,{}):t.block(r,{})),i}},n=/\s+/g,r=/^([a-zа-я0-9\+\.-]+)@([a-zа-я0-9-\.]+)(\.)([a-zа-я])+$/i,o=/[^ -~]/;return t.util={entityMap:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"},escape:function(e){return String(e).replace(/[&<>"'\/]/g,(function(e){return t.util.entityMap[e]}))},keymap:{backspace:8,enter:13,esc:27,tab:9,cmd:224,"webkit-cmd":91,up:38,down:40},getUrlInfo:function(e){var t=document.createElement("a");return t.href=e,{hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,origin:t.origin,pathname:t.pathname,port:t.port,protocol:t.protocol,search:t.search}},getUrlParam:function(e){for(var t=document.location.search.substr(1).split("&"),n=0,r=t.length;n<r;n++){var o=t[n].split("=");if(o[0]===e)return decodeURIComponent(o[1])}return""},getUrlParams:function(e){var t={},n=("string"==typeof e&&e.split("?")[1]||document.location.search.substr(1)).split("&");if(n.length)return n.forEach((function(e){var n=e.split("=");t[n.shift().trim()]=n.join("=")})),t},getUrlParamsV2:function(e){var t=(e=e||document.location.href).split("?")[1],n=t?t.split("&"):[],r={};if(n.length)return n.forEach((function(e){var t=e.split("=");r[t.shift().trim()]=t.join("=")})),r},getKeyCode:function(e){return e?e.keyCode||e.which:null},isKeyboardEvent:function(e){return null!==t.util.getKeyCode(e)&&["keydown","keyup","keypress"].indexOf(e.type)>-1},isKeyboardSubmit:function(e){return[13,32].indexOf(t.util.getKeyCode(e))>-1},isEmail:function(e){return r.test(t.util.normalize(e))},once:function(e){var t,n=!1;return function(){return n||(n=!0,t=e.apply(this,arguments),e=null),t}},abortRequest:function(e){e&&4!==e.readyState&&"abort"in e&&e.abort()},capitalize:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},normalize:function(e){return"string"!=typeof e?"number"==typeof e?String(e):"":e.replace(n," ").trim()},reattach:function(e){var t=e.parent();e.detach(),t.append(e)},isCorrectDate:function(e){var t=e.split("-");return new Date(e+"T08:00:00+00:00").getMonth()+1===parseInt(t[1],10)},getCookie:function(e){if(document.cookie){var t={};return document.cookie.split(";").forEach((function(e){var n=e.split("=");t[n.shift().trim()]=n.join("=")})),t[e]||""}},checkPassword:function(e){return o.test(e)},omitEmpty:function(e){return Object.keys(e).forEach((function(t){e[t]||delete e[t]})),e}},t.api=function(){var n={},r={};function o(e){var t=[];if($.isPlainObject(e)){for(var n in e)e.hasOwnProperty(n)&&t.push(n+o(e[n]));return"{"+t.join(",")+"}"}return $.isArray(e)?(e.forEach((function(e){t.push(o(e))})),"["+t.join(",")+"]"):e?e.toString():""}return{log:function(n,r){var o,i=n.track_id||t.track_id;r=$.extend({},{loglevel:"info",encrypt:!1},r);var a={ev_tsf:(new Date).getTime(),loglevel:r.loglevel,uid:window.uid,track_id:i,url:window.location.href};o=$.isPlainObject(n)?JSON.stringify($.extend({},a,n)):JSON.stringify($.extend({},a,{action:n})),r.encrypt&&(o=e.encode(i,o)),t.api.request("logger",{log:o,track_id:i})},request:function(e,i,a){var c,u={type:"POST"};if(!e||"string"!=typeof e&&!e.url)throw new Error("Method should be string or object with url");if(!i||!(i instanceof FormData)&&!$.isPlainObject(i))throw new Error("Params should be a plain object or FormData");"string"==typeof e?(c=e,u.url=e):(c=e.url,u.url=e.url,e.type&&(u.type=e.type)),a=a||{};var s,l=new $.Deferred;a.abortPrevious&&t.util.abortRequest(r[c]),a.cache&&(n[c]=n[c]||{},s=n[c][o(i)]);var f={type:u.type,url:e.match(/^(\/|https:\/\/)/)?e:t.basePath+e,data:i instanceof FormData?i:$.extend({},{track_id:t.track_id,csrf_token:t.csrf_token},i),dataType:"json"};t.lastUsedTrackId=f.data.track_id,void 0!==a.processData&&(f.processData=a.processData),void 0!==a.contentType&&(f.contentType=a.contentType);var d=s||$.ajax(f);return d.done((function(e){var n;(n=$.isArray(e)?e.slice():$.extend({},e)).track_id&&(t.lastUsedTrackId=n.track_id),l.resolve(n)})).fail((function(e){l.reject(e)})),a.cache?(n[c][o(i)]=l.promise(),d):(a.abortPrevious&&(r[c]=d),l.promise())},dropCaches:function(){r={},n={}},getTrackId:function(e){var n=new $.Deferred,r=this;return this.request("track",t.util.omitEmpty({type:e,passErrors:!0,sk:t.sk}),{abortPrevious:!1,cache:!1}).then((function(e){e&&e.id&&r.setTrackId(e.id),n.resolve(e)}),(function(e){n.reject(e)})),n.promise()},setTrackId:function(e){e&&(t.track_id=e,$("#track_id").val(e))},setCsrfToken:function(e){e&&(t.csrf_token=e)}}}(),t}))}).call(this,n("x+/oeRxaacaY5YboflTE")(e))},"nH+vwElyCUGAVZHfatfu":function(e,t,n){},"nPO+y6YDb3bA1kgNAiHj":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i);function c(e){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return f(this,n)}}function f(e,t){return!t||"object"!==c(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(a,e);var t,n,r,i=l(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).startTimer=t.startTimer.bind(d(t)),t.stopTimer=t.stopTimer.bind(d(t)),t.timerInterval=null,t.state={currentCountdown:30},t}return t=a,(n=[{key:"componentDidMount",value:function(){this.startTimer()}},{key:"componentWillUnmount",value:function(){this.stopTimer()}},{key:"startTimer",value:function(){var e=this,t=this.props.onTimerEnd;this.setState({currentCountdown:30}),this.timerInterval=setInterval((function(){e.setState((function(e){return{currentCountdown:e.currentCountdown-1}})),e.state.currentCountdown<=1&&(e.stopTimer(),t&&"function"==typeof t&&t())}),1e3)}},{key:"stopTimer",value:function(){this.timerInterval&&(clearInterval(this.timerInterval),this.timerInterval=null),this.setState({currentCountdown:0})}},{key:"render",value:function(){var e=this.state.currentCountdown;return e<=1?null:o.a.createElement("span",{className:"passp-timer"},"00:",e<10?"0".concat(e):e)}}])&&u(t.prototype,n),r&&u(t,r),a}(r.Component);h.propTypes={onTimerEnd:a.a.func}},nQHtl8SDibbwiTBVm7mu:function(e,t,n){},nj4GZhfQujpt5gCjUlSR:function(e,t,n){},"oQXX5b+eimvTz92xXZpU":function(e,t,n){},orGJv1osmJpP2TM33F0c:function(e,t,n){"use strict";var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=["alt","ctrl","shift","meta"],i={8:"backspace",9:"tab",13:"enter",32:"space"};t.a={init:function(e){var t=document.querySelector("body").dataset.extendedLogging,n=e.trackId;this.trackId=n,this.onFocusInOut=this.onFocusInOut.bind(this),this.onKeyDownUp=this.onKeyDownUp.bind(this),t&&this.trackUserActions()},destroy:function(){var e=$(document);document.removeEventListener?(document.removeEventListener("focus",this.onFocusInOut,!0),document.removeEventListener("blur",this.onFocusInOut,!0)):(e.off("focusin",this.onFocusInOut),e.off("focusout",this.onFocusInOut)),e.off("keyup",this.onKeyDownUp),e.off("keydown",this.onKeyDownUp)},trackUserActions:function(){var e=$(document);document.addEventListener?(document.addEventListener("focus",this.onFocusInOut,!0),document.addEventListener("blur",this.onFocusInOut,!0)):(e.on("focusin",this.onFocusInOut),e.on("focusout",this.onFocusInOut)),e.on("keyup",this.onKeyDownUp),e.on("keydown",this.onKeyDownUp)},onFocusInOut:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=void 0===t?{}:t,o=e.type,i=n.name,a=n.value,c=void 0===a?"":a,u=n.tagName,s=o.match(/^focus$|^focusin$/)?"focus":"blur";"INPUT"===u&&r.a.log({action:"field:"+s,track_id:this.trackId,withTrackId:!0,field:{name:i,length:c.length}},{encrypt:!0})},onKeyDownUp:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.target,n=e.type,a=e.keyCode;if(!("password"===t.type||"keydown"===n&&this.isKeyDown)){var c=[],u=n+":symbol";this.isKeyDown="keydown"===n,a in i&&(u=n+":"+i[a]),o.forEach((function(t){e["".concat(t,"Key")]&&c.push(t)}));var s={action:u,track_id:this.trackId,withTrackId:!0};0!==c.length&&(s.modificators=c),r.a.log(s,{encrypt:!0})}}}},pCjh69JJ2q8GXY1G76vp:function(e,t,n){"use strict";n.d(t,"a",(function(){return F}));var r=n("WE2RsoBXx7uBcYbdhL/w"),o=(n("RV08FYiEn5/EstQbTzdt"),n("8SCZFIl/r0BKJR1Q9GmD")),i=n.n(o),a=n("2XiBpSUPIXqJnJWBL+lj"),c=n.n(a),u=n("LzmKygd9FPlNlMcSJp0Y"),s=n("ysMlxi1yQ/4ftbKMQCqh"),l=n("DNml7VDdSAs10Z4giKjv"),f=(n("AtCtAhdLQKnZ2tJebo8j"),n("z3qqbj39i+miilZ9Wcps")),d=n("AFgMZ7oQJHD2/+zDS46y");function p(e){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=O(e);if(t){var o=O(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return g(this,n)}}function g(e,t){return!t||"object"!==p(t)&&"function"!=typeof t?v(e):t}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var E=Object(u.cn)("CaptchaField"),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&m(e,t)}(a,e);var t,n,r,o=y(a);function a(){var e;h(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _(v(e=o.call.apply(o,[this].concat(n))),"fieldRef",i.a.createRef()),e}return t=a,(n=[{key:"componentDidMount",value:function(){this.fieldRef.current&&this.fieldRef.current.focus&&this.fieldRef.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.introSound,n=e.captchaSound,r=e.imageUrl,o=e.loading,a=e.loadingAudio,c=e.playing,u=e.type,s=e.captchaKey,l=e.captchaAnswer,p=e.lang,h=e.fieldError,b=e.dispatch,m=e.forcedError,y=e.fieldView,g=e.view;return i.a.createElement("div",{className:E("wrapper",{view:g})},i.a.createElement("input",{type:"hidden",name:"captcha_key",value:s||""}),i.a.createElement("div",{className:E("field",{view:g})},i.a.createElement(d.b,{size:"l",label:"Введите символы с картинки",value:l,name:d.a.CAPTCHA,type:"text",error:h||m,view:y,ref:this.fieldRef})),i.a.createElement("div",{className:E("image",{view:g})},i.a.createElement(f.a,{isMobile:!1,lang:p,introSound:t,captchaSound:n,imageUrl:r,loading:o,loadingAudio:a,playing:c,type:u,dispatch:b,visible:!0})))}}])&&b(t.prototype,n),r&&b(t,r),a}(o.Component);w.defaultProps={captcha:{captchaKey:""}},w.propTypes={isCaptchaRequired:c.a.bool.isRequired,isShowCaptcha:c.a.bool.isRequired,introSound:c.a.object,captchaSound:c.a.object,imageUrl:c.a.string,loading:c.a.bool,loadingAudio:c.a.bool,playing:c.a.bool,type:c.a.string,captchaKey:c.a.string,captchaAnswer:c.a.string.isRequired,lang:c.a.string.isRequired,fieldError:c.a.object,forcedError:c.a.object,dispatch:c.a.func.isRequired,isNoTabletTouch:c.a.bool,fieldView:c.a.string,view:c.a.string};var S=n("icG+8Jgv+BJiTL/fPTrX");var j=Object(r.c)((function(e){var t=e.settings.ua,n=e.form,r=e.captcha,o=r.introSound,i=r.captchaSound,a=r.imageUrl,c=r.loading,u=r.loadingAudio,s=r.playing,l=r.type,f=r.key,d=n.errors,p=n.values;return{isNoTabletTouch:(t.isMobile||t.isTouch)&&!t.isTablet,captchaAnswer:p.captcha,lang:Object(S.d)(e),fieldError:d.captcha,introSound:o,captchaSound:i,imageUrl:a,loading:c,loadingAudio:u,playing:s,type:l,captchaKey:f}}),null,null,{forwardRef:!0})(w),C=n("W3MgEIO55ELSFhldjoS/");function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function T(e,t){return(T=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=M(e);if(t){var o=M(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return N(this,n)}}function N(e,t){return!t||"object"!==R(t)&&"function"!=typeof t?L(e):t}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var I=Object(u.cn)("CaptchaScreen"),D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&T(e,t)}(a,e);var t,n,r,o=A(a);function a(){var e;k(this,a);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return x(L(e=o.call.apply(o,[this].concat(n))),"checkCaptcha",(function(t){var n=e.props,r=n.checkCaptcha,o=n.onConfirmAction,i=n.onConfirmActionArguments,a=n.onConfirmCallback;t.preventDefault(),r({action:o,actionArguments:i,callback:a})})),e}return t=a,(n=[{key:"componentDidMount",value:function(){C.a.send("Показ экрана ввода капчи")}},{key:"componentWillUnmount",value:function(){(0,this.props.updateValues)({field:d.a.CAPTCHA,value:""})}},{key:"render",value:function(){var e=this.props.loading;return i.a.createElement("form",{onSubmit:this.checkCaptcha,className:I("",{v5:!0})},i.a.createElement("div",{className:I("head")},i.a.createElement(s.a,null,"Введите символы с картинки")),i.a.createElement("div",{className:I("body")},i.a.createElement(j,{isCaptchaRequired:!0,isShowCaptcha:!0,fieldView:"floating-label",view:"column"})),i.a.createElement("div",{className:I("controls")},i.a.createElement(l.a,{text:"Далее",onClick:this.checkCaptcha,width:"max",size:"auth-l",type:"submit",disabled:e})))}}])&&P(t.prototype,n),r&&P(t,r),a}(i.a.PureComponent);D.propTypes={onConfirmAction:c.a.func,onConfirmActionArguments:c.a.array,onConfirmCallback:c.a.func,checkCaptcha:c.a.func.isRequired,updateValues:c.a.func.isRequired,loading:c.a.bool};var q=n("F0RLjjE+ZbZkCivh5+sy"),U=n("Yp2QB2jYYmLrYZQDlfoW"),B={checkCaptcha:q.a,updateValues:U.N},F=Object(r.c)((function(e){var t=e.auth;return{loading:(void 0===t?{}:t).loading}}),B)(D)},pGvClfq2qTScG9KtwUCA:function(e,t,n){},"pXyMpKh7Ee/E8gzuP/VL":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("z/Ug44arcHnnmInRoI/0"),i=n("FO5VaR1qDYhXlc1jCgw9"),a=n("ZhSnxcFTtIAlY+v3R+s6"),c=n("qyhOylcYgz7sofzu7jFu"),u=n("BiY5T7IoWQd4oP5CD4Ck"),s=n("O5/wDFcDcr7psfl422DM"),l=n("pljtMiJ6cPwIsouCAJRc"),f=n("Cn0bb7dlXdz9iLHfBkZ3"),d=function(e){var t=e.phone,n=e.processName,d=void 0===n?o.g:n;return function(e,n){var p,h=n(),b=h.router,m=void 0===b?{}:b,y=h.common,g=void 0===y?{}:y,v=m.location,O=(void 0===v?{}:v).search,_=g.pane;switch(d){case o.e:p=o.f;break;case o.g:default:p=o.h}var E="".concat(p).concat(O);if(e(Object(c.v)(_)),e(Object(c.w)(E)),e(Object(u.yb)("restoreLogin")),!t)return e(Object(r.d)(E)),void e(Object(l.b)(!1));f.a.userEntryFlowSubmit().then((function(){return e(Object(i.a)({phone:t,route:E,processName:d}))})).catch((function(){e(Object(a.l)(Object(s.b)("global","global"))),e(Object(r.d)(E))}))}}},pljtMiJ6cPwIsouCAJRc:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return o}));n("Cn0bb7dlXdz9iLHfBkZ3"),n("4CLY6EXHBdRASoqLgoNs"),n("qyhOylcYgz7sofzu7jFu"),n("ozXO7EVOUamPcLi5fknR");var r="UPDATE_TOKENS_SUCCESS";function o(e){return{type:"DOMIK_IS_LOADING",loading:e}}},"po8E1JPSxw/He7wXbnmy":function(e,t,n){},puhP4XXosLeaAdJPfKn1:function(e,t,n){},pwYuFDNqk0CbJTB4f6xK:function(e,t,n){},pxNQ4avko4wnceO2xkt9:function(e,t,n){"use strict";n.d(t,"d",(function(){return d})),n.d(t,"e",(function(){return p})),n.d(t,"f",(function(){return h})),n.d(t,"a",(function(){return b})),n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return y})),n.d(t,"j",(function(){return g})),n.d(t,"g",(function(){return v})),n.d(t,"h",(function(){return O})),n.d(t,"m",(function(){return _})),n.d(t,"i",(function(){return E})),n.d(t,"k",(function(){return w})),n.d(t,"l",(function(){return S}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("O5/wDFcDcr7psfl422DM"),i=function(e){return{status:e.status,firstname:e.firstname,lastname:e.lastname,socialProviderCode:e.social_provider_code,email:e.email}},a=n("icG+8Jgv+BJiTL/fPTrX"),c=n("pljtMiJ6cPwIsouCAJRc"),u=n("Yp2QB2jYYmLrYZQDlfoW"),s=n("AFgMZ7oQJHD2/+zDS46y"),l=n("W3MgEIO55ELSFhldjoS/"),f=n("NH34m/YMyHs61nOqvuoz"),d="[SOCIAL_SUGGEST] INIT_SOCIAL_SUGGEST_PROCESS",p="[SOCIAL_SUGGEST] SET_REGISTER_LITE_STATE",h="[SOCIAL_SUGGEST] SET_REGISTER_SOCIAL_STATE",b="[SOCIAL_SUGGEST] CHANGE_STATE",m="[SOCIAL_SUGGEST] CLEAR_STATE",y="[SOCIAL_SUGGEST] EDIT_FORM_STATE",g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{type:d,payload:e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){return t({type:b,payload:e})}},O=function(){return function(e){return e({type:m})}},_=function(){return function(e){return e({type:y})}},E=function(){return function(e,t){var n=t(),c=n.socialSuggest,l=(void 0===c?{}:c).registerLiteTrackId,f=Object(a.d)(n);r.a.getRegisterLiteState({trackId:l,language:f}).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=i(t),r=n.firstname,o=n.lastname;e(Object(u.N)({field:s.a.FIRSTNAME,value:r})),e(Object(u.N)({field:s.a.LASTNAME,value:o})),e({type:p,payload:n})})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.error;e({type:p,payload:Object(o.b)("registration",n[0])})}))}},w=function(){return function(e,t){var n=["firstname","lastname"],i=t(),s=i.socialSuggest,d=void 0===s?{}:s,h=d.registerLiteState,b=void 0===h?{}:h,m=d.registerLiteTrackId,y=Object(a.f)(i),g=b.email,v=Object(a.c)(i),O=Object(a.b)(i),E=v.firstname,w=v.lastname,S=[],j={track_id:m,firstname:E,lastname:w,eula_accepted:"on",login:g,retpath:y};n.forEach((function(t){if(!v[t])return S.push({field:t,code:"missingvalue"}),e(Object(u.K)({field:t,error:Object(o.d)(t,"missingvalue")}));O[t]&&O[t].code&&S.push({field:t,code:O[t].code})})),S.length||(e(Object(c.b)(!0)),r.a.registerLite(j).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.status,n=e.errors,r=e.retpath;if("ok"===t)return l.a.send([f.Cc,"Успешное подтверждение регистрации лайта"]),location.replace(r||y);throw n})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.error,i=void 0===r?[]:r,a=[];i.forEach((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";n.forEach((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";e.startsWith(t)&&a.push({field:t,error:Object(o.d)(t,e)})}))})),a.length?(a.forEach((function(t){return e(Object(u.K)(t))})),e(_())):e({type:p,payload:Object(o.b)("registration",i[0])}),e(Object(c.b)(!1)),l.a.send([f.Cc,"Ошибка регистрации лайта"])})))}},S=function(){return function(e,t){var n=t(),i=n.socialSuggest,d=void 0===i?{}:i,p=n.captcha,b=void 0===p?{}:p,m=d.registerSocialTrackId,y=d.profile,g=void 0===y?{}:y,v=Object(a.f)(n),O=Object(a.c)(n),_=Object(a.b)(n),E=O.firstname,w=O.lastname,S=g.name,j=[],C=S?[]:["firstname","lastname"],R={track_id:m,eula_accepted:"on",captcha:O.captcha,key:b.key,retpath:v};S||(R.firstname=E,R.lastname=w),C.forEach((function(t){if(!O[t])return j.push({field:t,code:"missingvalue"}),e(Object(u.K)({field:t,error:Object(o.d)(t,"missingvalue")}));_[t]&&_[t].code&&j.push({field:t,code:_[t].code})})),j.length||(e(Object(c.b)(!0)),r.a.registerSocial(R).then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.status,n=e.errors,r=e.retpath;if("ok"===t)return l.a.send([f.Cc,"Успешное подтверждение регистрации социальщика"]),location.replace(r||v);throw n})).catch((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.errors,r=void 0===n?[]:n;if(e(Object(c.b)(!1)),r[0]&&r[0].code&&r[0].code.startsWith("captcha"))return e(Object(u.K)({field:s.a.CAPTCHA,error:Object(o.d)(s.a.CAPTCHA,r[0].code)}));e({type:h,payload:Object(o.b)("registration",r[0])}),l.a.send([f.Cc,"Ошибка регистрации социальщика"])})))}}},"q3QgOHku7WQmVqn/RO2L":function(e,t,n){},qNly8dhllnc8zlQVzo3x:function(e,t,n){"use strict";n.d(t,"e",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"j",(function(){return c})),n.d(t,"a",(function(){return u})),n.d(t,"k",(function(){return s})),n.d(t,"g",(function(){return l})),n.d(t,"f",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"h",(function(){return p})),n.d(t,"l",(function(){return h})),n.d(t,"n",(function(){return b})),n.d(t,"s",(function(){return m})),n.d(t,"m",(function(){return y})),n.d(t,"p",(function(){return g})),n.d(t,"o",(function(){return v})),n.d(t,"r",(function(){return O})),n.d(t,"q",(function(){return _})),n.d(t,"t",(function(){return E})),n.d(t,"u",(function(){return w}));var r="[RESTORE_LOGIN] CHANGE_PHONE",o="[RESTORE_LOGIN] CHANGE_FIRST_NAME",i="[RESTORE_LOGIN] CHANGE_LAST_NAME",a="[RESTORE_LOGIN] CHANGE_CONFIRMATION_CODE",c="[RESTORE_LOGIN] SET_SUGGESTED_ACCOUNTS",u="[RESTORE_LOGIN] CHANGE_CHECK_PHONE_STATUS",s="[RESTORE_LOGIN] SWITCH_CONFIRM_METHOD",l="[RESTORE_LOGIN] CHANGE_PHONE_VALIDATION_STATUS",f="[RESTORE_LOGIN] CHANGE_PHONE_OVERHEAT_STATUS",d="[RESTORE_LOGIN] SET_ERRORS",p="[RESTORE_LOGIN] CLEAR_ERRORS",h="UPDATE_PHONE_CONFIRMATION_CALL_NUMBER";function b(e){return{type:a,confirmationCode:e}}function m(e){return{type:c,accounts:e}}function y(e){return{type:u,isPhoneCheckSent:e}}function g(e){return{type:l,isValidPhone:e}}function v(e){return{type:f,isPhoneOverheated:e}}function O(e){return{type:d,errors:e}}function _(){return{type:p}}function E(e){return{type:s,confirmMethod:e}}function w(e){return{type:h,callingNumberStr:e}}},qQhG6EGMKxSMFMG7BaOW:function(e,t,n){},"qaLxyxXzajfFsPDnQ40/":function(e,t,n){(function(e){function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!function(r,o){"use strict";"object"===t(e)&&e.exports?e.exports=o(n("n4qmQ1un7LO1pUfezZ0B")):o(r.passport)}(this,(function(e){"use strict";if("object"!==("undefined"==typeof window?"undefined":t(window)))return{};var n={blur:1,change:1,click:1,dblclick:1,dragstart:1,dragenter:1,dragover:1,dragleave:1,drag:1,drop:1,dragend:1,focus:1,focusin:1,focusout:1,keydown:1,keypress:1,keyup:1,mousedown:1,mouseenter:1,mouseleave:1,mousemove:1,mouseout:1,mouseover:1,mouseup:1,resize:1,scroll:1,submit:1},r=/^(([^\.\s]+)(?:\.[^\s]+)*)\s?(.+)?$/;return e.blocks={},e.block=function(t,n,r){var o,i=e.blocks;if(1===arguments.length)return i[t];2===arguments.length&&(r=n,n="block"),n=i[n]||{};var a=function(){};return a.prototype=n,o=new a,$.extend(o,r),o.id=t,o.parent=n,o.inited=new $.Deferred,i[t]=o,o},e.block("block",{construct:function(e,t){this.$el=$(e),this.initEvents(),this.init(t),this.options=t||{}},init:function(){},initEvents:function(){var e,t,o=this.events||{};for(e in o){if("function"!=typeof this[o[e]])throw new Error("Method "+o[e]+" is undefined in "+this.id+" block, but is referenced in events hash.");if(!(t=e.match(r)))throw new Error('Wrong rule "'+e+'"');var i=this[o[e]].bind(this);["blur","focusout"].indexOf(t[2])>-1&&(i=function(e){return function(){setTimeout(e,50)}}(i)),t[3]?this.$el.on(t[1],t[3],i):(t[2]in n?this.$el:$(document)).on(t[1],i)}},$:function(e){return this.$el.find(e)},emit:function(e,t){$(document).emit(e+"."+this.id,Array.prototype.slice.call(arguments,1))}}),e}))}).call(this,n("x+/oeRxaacaY5YboflTE")(e))},"qqBWgzxL5bAyVSwl4/u3":function(e,t,n){},qyhOylcYgz7sofzu7jFu:function(e,t,n){"use strict";n.d(t,"g",(function(){return r})),n.d(t,"j",(function(){return o})),n.d(t,"m",(function(){return i})),n.d(t,"a",(function(){return a})),n.d(t,"p",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return h})),n.d(t,"n",(function(){return b})),n.d(t,"l",(function(){return m})),n.d(t,"k",(function(){return y})),n.d(t,"o",(function(){return g})),n.d(t,"q",(function(){return v})),n.d(t,"s",(function(){return O})),n.d(t,"x",(function(){return _})),n.d(t,"r",(function(){return E})),n.d(t,"A",(function(){return w})),n.d(t,"z",(function(){return S})),n.d(t,"v",(function(){return j})),n.d(t,"y",(function(){return C})),n.d(t,"w",(function(){return R})),n.d(t,"u",(function(){return k})),n.d(t,"t",(function(){return P}));n("ozXO7EVOUamPcLi5fknR");var r="SAVE_ACTION_FOR_REPEAT",o="SET_EDIT_MODE",i="SHOW_REG_POPUP",a="CURRENT_PAGE_CHANGED",c="UPDATE_TRACK",u="GET_TRACK",s="GET_TRACK_SUCCESS",l="GET_TRACK_FAIL",f="SETUP_BACK_PANE",d="SETUP_PANE",p="GET_COUNTRIES",h="GET_TIMEZONES",b="TOGGLE_BACK_PANE_VISIBILITY",m="SET_QUESTIONS",y="SET_IS_AM",g="UPDATE_CSRF";function v(e){return{type:"CONNECTION_ERROR",error:e}}function O(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];return{type:r,actionToCall:e,payload:n}}function _(e){return{type:i,show:e}}function E(){return function(e,t){var n=t().common,r=n.defaultPage,o=n.authURL;o?location.replace(o):location.replace("/auth?retpath=".concat(r))}}function w(e){return{type:c,track_id:e}}function S(e){return{type:g,token:e}}function j(e){return function(t){t({type:f,pane:e})}}function C(e){return function(t){t({type:b,isBackPaneVisible:e})}}function R(e){return function(t){t({type:d,pane:e})}}function k(e){return{type:m,questions:e}}var P=function(e){return function(t){return t({type:y,payload:{isAM:e}})}}},rcoeJT4Xdzr18jRua7yb:function(e,t,n){},"rySRxn0k+276pUPFFWNT":function(e,t,n){},s7ETookYgfkMG6aMgioe:function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"h",(function(){return o})),n.d(t,"c",(function(){return i})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"g",(function(){return s})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return f})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return p}));var r="GET_SUGGESTED_LOGINS",o="UPDATE_REG_ERROR",i="registration",a="registration_pdd",c="registration_pdd_mobile",u="registration_mobile",s="SET_SUGGESTION_VALIDATING_STATUS",l="CLEAR_SUGGESTED_LOGINS";function f(e){return{type:o,data:e}}function d(e){return{type:"UPDATE_FETCHING_STATUS",isFetching:e}}function p(e){return{type:r,data:e}}},"sY/Cfr3ce71PYtRNAg5S":function(e,t,n){},"sr/9JoQbxWJYL/IIOdW+":function(e,t,n){},tQIUWEgDat0qIXHlwX9j:function(e,t,n){},"tSOjThfZOcil+x85qVuK":function(e,t,n){},"u/P8MsklKxUIpNN7bM1p":function(e,t,n){},uK9xiV8SwhymVpEWNYWz:function(e,t,n){"use strict";function r(e){var t=e;return"."===t.charAt(t.length-1)&&(t=t.slice(0,-1)),t}n.d(t,"a",(function(){return r}))},v2repeuFik6dsNSDaaCg:function(e,t,n){},vWURAkDxYH9eGdmnSETA:function(e,t,n){},vd8j9UGZ32E34QoMNzsB:function(e,t,n){},wouU4QWFksuG1ZTiPHSS:function(e,t,n){},"woy4sHNOI7s+OSvKAhVR":function(e,t,n){"use strict";var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("AFgMZ7oQJHD2/+zDS46y"),u=n("6OWwt9yvRw7ShcN4G3nV"),s=n("DNml7VDdSAs10Z4giKjv"),l=n("Es9rmdkpPfO71ZhahEM7"),f=n("Sv+DydT6rKBct5kRKGVV");function d(e){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=g(e);if(t){var o=g(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return y(this,n)}}function y(e,t){return!t||"object"!==d(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function g(e){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}(a,e);var t,n,r,i=m(a);function a(){return p(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){var e=this.props,t=e.isCaptchaRequired,n=e.phoneNumber,r=e.handlePhoneChange,i=e.errors,a=void 0===i?[]:i,d=e.sentConfirmationCode,p=e.goBack,h=e.action,b=null;return a.length>0&&(b=f.a[a[0]]?f.a[a[0]]:f.a.internal),o.a.createElement(l.a,{cls:"enter-phone",dataT:"enter-phone"},o.a.createElement(c.b,{size:"l",label:"Номер телефона",value:n,name:"phoneNumber",type:"text",error:b,onChange:r,view:"floating-label"}),t&&o.a.createElement(u.a,null),o.a.createElement("div",{"data-t":"phone_submit",className:"passp-button"},o.a.createElement(s.a,{type:"submit",text:"add"===h?"Привязать":"Подтвердить",view:"action",width:"max",size:"auth-l",onClick:d})),p&&o.a.createElement("div",{"data-t":"phone_skip",className:"passp-button"},o.a.createElement(s.a,{type:"button",text:"Не сейчас",view:"pseudo",width:"max",size:"auth-l",onClick:p})))}}])&&h(t.prototype,n),r&&h(t,r),a}(r.Component);v.propTypes={isCaptchaRequired:a.a.bool.isRequired,phoneNumber:a.a.string.isRequired,handlePhoneChange:a.a.func.isRequired,errors:a.a.array.isRequired,sentConfirmationCode:a.a.func.isRequired,goBack:a.a.func,action:a.a.string.isRequired},t.a=v},wpV4zJed90rooxXiPGQo:function(e,t,n){},xSpN8Kyw4VlgAPhFVdtL:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r={NEOPHONISH:"neophonish",LITE:"lite"},o={21:r.NEOPHONISH,5:r.LITE},i=function(e){return o[e]}},xTYMmTVCxHhb8U90Af7w:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("gGLUm6icyW4lmihzoT4E"),o=n("BiY5T7IoWQd4oP5CD4Ck");function i(e){return function(t,n){var i=n(),a=i.common,c=a.pane,u=a.magicUrl;"magic"!==i.auth.mode&&(t(Object(o.xb)(c)),t(Object(r.d)(u)),t(Object(o.Db)(e)))}}},xk86jm087z7uHPch9i2c:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("exOCWzlfu86/I8jXI0mZ"),i=n("BiY5T7IoWQd4oP5CD4Ck"),a=n("NH34m/YMyHs61nOqvuoz"),c=n("W3MgEIO55ELSFhldjoS/");function u(){return c.a.send([a.F]),function(e,t){var n=t(),u=n.common,s=u.csrf,l=u.track_id,f={csrf_token:s,language:n.settings.lang,send_to:"messenger",track_id:l};e(Object(i.bb)(!0)),r.a.request("auth/send_magic_letter",f).done((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t&&"ok"===t.status){var n=t.code;e(Object(o.d)(n)),e(Object(i.Y)(!0)),e(Object(i.X)("authMessenger")),c.a.send([a.l])}else e(Object(o.c)("global"))})).fail((function(t){var n=Array.isArray(t.errors)?t.errors[0]:"global";if("bot_api.request_failed"===n)return e(Object(i.Y)(!0)),e(Object(i.X)("authMessengerInfo")),void e(Object(i.vb)(""));e(Object(o.c)(n)),c.a.send([a.k,n])})).always((function(){e(Object(i.bb)(!1))}))}}},y1lFHCm6B2gquSkTr2oB:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={firstname:{errors:{empty:"Пожалуйста, укажите имя",missingvalue:"Пожалуйста, укажите имя",toolong:"Пожалуйста, укажите более короткий вариант имени, до 50 символов",invalid:"Не заполнено или некорректное значение в поле Имя","firstname.invalid":"Не заполнено или некорректное значение в поле Имя","firstname.long":"Пожалуйста, укажите более короткий вариант имени, до 50 символов"}},lastname:{errors:{empty:"Пожалуйста, укажите фамилию",missingvalue:"Пожалуйста, укажите фамилию",toolong:"Пожалуйста, укажите более короткий вариант фамилии, до 50 символов",invalid:"Не заполнено или некорректное значение в поле Фамилия","lastname.invalid":"Не заполнено или некорректное значение в поле Фамилия","lastname.long":"Пожалуйста, укажите более короткий вариант фамилии, до 50 символов"}},login:{errors:{"login.empty":"Необходимо выбрать логин","login.missingvalue":"Необходимо выбрать логин",missingvalue:"Необходимо выбрать логин","login.invalid":"Такой логин не подойдет","login.domain_invalid_type":"неправильный адрес электронной почты",notavailable:"К сожалению, логин занят","login.not_available":"К сожалению, логин занят","login.prohibitedsymbols":"Такой логин не подойдет","login.startswithdigit":"Такой логин не подойдет","login.long":"Такой логин не подойдет","login.startswithdot":"Такой логин не подойдет","login.startswithhyphen":"Такой логин не подойдет","login.endswithhyphen":"Такой логин не подойдет","login.doubleddot":"Такой логин не подойдет","login.doubledhyphen":"Такой логин не подойдет","login.dothyphen":"Такой логин не подойдет","login.hyphendot":"Такой логин не подойдет","login.endwithdot":"Такой логин не подойдет","login.like_password":"Логин не может совпадать с паролем"},descriptions:{"login.invalid":"Пожалуйста, используйте латиницу, цифры, точку и дефис","login.not_available":"Попробуйте изменить его или выберите один из свободных","login.prohibitedsymbols":"Пожалуйста, используйте латиницу, цифры, точку и дефис","login.startswithdigit":"Логин не должен начинаться с цифры","login.long":"Логин слишком длинный, максимальное количество символов в логине - 30","connect.login.long":"Логин слишком длинный, максимальное количество символов в логине - 40","login.startswithdot":"Логин не должен начинаться с точки","login.startswithhyphen":"Логин не должен начинаться с дефиса","login.endswithhyphen":"Логин не должен заканчиваться дефисом","login.doubleddot":"Логин не должен содержать две точки подряд","login.doubledhyphen":"Логин не должен содержать два дефиса подряд","login.dothyphen":"Логин не должен содержать точку и дефис подряд","login.hyphendot":"Логин не должен содержать дефис и точку подряд","login.endwithdot":"Логин не должен заканчиваться точкой"}},domain:{errors:{missingvalue:"Вам нужно ввести имя домена организации","domain.missingvalue":"Вам нужно ввести имя домена организации","domain.already_exists":"Это имя занято","domain.invalid":"Такой домен не подойдет","domain.invalid_type":"Такой домен не подойдет","domain.containssubdomain":"Поддомен не может быть зарегистрирован"},descriptions:{"domain.invalid":"Вы ввели недопустимые символы. Используйте буквы латинского алфавита и цифры","domain.containssubdomain":"Нельзя зарегистрировать домен, содержащий точку. Используйте буквы латинского алфавита и цифры","domain.already_exists":"Пожалуйста, введите другое имя"}},password:{errors:{not_matched:"Неправильный пароль!","password.not_matched":"Неправильный пароль!",likelogin:"Пароль не может совпадать с логином",tooshort:"Пароль слишком короткий",weak:"Пароль слишком простой","warning.weak":"Пароль легко подобрать",prohibitedsymbols:"Пароль содержит запрещённые символы",missingvalue:"Необходимо выбрать пароль",empty:"Необходимо выбрать пароль","password.empty":"Необходимо выбрать пароль",missingvalue_current:"Необходимо ввести текущий пароль",empty_current:"Необходимо ввести текущий пароль",likeoldpassword:"Пароль не должен совпадать с текущим",equals_previous:"Пароль не должен совпадать с текущим","password.equals_previous":"Пароль не должен совпадать с текущим",foundinhistory:"Совпадает с одним из предыдущих",likephonenumber:"Пароль не может совпадать с телефоном",toolong:"Пароль слишком длинный"},descriptions:{likelogin:"Такой пароль легко взломать. Придумайте другой пароль",tooshort:"Используйте хотя бы 6 символов",weak:"Используйте большие и маленькие буквы, добавьте цифры","warning.weak":"Замените одну или две маленькие буквы большими, добавьте цифры",prohibitedsymbols:'Для пароля можно использовать только буквы латинского алфавита, цифры и символы: `!@#$%^&*()_=+[]{};:"\\|,.',likeoldpassword:"Такой пароль легко взломать. Придумайте другой пароль",foundinhistory:"Такой пароль легко взломать. Придумайте другой пароль",likephonenumber:"Такой пароль легко взломать. Придумайте другой пароль"}},password_confirm:{errors:{empty:"Необходимо ввести пароль еще раз",missingvalue:"Необходимо ввести пароль еще раз",notequal:"Подтверждение не совпадает с паролем"}},current_password:{errors:{missingvalue:"Необходимо ввести текущий пароль"}},phone:{errors:{missingvalue:"Пожалуйста, укажите номер телефона","number.empty":"Пожалуйста, укажите номер телефона","phone_number.empty":"Пожалуйста, укажите номер телефона","number.invalid":"Недопустимый формат номера","phone_number.invalid":"Недопустимый формат номера","code.invalid":"Неправильный код, попробуйте ещё раз","code.missingvalue":"Пожалуйста, введите код","sms_limit.exceeded":"Превышен лимит отправляемых сообщений, попробуйте позже",badphonenumber:"Недопустимый формат номера",needsconfirmation:"Пожалуйста, подтвердите номер телефона",couldnotsend:"Не получилось отправить код для подтверждения номера",compromised:"Этот номер уже подтверждён для трёх аккаунтов. Введите другой",bound_and_confirmed:"Невозможно подтвердить телефон, попробуйте еще раз позже","confirmations_limit.exceeded":"Превышено количество попыток привязки для данного номера. Измените номер или повторите попытку позднее.",limitexceeded_one_number:"Превышено количество попыток подтверждения телефона. Попробуйте еще раз позже",invalidsecurephone:"Неправильный номер телефона",not_matched:"Неправильный номер телефона",invalidcaptcha:"Для получения кода введите символы с картинки","phone.compromised":"Этот номер уже используется в качестве основного для нескольких аккаунтов. Используйте другой номер","calls_limit.exceeded":"Превышен лимит звонков, попробуйте позже","call_confirm.failed":"Не удалось дозвониться","csrf_token.invalid":"Что-то пошло не так. Попробуйте обновить страницу","action.not_required":"Этот телефон уже защищен"}},phoneCode:{errors:{missingvalue:"Пожалуйста, введите код","code.invalid":"Неправильный код, попробуйте ещё раз","code.missingvalue":"Пожалуйста, введите код","code.empty":"Пожалуйста, введите код","sms_limit.exceeded":"Превышен лимит отправляемых сообщений, попробуйте позже",needsconfirmation:"Пожалуйста, подтвердите номер телефона",couldnotsend:"Не получилось отправить код для подтверждения номера",compromised:"Этот номер уже подтверждён для трёх аккаунтов. Введите другой",bound_and_confirmed:"Невозможно подтвердить телефон, попробуйте еще раз позже","confirmations_limit.exceeded":"Превышено количество попыток привязки для данного номера. Измените номер или повторите попытку позднее.",limitexceeded_one_number:"Превышено количество попыток подтверждения телефона. Попробуйте еще раз позже",invalidsecurephone:"Неправильный номер телефона",not_matched:"Неправильный номер телефона",invalidcaptcha:"Для получения кода введите символы с картинки","phone.compromised":"Этот номер уже используется в качестве основного для нескольких аккаунтов. Используйте другой номер","calls_limit.exceeded":"Превышен лимит звонков, попробуйте позже","call_confirm.failed":"Не удалось дозвониться","csrf_token.invalid":"Что-то пошло не так. Попробуйте обновить страницу"}},hint:{hintQuestionErrors:{missingvalue:"Пожалуйста, выберите контрольный вопрос",toolong:"Контрольный вопрос слишком длинный",empty:"Пожалуйста, укажите свой вопрос"},hintAnswerErrors:{missingvalue:"Необходимо указать ответ на контрольный вопрос",toolong:"Ответ на контрольный вопрос слишком длинный"}},hint_answer:{errors:{empty:"Необходимо указать ответ на контрольный вопрос",missingvalue:"Необходимо указать ответ на контрольный вопрос",toolong:"Ответ на контрольный вопрос слишком длинный"}},hint_question_custom:{errors:{missingvalue:"Пожалуйста, выберите контрольный вопрос",toolong:"Контрольный вопрос слишком длинный",empty:"Пожалуйста, укажите свой вопрос"}},captcha:{errors:{missingvalue:"Необходимо ввести символы","answer.empty":"Необходимо ввести символы","captcha.empty":"Необходимо ввести символы","captcha.cannot_locate":"Ошибка проверки контрольных символов. Попробуйте еще раз","captcha.not_matched":"Вы неверно ввели символы. Попробуйте еще раз","csrf_token.invalid":"Что-то пошло не так. Попробуйте обновить страницу"}},registration:{errors:{sessionidoverflow:"Аккаунт успешно зарегистрирован",registrationsmssendperiplimitexceeded:"Лимит попыток подтверждения телефона исчерпан."},descriptions:{sessionidoverflow:'К сожалению, мы не можем сразу авторизовать вас, так как одновременно можно работать не более чем с 15 аккаунтами.\nДля того, чтобы авторизоваться зарегистрированным пользователем, нужно выйти из любого другого аккаунта.\nРедактировать список ваших текущих аккаунтов можно на странице <a href="/auth">авторизации</a>.'}},global:{errors:{global:"Паспорт не смог обработать запрос. Попробуйте позднее или обновите страницу.",smthWrong:"Что-то пошло не так. Попробуйте обновить страницу"}},findAccountsByNameAndPhone:{errors:{"rate.limit_exceeded":"Что-то пошло не так"},descriptions:{"rate.limit_exceeded":"Превышено количество попыток проверки данных. Пожалуйста, попробуйте еще раз позже. "}},neoPhonishAuth:{errors:{"rate.limit_exceeded":"Не удалось войти в аккаунт"},descriptions:{"rate.limit_exceeded":"Превышено количество попыток авторизации. Пожалуйста, попробуйте еще раз позже."}},email:{errors:{"email.invalid":"Неправильный формат адреса","email.already_confirmed":"Этот адрес уже привязан к вашему аккаунту\n","email.is_native":"Это ваш основной адрес. Его привязать нельзя","email.already_sent":"Слишком много попыток подтверждения для этого адреса, попробуйте позднее","email.not_found":"Данный адрес больше не привязан к аккаунту. Вы можете привязать новый адрес на странице управления адресами.","email.empty":"Вы не ввели адрес электронной почты.","email.send_limit_exceeded":"Превышено количество попыток зарегистрироваться с этим адресом электронной почты. Попробуйте использовать другой адрес или повторите попытку позднее.","email_confirmations_limit.exceeded":"Слишком много попыток ввести код подтверждения. Попробуйте еще раз позднее"}},email_code:{errors:{"key.empty":"Укажите код подтверждения","email.incorrect_key":"Неправильный код подтверждения","email.key_check_limit_exceeded":"Слишком много попыток ввести код подтверждения. Попробуйте еще раз позднее"}},publicId:{errors:{missingvalue:"Вы не ввели адрес","public_id.empty":"Вы не ввели адрес","public_id.not_available":"Этот адрес занят","public_id.long":"Адрес слишком длинный","public_id.startswithdigit":"Адрес не может начинаться с цифры","public_id.startswithdot":"Адрес не может начинаться с точки","public_id.startswithhyphen":"Адрес не может начинаться с дефиса","public_id.endwithdot":"Адрес не может заканчиваться точкой","public_id.endswithhyphen":"Адрес не может заканчиваться дефисом","public_id.doubleddot":"Пожалуйста, не используйте две точки подряд","public_id.doubledhyphen":"Пожалуйста, не используйте два дефиса подряд","public_id.prohibitedsymbols":"В адресе можно использовать только цифры и латинские буквы","public_id.dothyphen":"Пожалуйста, не ставьте точку и дефис подряд","public_id.hyphendot":"Пожалуйста, не ставьте точку и дефис подряд","public_id.update_not_allowed":'Вы уже меняли адрес дважды. Если нужно изменить его ещё раз, напишите в <a href="https://yandex.ru/support/passport/feedback.html">службу поддержки</a>',"public_id.invalid":"Введенное значение некорректно"}}}},"ydZPC7TyT/oWuKl40gC/":function(e,t,n){},yi2HOavEOLsMrMN95lAZ:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("JLFc6U7sd0PMI6Bh60mb");function o(e,t){return function(){if("undefined"!=typeof window){var n=document.getElementById("".concat(r.b).concat(e));n&&(n.value=t)}}}},"ysMlxi1yQ/4ftbKMQCqh":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("J7C7XAMkEIo5oQEMIdIT");var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("LzmKygd9FPlNlMcSJp0Y"),u=Object(c.cn)("Title"),s=function(e){var t=e.children,n=e.size,r=e.dataT;return o.a.createElement("h2",{"data-t":r?"title:".concat(r):"title",className:u({size:n,v5:!0})},t)};s.propTypes={children:a.a.node.isRequired,size:a.a.string,dataT:a.a.string}},ywTefedwdxFuvsyDYANl:function(e,t,n){},"z/Ug44arcHnnmInRoI/0":function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return i})),n.d(t,"g",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return l}));var r="/auth/restore/login",o="/auth/restore/neo",i="/auth/reg",a="ENTRY_RESTORE",c="ENTRY_RESTORE_NEOPHONISH_PROCESS",u="ENTRY_REGISTER",s="ENTRY_REGISTER_NEOPHONISH",l="ENTRY_REGISTER_BROWSER_PROCESS"},"z3qqbj39i+miilZ9Wcps":function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var r=n("8SCZFIl/r0BKJR1Q9GmD"),o=n.n(r),i=n("2XiBpSUPIXqJnJWBL+lj"),a=n.n(i),c=n("MJovFwNIrFAmLe5Xoo3c"),u=n.n(c),s=n("B/+x7wOHvlrE/6Q4CYQo"),l=n("FUZ6AA4Oce8/2wMDn7Ki"),f=n("4CLY6EXHBdRASoqLgoNs"),d=n("IWyIY6v871rrx6jPCZuR"),p=n("EnGa9mvY6eOwANLjrgCs"),h=n("znTbw0iOKLShrW2tHvtf");function b(e){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),e}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&O(e,t)}function O(e,t){return(O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=S(e);if(t){var o=S(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return E(this,n)}}function E(e,t){return!t||"object"!==b(t)&&"function"!=typeof t?w(e):t}function w(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function S(e){return(S=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var C=function(e){v(n,e);var t=_(n);function n(e){var r;return m(this,n),j(w(r=t.call(this,e)),"changeCaptchaType",(function(){var e=r.props,t=e.type,n=e.dispatch;n("text"===t?Object(p.a)(!0):Object(h.a)()),n(Object(l.k)())})),j(w(r),"reloadCaptcha",(function(){r.props.dispatch(Object(f.a)())})),j(w(r),"playCaptcha",(function(){r.props.dispatch(Object(p.a)())})),r.isAudioCaptchaEnabled=!1,r.isLoading=!0,r}return g(n,[{key:"componentDidMount",value:function(){var e=this;this.isLoading=!1,$.ajax({url:"https://yastatic.net/howler/2.1.2/howler.min.js",dataType:"script",cache:!0,scriptAttrs:{crossorigin:"anonymous"},success:function(){e.isAudioCaptchaEnabled=!0,e.props.dispatch(Object(h.a)(!0))},error:function(){e.props.dispatch(Object(h.a)())}}),this.forceUpdate()}},{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(l.l)())}},{key:"render",value:function(){var e=this.props,t=e.imageUrl,n=e.introSound,r=e.type,i=e.loading,a=e.loadingAudio,c=e.playing,u=e.visible,s=e.lang,l=e.dispatch,f=Boolean(("ru"===s||"tr"===s)&&!this.isLoading&&this.isAudioCaptchaEnabled);return o.a.createElement("div",{className:"captcha captcha_type_".concat(r)},Boolean(u)&&o.a.createElement("div",{className:"captcha__container"},"text"===r&&o.a.createElement(R,{onClick:this.reloadCaptcha,imageUrl:t,loading:i,dispatch:l}),"audio"===r&&f&&o.a.createElement(k,{loading:a,introSound:n,playing:c,dispatch:l,playCaptcha:this.playCaptcha})),o.a.createElement("div",{className:"captcha__footer clearfix"},!this.isLoading&&o.a.createElement("div",{className:"captcha__reload",onClick:this.reloadCaptcha,role:"button",tabIndex:"0"},o.a.createElement("span",{className:"captcha__reload-icon"}),"Другой код"),f&&o.a.createElement("div",{className:"captcha__change-type",onClick:this.changeCaptchaType,role:"button",tabIndex:"0"},o.a.createElement("span",{className:"captcha__change-type-icon"}),"text"===r?"Послушать код":"Текстовый код")))}}]),n}(r.PureComponent);C.propTypes={imageUrl:a.a.string,introSound:a.a.object,captchaSound:a.a.object,type:a.a.string.isRequired,loading:a.a.bool.isRequired,loadingAudio:a.a.bool.isRequired,playing:a.a.bool.isRequired,visible:a.a.bool.isRequired,lang:a.a.string.isRequired,isMobile:a.a.bool,dispatch:a.a.func.isRequired};var R=function(e){v(n,e);var t=_(n);function n(){return m(this,n),t.apply(this,arguments)}return g(n,[{key:"render",value:function(){var e=this.props,t=e.loading,n=e.imageUrl;return t?o.a.createElement(s.a,{progress:!0,size:"l"}):o.a.createElement("img",{src:n,onClick:this.props.onClick,className:"captcha__image",alt:"captcha image","aria-label":"captcha image"})}}]),n}(r.Component);R.propTypes={onClick:a.a.func.isRequired,dispatch:a.a.func.isRequired,imageUrl:a.a.string,loading:a.a.bool.isRequired};var k=function(e){v(n,e);var t=_(n);function n(){return m(this,n),t.apply(this,arguments)}return g(n,[{key:"componentWillUnmount",value:function(){this.props.dispatch(Object(d.a)())}},{key:"render",value:function(){var e=this.props,t=e.playing,n=e.loading,r=e.playCaptcha;return n?o.a.createElement(s.a,{progress:!0,size:"l"}):o.a.createElement("div",{className:u()("captcha__audio ",{captcha__audio_playing:t}),onClick:r})}}]),n}(r.Component);k.propTypes={dispatch:a.a.func.isRequired,playing:a.a.bool.isRequired,loading:a.a.bool.isRequired,introSound:a.a.object,captchaSound:a.a.object,playCaptcha:a.a.func.isRequired}},z6SHw1rHv0KotFKrQQza:function(e,t,n){},"z7Oi9rc5+MJTcyjtMHC3":function(e,t,n){"use strict";var r=n("Cn0bb7dlXdz9iLHfBkZ3"),o=n("s7ETookYgfkMG6aMgioe");var i=n("Yp2QB2jYYmLrYZQDlfoW");function a(e,t){return"valid"===t?function(n){n(Object(i.M)({field:e,status:t})),n(Object(i.K)({field:e,error:{code:"",text:""},active:!1}))}:function(n,r){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];n(Object(i.M)({field:e,status:t})),n(Object(i.K)({field:e,error:r,errorDescription:o,active:a}))}}var c=n("W3MgEIO55ELSFhldjoS/"),u=n("y1lFHCm6B2gquSkTr2oB");function s(e){return function(t,n){var s=n(),l=s.common,f=l.csrf,d=l.track_id,p=s.form.prefix,h="/registration/finish?track_id=".concat(d),b=e;b.csrf_token=f,b.track_id=d,b.eula_accepted="on",r.a.request("registration-".concat(-1!==p.indexOf("complete")?"complete":"connect"),b).then((function(e){"ok"===e.status&&(window.location.href=e.target||h,c.a.send(["Форма","Успешная регистрация"]),c.a.goal("".concat(p,"_form_success")))})).fail((function(e){if(t(Object(o.i)(!1)),e&&Array.isArray(e.error)&&e.error[0]){var n,r,s,l=e.error[0];if("captcha.required"===l)return t(Object(o.j)({status:"",code:"",text:""})),void t(Object(i.G)(!0));if("string"==typeof l){var f=l.split(".");n=f[0],s=f[1],r=l}else n=l.field,s=r=l.code;if("domain.invalid_type"===r&&(r="domain.invalid"),"sessionidoverflow"!==r&&"sessionid.overflow"!==l&&"sessionid.overflow"!==r)if("registrationsmssendperiplimitexceeded"!==r)if(u.a[n]&&(u.a[n].errors[r]||u.a[n].errors[s]))a(n,"not_valid")(t,{code:r,text:u.a[n].errors[r]||u.a[n].errors[s]}),c.a.send(["Форма","Показ ошибок",r]),c.a.goal("".concat(p,"_form_fail"));else{var d={status:"global",code:"global",text:u.a.global.errors.smthWrong};t(Object(o.j)(d))}else{var h={status:"error",code:"registrationsmssendperiplimitexceeded",text:u.a.registration.errors.registrationsmssendperiplimitexceeded};t(Object(o.j)(h))}else{var b={status:"error",code:"sessionidoverflow",text:u.a.registration.errors.sessionidoverflow,descriptionText:u.a.registration.descriptions.sessionidoverflow};t(Object(o.j)(b))}}else{var m={status:"global",code:"global",text:u.a.global.errors.smthWrong};t(Object(o.j)(m))}}))}}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=e===o.f||e===o.e||-1!==e.indexOf("complete");return t?s:f},f=function(e){return function(t,n){var i,s=n(),l=s.settings.uatraits,f=s.common,d=f.track_id,p=f.csrf,h=f.currentPage,b=f.retpath,m=s.additionalStep,y=void 0===m?{}:m,g=s.form.type,v=l.isMobile&&!l.isTablet,O="/registration/finish?track_id=".concat(d),_=e||t((function(e,t){var n=t(),r=n.form,o=n.settings,a=r.values,c=r.validation,u=o.tmxSession,s=c.method,l=Object.assign({},a);return"captcha"===s&&"99"===a.hint_question_id&&(l.hint_question=a.hint_question_custom),l["human-confirmation"]=s,i&&(l.money_eula_accepted="on",l.tmx_session=u),l})),E=v?o.d:o.c;_.csrf_token=p,_.track_id=d,_.eula_accepted="on",g&&(_.type=g),r.a.request("registration-alternative",_).then((function(e){if("ok"===e.status)return c.a.send(["Форма","Успешная регистрация"]),c.a.goal("".concat(E,"_form_success")),y.type&&["avatar","qr"].includes(y.type)?void(location.href=y.path||b):void(location.href=e.target||O);t(Object(o.j)({status:"error",code:"global",text:u.a.global.errors.smthWrong,descriptionText:""}))})).fail((function(e){if(t(Object(o.i)(!1)),e&&Array.isArray(e.error)){var n=e.error,r=n[0]&&n[0].code,i=n.find((function(e){return e.field})),s={status:"error",code:r||"global",text:u.a.global.errors.global,descriptionText:""};return"registrationsmssendperiplimitexceeded"===r?(s.text=u.a.registration.errors.registrationsmssendperiplimitexceeded,void t(Object(o.j)(s))):"sessionidoverflow"===r?(s.text=u.a.registration.errors.sessionidoverflow,s.descriptionText=u.a.registration.descriptions.sessionidoverflow,void t(Object(o.j)(s))):("registrationalreadycompletederror"===r&&(window.location.href=h),c.a.send(["Форма","Показ ошибок",r]),c.a.goal("".concat(E,"_form_fail")),n&&i&&r?void n.forEach((function(e){a(e.field,"not_valid")(t,{code:e.code,text:u.a[e.field].errors?u.a[e.field].errors[e.code]:u.a.global.errors.global})})):void t(Object(o.j)(s)))}t(Object(o.j)({status:"error",code:"global",text:u.a.global.errors.smthWrong,descriptionText:""}))}))}},d=n("4CLY6EXHBdRASoqLgoNs");var p={submitRegistration:function(e){var t=Object.assign({},e);return function(e,n){var i,c=n(),s=c.common.from,f=c.form,p=f.prefix,h=f.captchaRequired,b=c.registrationType,m=l(p,b);(s&&(t.from=s),e(Object(o.i)(!0)),"captcha"===t["human-confirmation"]||h)?e((i=t,function(e,t){var n=t(),c=n.form.prefix,s={track_id:n.common.track_id,csrf_token:n.common.csrf,answer:n.form.values.captcha},f=l(c,n.registrationType),p=u.a.captcha.errors,h={code:"",text:""};r.a.request("checkHuman",s).done((function(t){var r=t?t.status:"error",o="lite"===n.registrationType?i&&i.email:i;"ok"===r?e(f(o)):"error"===r&&(h.code=t.errors[0],h.text=p[t.errors[0]],a("captcha","not_valid")(e,h))})).fail((function(t){h.code=t.errors&&t.errors[0]||"captcha.cannot_locate",h.text=p[h.code],a("captcha","not_valid")(e,h),e(Object(d.a)()),e(Object(o.i)(!1))}))})):e(m(t))}},asyncRegistration:function(e){var t=e.trackId;delete e.trackId;var n=Object.assign({},e,{track_id:t,eula_accepted:"y"===e.eula_accepted?"on":"off"});return new Promise((function(e,t){r.a.request("registration-alternative",n).then(e).fail((function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(Array.isArray(n.error)){var r=n.error,o=r[0]&&r[0].code;if("registrationalreadycompletederror"===o)return void e(n)}t(n)}))}))},registerNeoPhonish:function(e){var t=e.trackId;return e.track_id=t,delete e.trackId,new Promise((function(t,n){r.a.request("registration-neophonish",e).then(t).fail(n)}))},prepareFormData:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3?arguments[3]:void 0,o=["hint_question_id","phoneCode"],i=Object.assign({},e),a="code_sent"===i.phoneCodeStatus&&"valid"===i.phoneCode;return"lite"===r&&o.push("emailCode","emailCodeStatus","login"),"lite"!==r&&o.push("email"),(a||"captcha"===t)&&o.push("phoneCodeStatus"),"phone"===t&&o.push("hint_question_id","hint_question_custom","hint_question","hint_answer","captcha"),"captcha"===t&&o.push("phone"),n&&o.push("password_confirm"),o.forEach((function(e){delete i[e]})),i}};t.a=p},znTbw0iOKLShrW2tHvtf:function(e,t,n){"use strict";n.d(t,"a",(function(){return l}));var r=n("Cn0bb7dlXdz9iLHfBkZ3");var o=n("7/9pYbQkeaSMYb1NzrDG"),i=n("FUZ6AA4Oce8/2wMDn7Ki");function a(e){return function(t){var n=window.Howl,r=e.voice&&e.voice.intro_url&&e.voice.url;if(t((function(e,t){var n=t().captcha,r=n.introSound,o=n.captchaSound;r&&"function"==typeof r.unload&&r.unload(),o&&"function"==typeof o.unload&&o.unload()})),!n||!r)return t(Object(i.n)());var a=null,c=new Promise((function(r,i){return(a=new n({src:e.voice.intro_url,html5:!0,preload:!0,format:["mp3"]})).on("load",(function(){return r()})),a.on("loaderror",(function(){return i()})),a.on("end",(function(){return t(Object(o.a)())})),a})),u=null,s=new Promise((function(r,o){return(u=new n({src:e.voice.url,html5:!0,preload:!0,format:["mp3"]})).on("load",(function(){return r()})),u.on("loaderror",(function(){return o()})),u.on("end",(function(){return t(Object(i.j)(!1))})),u}));return Promise.all([c,s]).then((function(){return t(Object(i.o)(e.key,a,u))})).catch((function(){return t(Object(i.n)())}))}}var c=n("2RwP39fxF+52d7V4pFC1"),u=n("icG+8Jgv+BJiTL/fPTrX"),s=n("QgjbgVDbzfInN/CjWaXi");function l(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,n){var o=n(),l=o.common,f=l.track_id,d=l.uid,p=l.captchaScaleFactor,h=o.captcha,b=h.ocr,m=h.trackId,y=Object(u.d)(o),g=m||f||Object(u.h)(o,s.b.COMMON);t(Object(i.r)());var v={track_id:g,uid:d,language:y,ocr:b};p&&(v.scale_factor=p),m&&(v.track_id=m),r.a.request("textcaptcha",v,{abortPrevious:!0}).done((function(n){return t(Object(i.q)(n.key,n.image_url)),t(e?a(n):Object(c.a)(n))})).fail((function(e){t(Object(i.p)(e))}))}}}});
//# sourceMappingURL=https://s3.mds.yandex.net/passport-source-maps/core/v0.2.169-11/react.authv2.react.ru.js.map